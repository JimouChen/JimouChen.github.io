<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å¹¶æŸ¥é›†</title>
    <url>/2020/11/24/AndCollect/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼špythonå®ç°å¹¶æŸ¥é›†</p>
<a id="more"></a>

<h1 id="å¹¶æŸ¥é›†æ¨¡æ¿"><a href="#å¹¶æŸ¥é›†æ¨¡æ¿" class="headerlink" title="å¹¶æŸ¥é›†æ¨¡æ¿"></a>å¹¶æŸ¥é›†æ¨¡æ¿</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/11/24</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">Max = <span class="number">1000</span></span><br><span class="line">parents = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, Max)]  <span class="comment"># åˆå§‹åŒ–Maxä¸ªé¡¶ç‚¹</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> parents[x] == x:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        t = find(parents[x])  <span class="comment"># ä¼˜åŒ–</span></span><br><span class="line">        parents[x] = t</span><br><span class="line">        <span class="keyword">return</span> t</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">union</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    x = find(x)</span><br><span class="line">    y = find(y)</span><br><span class="line">    <span class="keyword">if</span> x == y:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    parents[x] = y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ä¸¾ä¾‹â€”â€”ç•…é€šå·¥ç¨‹"><a href="#ä¸¾ä¾‹â€”â€”ç•…é€šå·¥ç¨‹" class="headerlink" title="ä¸¾ä¾‹â€”â€”ç•…é€šå·¥ç¨‹"></a>ä¸¾ä¾‹â€”â€”ç•…é€šå·¥ç¨‹</h1><ul>
<li><p>é—®é¢˜æè¿°</p>
<blockquote>
<p>æŸçœè°ƒæŸ¥åŸé•‡äº¤é€šçŠ¶å†µï¼Œå¾—åˆ°ç°æœ‰åŸé•‡é“è·¯ç»Ÿè®¡è¡¨ï¼Œè¡¨ä¸­åˆ—å‡ºäº†æ¯æ¡é“è·¯ç›´æ¥è¿é€šçš„åŸé•‡ã€‚çœæ”¿åºœâ€œç•…é€šå·¥ç¨‹â€çš„ç›®æ ‡æ˜¯ä½¿å…¨çœä»»ä½•ä¸¤ä¸ªåŸé•‡é—´éƒ½å¯ä»¥å®ç°äº¤é€šï¼ˆä½†ä¸ä¸€å®šæœ‰ç›´æ¥çš„é“è·¯ç›¸è¿ï¼Œåªè¦äº’ç›¸é—´æ¥é€šè¿‡é“è·¯å¯è¾¾å³å¯ï¼‰ã€‚é—®æœ€å°‘è¿˜éœ€è¦å»ºè®¾å¤šå°‘æ¡é“è·¯ï¼Ÿ</p>
</blockquote>
</li>
<li><p>è¾“å…¥</p>
<blockquote>
<p>æµ‹è¯•è¾“å…¥åŒ…å«è‹¥å¹²æµ‹è¯•ç”¨ä¾‹ã€‚æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„ç¬¬1è¡Œç»™å‡ºä¸¤ä¸ªæ­£æ•´æ•°ï¼Œåˆ†åˆ«æ˜¯åŸé•‡æ•°ç›®N ( &lt; 1000 )å’Œé“è·¯æ•°ç›®Mï¼›éšåçš„Mè¡Œå¯¹åº”Mæ¡é“è·¯ï¼Œæ¯è¡Œç»™å‡ºä¸€å¯¹æ­£æ•´æ•°ï¼Œåˆ†åˆ«æ˜¯è¯¥æ¡é“è·¯ç›´æ¥è¿é€šçš„ä¸¤ä¸ªåŸé•‡çš„ç¼–å·ã€‚ä¸ºç®€å•èµ·è§ï¼ŒåŸé•‡ä»1åˆ°Nç¼–å·ã€‚ </p>
<pre><code>æ³¨æ„:ä¸¤ä¸ªåŸå¸‚ä¹‹é—´å¯ä»¥æœ‰å¤šæ¡é“è·¯ç›¸é€š,ä¹Ÿå°±æ˜¯è¯´
3 3
1 2
1 2
2 1
è¿™ç§è¾“å…¥ä¹Ÿæ˜¯åˆæ³•çš„
å½“Nä¸º0æ—¶ï¼Œè¾“å…¥ç»“æŸï¼Œè¯¥ç”¨ä¾‹ä¸è¢«å¤„ç†ã€‚
</code></pre>
</blockquote>
</li>
<li><p>è¾“å‡º</p>
<blockquote>
<p>å¯¹æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨1è¡Œé‡Œè¾“å‡ºæœ€å°‘è¿˜éœ€è¦å»ºè®¾çš„é“è·¯æ•°ç›®ã€‚</p>
</blockquote>
</li>
<li><p>æ ·ä¾‹è¾“å…¥<br>5 3<br>1 2<br>3 2<br>4 5<br>0</p>
</li>
<li><p>æ ·ä¾‹è¾“å‡º<br>1</p>
</li>
</ul>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/11/24</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> par[x] == x:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        t = find(par[x])  <span class="comment"># ä¼˜åŒ–</span></span><br><span class="line">        par[x] = t</span><br><span class="line">        <span class="keyword">return</span> t</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># def find(x):</span></span><br><span class="line"><span class="comment">#     if par[x] != x:</span></span><br><span class="line"><span class="comment">#         t = find(par[x])</span></span><br><span class="line"><span class="comment">#         par[x] = t</span></span><br><span class="line"><span class="comment">#         return t</span></span><br><span class="line"><span class="comment">#     return x</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">union</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    x = find(x)</span><br><span class="line">    y = find(y)</span><br><span class="line">    <span class="keyword">if</span> x == y:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    par[x] = y</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># nä¸ªèŠ‚ç‚¹ï¼Œmä¸ªé›†åˆ</span></span><br><span class="line">        n, m = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        par = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è‹¥åˆå¹¶åˆ°æœ€åæœ‰cntä¸ªé›†åˆï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´è‡³å°‘éœ€è¦cnt-1æ¡è¾¹ä½¿å¾—ä»»æ„ä¸€ä¸ªç‚¹å¯ä»¥é€šç•…åˆ°è¾¾å…¶ä»–ä»»æ„ä¸€ä¸ªç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            a, b = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">            union(a - <span class="number">1</span>, b - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        cnt = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, n):</span><br><span class="line">            <span class="keyword">if</span> par[i] == i:</span><br><span class="line">                cnt += <span class="number">1</span></span><br><span class="line">        print(cnt - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ç»“æœ<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">5 3</span><br><span class="line">1 2</span><br><span class="line">3 2</span><br><span class="line">4 5</span><br><span class="line">1</span><br><span class="line">4 2</span><br><span class="line">1 3</span><br><span class="line">4 3</span><br><span class="line">1</span><br><span class="line">0</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>OJ</tag>
      </tags>
  </entry>
  <entry>
    <title>å›æº¯ç®—æ³•</title>
    <url>/2020/11/26/BacktrackingAlgorithm/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šç´ æ•°ç¯ã€å…¨æ’åˆ—ã€å›¾ç€è‰²ã€nçš‡åã€dfs+å›æº¯ã€</p>
<a id="more"></a>

<h1 id="ç´ æ•°ç¯"><a href="#ç´ æ•°ç¯" class="headerlink" title="ç´ æ•°ç¯"></a>ç´ æ•°ç¯</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/11/25</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"></span><br><span class="line">n = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">num = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n + <span class="number">1</span>)]</span><br><span class="line">flag = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n + <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­ç´ æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prime</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="built_in">int</span>(sqrt(x)) + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> x % i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># x æ˜¯å½“å‰çš„æ•°ï¼Œvæ˜¯æ»¡è¶³æ¡ä»¶çš„å‰ä¸€ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x, v</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x == n + <span class="number">1</span>:</span><br><span class="line">        <span class="comment"># åˆ¤æ–­æœ€åä¸€ä¸ªæ•°å’Œç¬¬ä¸€ä¸ªæ•°ä¹‹å’Œ</span></span><br><span class="line">        <span class="keyword">if</span> prime(v + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">                print(num[i], end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">            print()</span><br><span class="line">            <span class="keyword">return</span>  <span class="comment"># returnçš„ä½ç½®æ˜¯å’ŒforåŒä¸€çº§çš„</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> flag[i] == <span class="number">0</span> <span class="keyword">and</span> prime(i + v):</span><br><span class="line">            flag[i] = <span class="number">1</span></span><br><span class="line">            num[x] = i</span><br><span class="line">            dfs(x + <span class="number">1</span>, i)</span><br><span class="line">            flag[i] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">num[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">flag[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">dfs(<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">6</span></span><br><span class="line"><span class="string">1 4 3 2 5 6 </span></span><br><span class="line"><span class="string">1 6 5 2 3 4 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">8</span></span><br><span class="line"><span class="string">1 2 3 8 5 6 7 4 </span></span><br><span class="line"><span class="string">1 2 5 8 3 4 7 6 </span></span><br><span class="line"><span class="string">1 4 7 6 5 8 3 2 </span></span><br><span class="line"><span class="string">1 6 7 4 3 8 5 2 </span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><ul>
<li>æŠŠç´ æ•°åˆ¤æ–­ç”¨ç´ æ•°è¡¨æ ‡å¿—å­˜å‚¨ï¼Œæé«˜æ•ˆç‡<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">ä¼˜åŒ–çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ç´ æ•°è¡¨ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½éå†åˆ¤æ–­äº†</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">k = <span class="number">0</span></span><br><span class="line"><span class="comment"># ç´ æ•°è¡¨ï¼Œ1è¡¨ç¤ºç´ æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prime_table</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">global</span> k</span><br><span class="line">    l = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(x + <span class="number">1</span>)]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, x + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="built_in">int</span>(sqrt(i)) + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> i % k == <span class="number">0</span>:</span><br><span class="line">                l[i] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> l</span><br><span class="line"></span><br><span class="line">prime = prime_table(n+<span class="number">100</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="å…¨æ’åˆ—"><a href="#å…¨æ’åˆ—" class="headerlink" title="å…¨æ’åˆ—"></a>å…¨æ’åˆ—</h1></li>
<li>åšæ³•ç±»ä¼¼</li>
<li>è§ <a href="https://paste.ubuntu.com/p/PgwX92bBq6/">https://paste.ubuntu.com/p/PgwX92bBq6/</a></li>
</ul>
<h1 id="å›¾ç€è‰²"><a href="#å›¾ç€è‰²" class="headerlink" title="å›¾ç€è‰²"></a>å›¾ç€è‰²</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/11/26</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">è¾“å…¥nä¸ªé¡¶ç‚¹ï¼Œmç§é¢œè‰²ï¼Œè¿˜æœ‰è¯¥å›¾çš„é‚»æ¥çŸ©é˜µ</span></span><br><span class="line"><span class="string">å‡è®¾ç¬¬ä¸€ä¸ªé¡¶ç‚¹æ˜¯1ï¼Œç¬¬ä¸€ç§é¢œè‰²æ˜¯1</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">n, m = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">graph = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]  <span class="comment"># å­˜æ”¾é‚»æ¥çŸ©é˜µ</span></span><br><span class="line">color = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]  <span class="comment"># å­˜æ”¾æœ€åç¬¦åˆç€è‰²æƒ…å†µ</span></span><br><span class="line">cnt = <span class="number">0</span>  <span class="comment"># è®°å½•æœ‰å¤šå°‘ç§ç€è‰²æ–¹æ¡ˆ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ç¬¬iä¸ªé¡¶ç‚¹çš„é¢œè‰²æ˜¯å¦æ»¡è¶³æ¡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">k</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, k + <span class="number">1</span>):</span><br><span class="line">        <span class="comment"># kä¸iä¹‹é—´ç›¸è¿å¹¶ä¸”ié¡¶ç‚¹çš„é¢œè‰²ä¸ké¡¶ç‚¹çš„é¢œè‰²ç›¸åŒ</span></span><br><span class="line">        <span class="keyword">if</span> graph[k][i] == <span class="number">1</span> <span class="keyword">and</span> color[i] == color[k]:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">step</span>):</span></span><br><span class="line">    <span class="keyword">global</span> cnt</span><br><span class="line">    <span class="comment"># æ‰€æœ‰çš„é¡¶ç‚¹å·²ç»æ¶‚å®Œé¢œè‰²</span></span><br><span class="line">    <span class="keyword">if</span> step == n + <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">            print(color[i], end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        print()</span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># éå†å¡«mç§é¢œè‰²</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, m + <span class="number">1</span>):</span><br><span class="line">        color[step] = i</span><br><span class="line">        <span class="keyword">if</span> check(step):</span><br><span class="line">            dfs(step + <span class="number">1</span>)</span><br><span class="line">        color[step] = <span class="number">0</span>  <span class="comment"># å›æº¯ï¼Œ0è¡¨ç¤ºæ²¡æœ‰ç€è‰²</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">        temp = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split()))</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">            graph[i][j] = temp[j - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    dfs(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">&#x27;æ€»æ–¹æ¡ˆæ•°: &#x27;</span>, cnt)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">5 4 </span></span><br><span class="line"><span class="string">0 1 1 1 0 </span></span><br><span class="line"><span class="string">1 0 1 1 1 </span></span><br><span class="line"><span class="string">1 1 0 1 0 </span></span><br><span class="line"><span class="string">1 1 1 0 1 </span></span><br><span class="line"><span class="string">0 1 0 1 0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">48</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">5 4 </span><br><span class="line">0 1 1 1 0 </span><br><span class="line">1 0 1 1 1 </span><br><span class="line">1 1 0 1 0 </span><br><span class="line">1 1 1 0 1 </span><br><span class="line">0 1 0 1 0</span><br><span class="line"></span><br><span class="line">48</span><br></pre></td></tr></table></figure>


<h1 id="nçš‡å"><a href="#nçš‡å" class="headerlink" title="nçš‡å"></a>nçš‡å</h1><ul>
<li>Nçš‡åé—®é¢˜ï¼Œè¾“å…¥Nï¼Œè¾“å‡ºæ‰€æœ‰è§£çš„ä¸ªæ•°</li>
<li>è§£é¢˜æ€è·¯ï¼š<br>  å¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„å­˜æ”¾çš‡åçš„ä½ç½®ï¼Œæ¯”å¦‚chess[i] = j,è¡¨ç¤ºç¬¬iè¡Œçš„ç¬¬jåˆ—æœ‰å­˜æ”¾ä¸€ä¸ªæ£‹å­ï¼Œæ¯”èµ·äºŒç»´è¿™æ ·ä¼šçœç‚¹ç©ºé—´ã€‚å›æº¯ç»“åˆæ·±æœå¯¹æ‰€æœ‰æƒ…å†µç»§ç»­ç©·ä¸¾ï¼Œç¬¦åˆå°±ç»§ç»­ï¼Œä¸ç¬¦åˆå°±å›é€€ã€‚é€’å½’å‡ºå£å³æ˜¯å°†æ‰€æœ‰çš„æ£‹å­å·²ç»æ”¾å¥½ï¼Œæ­¤æ—¶ï¼Œè¡Œæ•°å·²ç»åˆ°è¾¾æœ€åä¸€è¡Œ+1.è¿™é‡Œä»ç¬¬0è¡Œå¼€å§‹ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/11/26</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">n = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">chess = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]  <span class="comment"># ä¸‹æ ‡ä»£è¡¨ç¬¬iè¡Œï¼Œè‹¥ä¸º1ï¼Œåˆ™è¡¨ç¤ºç¬¬jåˆ—æ£‹ç›˜å­˜æ”¾æ£‹å­</span></span><br><span class="line">cnt = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ£‹å­æ˜¯å¦å†²çªï¼Œiæ˜¯è¡Œï¼Œjæ˜¯åˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">i</span>):</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i):</span><br><span class="line">        <span class="comment"># æ£€æŸ¥åˆ—å’Œå¯¹è§’çº¿</span></span><br><span class="line">        <span class="keyword">if</span> chess[i] == chess[j] <span class="keyword">or</span> <span class="built_in">abs</span>(chess[i] - chess[j]) == i - j:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># iè¡¨ç¤ºç°åœ¨å·²ç»æ”¾åˆ°ç¬¬iè¡Œäº†</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">i</span>):</span></span><br><span class="line">    <span class="keyword">global</span> cnt</span><br><span class="line">    <span class="keyword">if</span> i == n:  <span class="comment"># èƒ½å¤Ÿæ”¾åˆ°æœ€åä¸€è¡Œè¯´æ˜è¿™ç§æƒ…å†µç¬¦åˆ</span></span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line">        print(chess)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        chess[i] = j  <span class="comment"># è¡¨ç¤ºç¬¬iè¡Œç¬¬jåˆ—æ”¾çš‡å</span></span><br><span class="line">        <span class="keyword">if</span> check(i):</span><br><span class="line">            dfs(i + <span class="number">1</span>)  <span class="comment"># ç¬¦åˆæ¡ä»¶å°±ç»§ç»­æ”¾ä¸‹ä¸€è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    dfs(<span class="number">0</span>)</span><br><span class="line">    print(<span class="string">&#x27;ä¸€å…±æœ‰&#123;&#125;ç§æ‘†æ”¾æ–¹æ³•&#x27;</span>.<span class="built_in">format</span>(cnt))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œç»“æœ<br><img src="https://img2020.cnblogs.com/blog/2134757/202011/2134757-20201126174424896-1615773289.png"></li>
<li><img src="https://img2020.cnblogs.com/blog/2134757/202011/2134757-20201126174442602-1373478577.png"></li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>OJ</tag>
      </tags>
  </entry>
  <entry>
    <title>è´å¶æ–¯åˆ†ç±»</title>
    <url>/2020/08/24/Bayes/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šæœºå™¨å­¦ä¹ è´å¶æ–¯åˆ†ç±»ã€è¯è¢‹æ¨¡å‹åº”ç”¨ã€è¯é¢‘æå–æ¨¡å‹</p>
<a id="more"></a>

<h4 id="è´å¶æ–¯åˆ†ç±»ç”¨é€”"><a href="#è´å¶æ–¯åˆ†ç±»ç”¨é€”" class="headerlink" title="è´å¶æ–¯åˆ†ç±»ç”¨é€”"></a>è´å¶æ–¯åˆ†ç±»ç”¨é€”</h4><ul>
<li><p>å’Œæ–‡æœ¬æœ‰å…³çš„åˆ†æåˆ†ç±»ç”¨è´å¶æ–¯åˆ†ç±»æ•ˆæœæ¯”è¾ƒå¥½</p>
</li>
<li><p>egï¼š</p>
<p>  é‚®ä»¶ï¼šæ€»ä½“100ï¼Œæ­£å¸¸70ï¼Œåƒåœ¾30ã€‚ </p>
<p>  â€œåŠè¯â€åœ¨æ­£å¸¸é‚®ä»¶ä¸­å‡ºç°10æ¬¡ï¼Œåœ¨åƒåœ¾é‚®ä»¶ä¸­å‡ºç°25æ¬¡ </p>
<p>  å‡è®¾Xä¸ºâ€œåŠè¯â€ï¼ŒHä¸ºåƒåœ¾é‚®ä»¶ </p>
<p>  ğ‘ƒ (ğ‘‹|ğ») =25/30=5/6 </p>
<p>  ğ‘ƒ(ğ»)=30/100=3/10 </p>
<p>  ğ‘ƒ (ğ‘‹) =35/100=7/20 </p>
<p>  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823215542324-676302155.png"></p>
</li>
</ul>
<pre><code>åŒ…å«â€œåŠè¯â€è¿™ä¸ªè¯çš„é‚®ä»¶å±äºåƒåœ¾é‚®ä»¶çš„æ¦‚ç‡ä¸º5/7 
</code></pre>
<ul>
<li><p>æœ‰ï¼š</p>
<ul>
<li>å¤šé¡¹å¼æ¨¡å‹</li>
<li>ä¼¯åŠªåˆ©æ¨¡å‹</li>
<li>é«˜æ–¯æ¨¡å‹<ul>
<li>é«˜æ–¯æ¨¡å‹ç”¨äºè¿ç»­å‹æ•°æ®æ•ˆæœå¥½</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="ç”¨sklearnå®ç°è´å¶æ–¯"><a href="#ç”¨sklearnå®ç°è´å¶æ–¯" class="headerlink" title="ç”¨sklearnå®ç°è´å¶æ–¯"></a>ç”¨sklearnå®ç°è´å¶æ–¯</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/13</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report, confusion_matrix</span><br><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> MultinomialNB, BernoulliNB, GaussianNB  <span class="comment"># å¯¼å…¥æœ´ç´ è´å¶æ–¯çš„ä¸‰ç§æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line">iris = load_iris()</span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(iris.data, iris.target)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;å»ºç«‹ä¸‰ç§è´å¶æ–¯æ¨¡å‹çœ‹çœ‹æ•ˆæœ&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹å¤šé¡¹å¼æ¨¡å‹</span></span><br><span class="line">mul = MultinomialNB()</span><br><span class="line">mul.fit(x_train, y_train)</span><br><span class="line">print(classification_report(mul.predict(x_test), y_test))</span><br><span class="line">print(confusion_matrix(mul.predict(x_test), y_test))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹ä¼¯åŠªåˆ©æ¨¡å‹</span></span><br><span class="line">bernoulli = BernoulliNB()</span><br><span class="line">bernoulli.fit(x_train, y_train)</span><br><span class="line">print(classification_report(bernoulli.predict(x_test), y_test))</span><br><span class="line">print(confusion_matrix(bernoulli.predict(x_test), y_test))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹é«˜æ–¯æ¨¡å‹</span></span><br><span class="line">gaussian = GaussianNB()</span><br><span class="line">gaussian.fit(x_train, y_train)</span><br><span class="line">print(classification_report(gaussian.predict(x_test), y_test))</span><br><span class="line">print(confusion_matrix(gaussian.predict(x_test), y_test))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">D:\Anaconda\Anaconda3\python.exe D:/Appication/PyCharm/Git/MachineLearning/machine_learning/è´å¶æ–¯/iris_è´å¶æ–¯.py</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           <span class="number">0</span>       <span class="number">1.00</span>      <span class="number">1.00</span>      <span class="number">1.00</span>         <span class="number">9</span></span><br><span class="line">           <span class="number">1</span>       <span class="number">1.00</span>      <span class="number">0.39</span>      <span class="number">0.56</span>        <span class="number">28</span></span><br><span class="line">           <span class="number">2</span>       <span class="number">0.06</span>      <span class="number">1.00</span>      <span class="number">0.11</span>         <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    accuracy                           <span class="number">0.55</span>        <span class="number">38</span></span><br><span class="line">   macro avg       <span class="number">0.69</span>      <span class="number">0.80</span>      <span class="number">0.56</span>        <span class="number">38</span></span><br><span class="line">weighted avg       <span class="number">0.98</span>      <span class="number">0.55</span>      <span class="number">0.66</span>        <span class="number">38</span></span><br><span class="line"></span><br><span class="line">[[ <span class="number">9</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span> <span class="number">11</span> <span class="number">17</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>]]</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           <span class="number">0</span>       <span class="number">1.00</span>      <span class="number">0.24</span>      <span class="number">0.38</span>        <span class="number">38</span></span><br><span class="line">           <span class="number">1</span>       <span class="number">0.00</span>      <span class="number">0.00</span>      <span class="number">0.00</span>         <span class="number">0</span></span><br><span class="line">           <span class="number">2</span>       <span class="number">0.00</span>      <span class="number">0.00</span>      <span class="number">0.00</span>         <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    accuracy                           <span class="number">0.24</span>        <span class="number">38</span></span><br><span class="line">   macro avg       <span class="number">0.33</span>      <span class="number">0.08</span>      <span class="number">0.13</span>        <span class="number">38</span></span><br><span class="line">weighted avg       <span class="number">1.00</span>      <span class="number">0.24</span>      <span class="number">0.38</span>        <span class="number">38</span></span><br><span class="line"></span><br><span class="line">[[ <span class="number">9</span> <span class="number">11</span> <span class="number">18</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>]]</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           <span class="number">0</span>       <span class="number">1.00</span>      <span class="number">1.00</span>      <span class="number">1.00</span>         <span class="number">9</span></span><br><span class="line">           <span class="number">1</span>       <span class="number">1.00</span>      <span class="number">0.85</span>      <span class="number">0.92</span>        <span class="number">13</span></span><br><span class="line">           <span class="number">2</span>       <span class="number">0.89</span>      <span class="number">1.00</span>      <span class="number">0.94</span>        <span class="number">16</span></span><br><span class="line"></span><br><span class="line">    accuracy                           <span class="number">0.95</span>        <span class="number">38</span></span><br><span class="line">   macro avg       <span class="number">0.96</span>      <span class="number">0.95</span>      <span class="number">0.95</span>        <span class="number">38</span></span><br><span class="line">weighted avg       <span class="number">0.95</span>      <span class="number">0.95</span>      <span class="number">0.95</span>        <span class="number">38</span></span><br><span class="line"></span><br><span class="line">[[ <span class="number">9</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span> <span class="number">11</span>  <span class="number">2</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span> <span class="number">16</span>]]</span><br><span class="line">D:\Anaconda\Anaconda3\lib\site-packages\sklearn\metrics\_classification.py:<span class="number">1221</span>: UndefinedMetricWarning: Recall <span class="keyword">and</span> F-score are ill-defined <span class="keyword">and</span> being <span class="built_in">set</span> to <span class="number">0.0</span> <span class="keyword">in</span> labels <span class="keyword">with</span> no true samples. Use `zero_division` parameter to control this behavior.</span><br><span class="line">  _warn_prf(average, modifier, msg_start, <span class="built_in">len</span>(result))</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>å¤šæ¬¡è¿è¡Œåå‘ç°é«˜æ–¯æ¨¡å‹çš„è´å¶æ–¯æ•ˆæœæœ€å¥½</li>
</ul>
<h4 id="è¯è¢‹æ¨¡å‹"><a href="#è¯è¢‹æ¨¡å‹" class="headerlink" title="è¯è¢‹æ¨¡å‹"></a>è¯è¢‹æ¨¡å‹</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;è¯è¢‹æ¨¡å‹&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> CountVectorizer</span><br><span class="line"></span><br><span class="line">texts = [<span class="string">&quot;dog cat fish&quot;</span>, <span class="string">&quot;dog cat cat&quot;</span>, <span class="string">&quot;fish bird&quot;</span>, <span class="string">&#x27;bird&#x27;</span>]</span><br><span class="line">cv = CountVectorizer()</span><br><span class="line">cv_fit = cv.fit_transform(texts)</span><br><span class="line"></span><br><span class="line">print(cv.get_feature_names())</span><br><span class="line">print(cv_fit.toarray())</span><br><span class="line"></span><br><span class="line">print(cv_fit.toarray().<span class="built_in">sum</span>(axis=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[<span class="string">&#x27;bird&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;fish&#x27;</span>]</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">0</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]]</span><br><span class="line">[<span class="number">2</span> <span class="number">3</span> <span class="number">2</span> <span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>è®¡æ•°åªå¯¹è‹±æ–‡æ–‡æœ¬èµ·ä½œç”¨</li>
</ul>
<h4 id="è¯é¢‘æå–æ¨¡å‹ï¼ˆTFï¼‰"><a href="#è¯é¢‘æå–æ¨¡å‹ï¼ˆTFï¼‰" class="headerlink" title="è¯é¢‘æå–æ¨¡å‹ï¼ˆTFï¼‰"></a>è¯é¢‘æå–æ¨¡å‹ï¼ˆTFï¼‰</h4><ul>
<li> <a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=60">https://www.bilibili.com/video/BV1Rt411q7WJ?p=60</a></li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>èšç±»</title>
    <url>/2020/08/24/Clustering/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šæœºå™¨å­¦ä¹ èšç±»ç®—æ³•ï¼šK-Meansã€MiniBatchKMeansã€DBSCANç®—æ³•</p>
<a id="more"></a>

<h1 id="èšç±»ç®—æ³•"><a href="#èšç±»ç®—æ³•" class="headerlink" title="èšç±»ç®—æ³•"></a>èšç±»ç®—æ³•</h1><h4 id="K-Means"><a href="#K-Means" class="headerlink" title="K-Means"></a>K-Means</h4><ul>
<li><p>ç®—æ³•æ€æƒ³ï¼šä»¥ç©ºé—´ä¸­kä¸ªç‚¹ä¸ºä¸­å¿ƒè¿›è¡Œèšç±»ï¼Œå¯¹æœ€é è¿‘ä»–ä»¬çš„å¯¹è±¡å½’ç±»ã€‚é€šè¿‡è¿­ä»£çš„æ–¹æ³•ï¼Œé€æ¬¡æ›´æ–°å„èšç±»ä¸­å¿ƒçš„å€¼ï¼Œç›´è‡³å¾—åˆ°æœ€å¥½çš„èšç±»ç»“æœ</p>
</li>
<li><p>è·Ÿåˆ†ç±»ç›¸æ¯”ï¼Œæ²¡æœ‰ç»™å®šå·²çŸ¥æ ‡ç­¾</p>
</li>
<li><p>ç”¨pythonä»£ç è‡ªå·±å®ç°çš„Kmeansï¼š <a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=62">https://www.bilibili.com/video/BV1Rt411q7WJ?p=62</a></p>
<ul>
<li>æ³¨æ„ï¼šsklearnè‡ªå¸¦çš„KMeansæ•ˆæœè¦æ¯”è‡ªå·±å®ç°çš„Kmeansæ•ˆæœå¥½</li>
</ul>
</li>
<li><p>ç”¨sklearnå®ç°</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/13</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans  <span class="comment"># å¯¼å…¥KMeans</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è½½å…¥æ•°æ®</span></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;kmeans.txt&#x27;</span>, delimiter=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># è®¾ç½®kå€¼</span></span><br><span class="line">k = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºæ¨¡</span></span><br><span class="line">model = KMeans(n_clusters=k)</span><br><span class="line">model.fit(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å„åˆ†ç±»çš„ä¸­å¿ƒç‚¹åæ ‡</span></span><br><span class="line">centers = model.cluster_centers_</span><br><span class="line">print(centers)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„æµ‹ç»“æœ</span></span><br><span class="line">prediction = model.predict(data)</span><br><span class="line">print(prediction)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾</span></span><br><span class="line">colors = [<span class="string">&#x27;or&#x27;</span>, <span class="string">&#x27;ob&#x27;</span>, <span class="string">&#x27;og&#x27;</span>, <span class="string">&#x27;oy&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i, d <span class="keyword">in</span> <span class="built_in">enumerate</span>(data):</span><br><span class="line">    plt.plot(d[<span class="number">0</span>], d[<span class="number">1</span>], colors[prediction[i]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºå„ä¸ªåˆ†ç±»çš„ä¸­å¿ƒç‚¹</span></span><br><span class="line">mark = [<span class="string">&#x27;*r&#x27;</span>, <span class="string">&#x27;*b&#x27;</span>, <span class="string">&#x27;*g&#x27;</span>, <span class="string">&#x27;*y&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i, center <span class="keyword">in</span> <span class="built_in">enumerate</span>(centers):</span><br><span class="line">    plt.plot(center[<span class="number">0</span>], center[<span class="number">1</span>], mark[i], markersize=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ•°æ®å€¼æ‰€åœ¨çš„èŒƒå›´</span></span><br><span class="line">x_min, x_max = data[:, <span class="number">0</span>].<span class="built_in">min</span>() - <span class="number">1</span>, data[:, <span class="number">0</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line">y_min, y_max = data[:, <span class="number">1</span>].<span class="built_in">min</span>() - <span class="number">1</span>, data[:, <span class="number">1</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆç½‘æ ¼çŸ©é˜µ</span></span><br><span class="line">xx, yy = np.meshgrid(np.arange(x_min, x_max, <span class="number">0.02</span>),</span><br><span class="line">                     np.arange(y_min, y_max, <span class="number">0.02</span>))</span><br><span class="line"></span><br><span class="line">z = model.predict(np.c_[xx.ravel(), yy.ravel()])  <span class="comment"># ravelä¸flattenç±»ä¼¼ï¼Œå¤šç»´æ•°æ®è½¬ä¸€ç»´ã€‚flattenä¸ä¼šæ”¹å˜åŸå§‹æ•°æ®ï¼Œravelä¼šæ”¹å˜åŸå§‹æ•°æ®</span></span><br><span class="line">z = z.reshape(xx.shape)</span><br><span class="line"><span class="comment"># ç­‰é«˜çº¿å›¾</span></span><br><span class="line">cs = plt.contourf(xx, yy, z)</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºç»“æœ</span></span><br><span class="line"><span class="comment"># ç”»å‡ºå„ä¸ªæ•°æ®ç‚¹ï¼Œç”¨ä¸åŒé¢œè‰²è¡¨ç¤ºåˆ†ç±»</span></span><br><span class="line">mark = [<span class="string">&#x27;or&#x27;</span>, <span class="string">&#x27;ob&#x27;</span>, <span class="string">&#x27;og&#x27;</span>, <span class="string">&#x27;oy&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i, d <span class="keyword">in</span> <span class="built_in">enumerate</span>(data):</span><br><span class="line">    plt.plot(d[<span class="number">0</span>], d[<span class="number">1</span>], mark[prediction[i]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºå„ä¸ªåˆ†ç±»çš„ä¸­å¿ƒç‚¹</span></span><br><span class="line">mark = [<span class="string">&#x27;*r&#x27;</span>, <span class="string">&#x27;*b&#x27;</span>, <span class="string">&#x27;*g&#x27;</span>, <span class="string">&#x27;*y&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i, center <span class="keyword">in</span> <span class="built_in">enumerate</span>(centers):</span><br><span class="line">    plt.plot(center[<span class="number">0</span>], center[<span class="number">1</span>], mark[i], markersize=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[[ <span class="number">2.6265299</span>   <span class="number">3.10868015</span>]</span><br><span class="line"> [-<span class="number">3.38237045</span> -<span class="number">2.9473363</span> ]</span><br><span class="line"> [ <span class="number">2.80293085</span> -<span class="number">2.7315146</span> ]</span><br><span class="line"> [-<span class="number">2.46154315</span>  <span class="number">2.78737555</span>]]</span><br><span class="line">[<span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span></span><br><span class="line"> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823220137389-1026616917.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823220144842-782323864.png"></p>
<blockquote>
<p>model.fit(data) åªä¼ ä¸€ä¸ª</p>
</blockquote>
<h4 id="MiniBatchKMeansæ¨¡å‹"><a href="#MiniBatchKMeansæ¨¡å‹" class="headerlink" title="MiniBatchKMeansæ¨¡å‹"></a>MiniBatchKMeansæ¨¡å‹</h4><ul>
<li>Mini Batch K-Meansç®—æ³•æ˜¯K-Meansç®—æ³•çš„å˜ç§</li>
<li>ä¸Kå‡å€¼ç®—æ³•ç›¸æ¯”ï¼Œæ•°æ®çš„æ›´æ–°æ˜¯åœ¨æ¯ä¸€ä¸ªå°çš„æ ·æœ¬é›†ä¸Šã€‚Mini Batch K-Meansæ¯”K-Meansæœ‰æ›´å¿«çš„ æ”¶æ•›é€Ÿåº¦ï¼Œä½†åŒæ—¶ä¹Ÿé™ä½äº†èšç±»çš„æ•ˆæœï¼Œä½†æ˜¯åœ¨å®é™…é¡¹ç›®ä¸­å´è¡¨ç°å¾—ä¸æ˜æ˜¾</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/13</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> MiniBatchKMeans</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;é€‚ç”¨äºæ•°æ®å¤šçš„æƒ…å†µï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µè¿˜æ˜¯ç”¨KMeans&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;kmeans.txt&#x27;</span>, delimiter=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">k = <span class="number">4</span></span><br><span class="line"></span><br><span class="line">model = MiniBatchKMeans(n_clusters=k)</span><br><span class="line">model.fit(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ†ç±»ä¸­å¿ƒåæ ‡</span></span><br><span class="line">centers = model.cluster_centers_</span><br><span class="line">print(centers)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„æµ‹ç»“æœ</span></span><br><span class="line">pred_res = model.predict(data)</span><br><span class="line">print(pred_res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾</span></span><br><span class="line">colors = [<span class="string">&#x27;or&#x27;</span>, <span class="string">&#x27;ob&#x27;</span>, <span class="string">&#x27;og&#x27;</span>, <span class="string">&#x27;oy&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i, d <span class="keyword">in</span> <span class="built_in">enumerate</span>(data):</span><br><span class="line">    plt.plot(d[<span class="number">0</span>], d[<span class="number">1</span>], colors[pred_res[i]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºå„ä¸ªåˆ†ç±»çš„ä¸­å¿ƒç‚¹</span></span><br><span class="line">mark = [<span class="string">&#x27;*r&#x27;</span>, <span class="string">&#x27;*b&#x27;</span>, <span class="string">&#x27;*g&#x27;</span>, <span class="string">&#x27;*y&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i, center <span class="keyword">in</span> <span class="built_in">enumerate</span>(centers):</span><br><span class="line">    plt.plot(center[<span class="number">0</span>], center[<span class="number">1</span>], mark[i], markersize=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ul>
<li><p>KMeansçš„4ä¸ªé—®é¢˜ï¼š <a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=65">https://www.bilibili.com/video/BV1Rt411q7WJ?p=65</a> </p>
<ul>
<li><p>å¯¹kä¸ªåˆå§‹è´¨å¿ƒçš„é€‰æ‹©æ¯”è¾ƒæ•æ„Ÿï¼Œå®¹æ˜“é™·å…¥å±€éƒ¨æœ€å°å€¼</p>
</li>
<li><p>kå€¼çš„é€‰æ‹©æ˜¯ç”¨æˆ·æŒ‡å®šçš„ï¼Œä¸åŒçš„kå¾—åˆ°çš„ç»“æœä¼šæœ‰æŒºå¤§çš„ä¸åŒ</p>
</li>
<li><p>å­˜åœ¨å±€é™æ€§ï¼Œå¦‚ä¸‹é¢è¿™ç§éçƒçŠ¶çš„æ•°æ®åˆ†å¸ƒå°±æä¸å®šäº†</p>
<p>  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823220248409-929515507.png"></p>
</li>
</ul>
</li>
</ul>
<pre><code>- æ•°æ®æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œæ”¶æ•›ä¼šæ¯”è¾ƒæ…¢
</code></pre>
<h4 id="DBSCAN"><a href="#DBSCAN" class="headerlink" title="DBSCAN"></a>DBSCAN</h4><ul>
<li>æœ¬ç®—æ³•å°†å…·æœ‰è¶³å¤Ÿé«˜å¯†åº¦çš„åŒºåŸŸåˆ’åˆ†ä¸ºç°‡ï¼Œå¹¶å¯ä»¥å‘ç°ä»»ä½•å½¢çŠ¶çš„èšç±»</li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823220327206-122017119.png"></p>
<ul>
<li><p>ç®—æ³•æ€æƒ³ï¼š <a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=69">https://www.bilibili.com/video/BV1Rt411q7WJ?p=69</a> </p>
</li>
<li><p>ç¼ºç‚¹ï¼š </p>
<ul>
<li>â€¢ å½“æ•°æ®é‡å¢å¤§æ—¶ï¼Œè¦æ±‚è¾ƒå¤§çš„å†…å­˜æ”¯æŒI/Oæ¶ˆè€—ä¹Ÿå¾ˆå¤§ã€‚ </li>
<li>â€¢ å½“ç©ºé—´èšç±»çš„å¯†åº¦ä¸å‡åŒ€ã€èšç±»é—´è·å·®ç›¸å·®å¾ˆå¤§æ—¶ï¼Œèšç±»è´¨é‡è¾ƒå·®ã€‚ </li>
</ul>
</li>
<li><p>DBSCANå’ŒK-MEANSæ¯”è¾ƒï¼š </p>
<ul>
<li>â€¢ DBSCANä¸éœ€è¦è¾“å…¥èšç±»ä¸ªæ•°ã€‚ </li>
<li>â€¢ èšç±»ç°‡çš„å½¢çŠ¶æ²¡æœ‰è¦æ±‚ã€‚ </li>
<li>â€¢ å¯ä»¥åœ¨éœ€è¦æ—¶è¾“å…¥è¿‡æ»¤å™ªå£°çš„å‚æ•°ã€‚</li>
</ul>
</li>
<li><p>å…³é”®å‚æ•°</p>
<ul>
<li><p>esp</p>
</li>
<li><p>min_point</p>
<blockquote>
<p>å³é€šè¿‡è°ƒæ•´eps=, min_samples=æ¥æ‰¾åˆ°ä¸€ä¸ªæœ€å¥½çš„æ•ˆæœ</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/21</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> DBSCAN</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;kmeans.txt&#x27;</span>, delimiter=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># å»ºæ¨¡</span></span><br><span class="line"><span class="comment"># espè·ç¦»é˜ˆå€¼ï¼Œmin_samplesåœ¨espé¢†åŸŸé‡Œé¢çš„æ ·æœ¬æ•°</span></span><br><span class="line">model = DBSCAN(eps=<span class="number">1.5</span>, min_samples=<span class="number">4</span>)</span><br><span class="line">model.fit(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„æµ‹,fit_predictæ˜¯å…ˆæ‹Ÿåˆåé¢„æµ‹ï¼ŒDBSCANæ²¡æœ‰predictæ–¹æ³•</span></span><br><span class="line">pred = model.fit_predict(data)</span><br><span class="line">print(pred)  <span class="comment"># é¢„æµ‹å€¼ä¸º-1çš„æ˜¯å™ªç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºå„ä¸ªæ•°æ®ç‚¹</span></span><br><span class="line">mark = [<span class="string">&#x27;or&#x27;</span>, <span class="string">&#x27;ob&#x27;</span>, <span class="string">&#x27;og&#x27;</span>, <span class="string">&#x27;oy&#x27;</span>, <span class="string">&#x27;ok&#x27;</span>, <span class="string">&#x27;om&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i, d <span class="keyword">in</span> <span class="built_in">enumerate</span>(data):</span><br><span class="line">    plt.plot(d[<span class="number">0</span>], d[<span class="number">1</span>], mark[pred[i]])</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823220446286-774725928.png"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[ 0  1  2  3  0  1  2  3  0  1  2  3  0  1 -1  2  0  1  2  3  0  1  2  3</span><br><span class="line">  0  1  2  3  0  1  2  3  0  1  2  3  0  1  2  3  0  1  2  3  0  1  2  3</span><br><span class="line">  0  1  2  3  0  1  2  3  0  1  2  3  0  1  2  3  0  1  2  3  0  1  2  3</span><br><span class="line">  0  1  2  3  0  1  2  3]</span><br></pre></td></tr></table></figure>
<ul>
<li>é¢„æµ‹å€¼æ˜¯-1 çš„ä»£è¡¨å™ªç‚¹</li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœº408ç®—æ³•ä¸æ•°æ®ç»“æ„</title>
    <url>/2020/08/25/Computer408/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šé™æ€åŠ¨æ€é¡ºåºè¡¨ã€å•é“¾è¡¨ã€åŒé“¾è¡¨ã€å¾ªç¯é“¾è¡¨ã€é¡ºåºæ ˆã€é“¾å¼æ ˆã€é¡ºåºå¾ªç¯é˜Ÿåˆ—ã€é“¾å¼é˜Ÿåˆ—</p>
<a id="more"></a>

<h1 id="åŠ¨æ€é¡ºåºè¡¨"><a href="#åŠ¨æ€é¡ºåºè¡¨" class="headerlink" title="åŠ¨æ€é¡ºåºè¡¨"></a>åŠ¨æ€é¡ºåºè¡¨</h1><ul>
<li>ä»¥ä¸‹å¢åˆ æŸ¥æ“ä½œæ˜¯ç´¢å¼•ä¸ºindexçš„ä¸‹æ ‡ï¼Œå…·ä½“æ ¹æ®è¦æ±‚åšæ”¹åŠ¨<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> initSize 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    ElemType *data;</span><br><span class="line">    <span class="keyword">int</span> length; <span class="comment">//å½“å‰çš„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">int</span> maxSize;<span class="comment">//æœ€å¤§é•¿åº¦</span></span><br><span class="line">&#125; SqlList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initList</span><span class="params">(SqlList &amp;L)</span> </span>&#123;</span><br><span class="line">    L.data = (ElemType *) <span class="built_in">malloc</span>(initSize * <span class="keyword">sizeof</span>(ElemType));</span><br><span class="line">    L.length = <span class="number">0</span>;</span><br><span class="line">    L.maxSize = initSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼€è¾Ÿç©ºé—´</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">createLength</span><span class="params">(SqlList &amp;L, <span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">    ElemType *p = L.data; <span class="comment">//å¤‡ä»½è½¬ç§»æ•°æ®</span></span><br><span class="line">    L.data = (ElemType *) <span class="built_in">malloc</span>((size + L.maxSize) * <span class="keyword">sizeof</span>(ElemType));</span><br><span class="line">    <span class="comment">// è½¬ç§»æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L.length; i++) &#123;</span><br><span class="line">        L.data[i] = p[i];</span><br><span class="line">    &#125;</span><br><span class="line">    L.maxSize += size;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">insertElem</span><span class="params">(SqlList &amp;L, <span class="keyword">int</span> index, ElemType x)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­åˆæ³•æ€§</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; L.length)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = L.length; i &gt; index; --i) &#123;</span><br><span class="line">        L.data[i] = L.data[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    L.data[index] = x;</span><br><span class="line">    L.length += <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">deleteElem</span><span class="params">(SqlList &amp;L, <span class="keyword">int</span> index, ElemType &amp;e)</span></span>&#123;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­åˆæ³•æ€§</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; L.length)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    e = L.data[index];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; L.length - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">        L.data[i] = L.data[i+<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    L.length -= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–å…ƒç´ </span></span><br><span class="line"><span class="function">ElemType <span class="title">getElem</span><span class="params">(SqlList L, <span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­åˆæ³•æ€§</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; L.length)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> L.data[index];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾å…ƒç´ ,æœ‰å°±è¿”å›ä¸‹æ ‡,æ²¡æœ‰å°±è¿”å›-1</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findElem</span><span class="params">(SqlList L, ElemType x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (L.data[i] == x) <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ‰“å°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showList</span><span class="params">(SqlList L)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L.length; ++i) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, L.data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;length = %d \n&quot;</span>, L.length);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    SqlList l;</span><br><span class="line">    ElemType x;</span><br><span class="line">    initList(l);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">        insertElem(l, i, i);</span><br><span class="line">    &#125;</span><br><span class="line">    showList(l);</span><br><span class="line">    insertElem(l, <span class="number">5</span>, <span class="number">999</span>);</span><br><span class="line">    showList(l);</span><br><span class="line">    deleteElem(l,<span class="number">2</span>, x);</span><br><span class="line">    showList(l);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d \n&quot;</span>, getElem(l, <span class="number">7</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;find: %d\n&quot;</span>, findElem(l,<span class="number">9</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h1><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200825221059037-114622396.png"></li>
</ul>
<h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><ul>
<li>å¸¦å¤´èŠ‚ç‚¹çš„<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">&#125; LNode, *LinkList; <span class="comment">//LinkList å’Œ LNode*æ˜¯ä¸€æ ·çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¸¦å¤´ç»“ç‚¹çš„ä¼šæ›´æ–¹ä¾¿ï¼Œè¿™é‡Œæ˜¯å¸¦å¤´èŠ‚ç‚¹çš„</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">initList</span><span class="params">(LinkList &amp;l)</span> </span>&#123;</span><br><span class="line">    l = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));<span class="comment">//LNode*å¼ºè°ƒçš„æ˜¯åˆ†é…ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥l = (LinkList)malloc(sizeof(LNode));</span></span><br><span class="line">    <span class="comment">//åˆ¤æ–­å†…å­˜å¤Ÿä¸å¤Ÿï¼Œå…¶å®å¯ä»¥ä¸ç”¨</span></span><br><span class="line">    <span class="keyword">if</span> (l == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    l-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>æ’å…¥å’Œåˆ é™¤æœ¬è´¨ä¸Šéƒ½æ˜¯æ‰¾åˆ°å‰é¢ä¸€ä¸ªèŠ‚ç‚¹</li>
</ul>
<h2 id="æ’å…¥æ“ä½œ"><a href="#æ’å…¥æ“ä½œ" class="headerlink" title="æ’å…¥æ“ä½œ"></a>æ’å…¥æ“ä½œ</h2><ul>
<li>å¸¦å¤´èŠ‚ç‚¹çš„æ’å…¥<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åœ¨ç¬¬iä¸ªä½ç½®æ’å…¥èŠ‚ç‚¹ï¼Œæœ¬è´¨ä¸Šè¦æ‰¾åˆ°ç¬¬i-1ä¸ªèŠ‚ç‚¹ï¼Œä»¥å¤´èŠ‚ç‚¹ä¸ºç¬¬0ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">insertElem</span><span class="params">(LinkList &amp;l, <span class="keyword">int</span> i, ElemType x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LinkList p = l;     <span class="comment">//på¼€å§‹æŒ‡å‘å¤´èŠ‚ç‚¹l,Lnode* p = l;</span></span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;          <span class="comment">//jè¡¨ç¤ºå½“å‰pæŒ‡å‘èŠ‚ç‚¹çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span> &amp;&amp; j &lt; i - <span class="number">1</span>) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//iä¸åˆæ³•,iå¤ªå¤§ï¼Œè¿œè¶…è¿‡èŠ‚ç‚¹ä¸ªæ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ°è¿™é‡Œæ—¶ï¼Œpå·²ç»åˆ°äº†i-1è¿™ä¸ªä½ç½®,å¯ä»¥å¼€è¾Ÿä¸€å—ç©ºé—´äº†</span></span><br><span class="line">    LNode *s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    s-&gt;data = x;</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>å¦‚æœæ˜¯ä¸å¸¦å¤´èŠ‚ç‚¹çš„<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸å¸¦å¤´èŠ‚ç‚¹çš„æ’å…¥</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">insertElemNoH</span><span class="params">(LinkList &amp;l, <span class="keyword">int</span> i, ElemType x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//å•ç‹¬å¤„ç†æ’å…¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</span><br><span class="line">        LNode *s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">        s-&gt;data = x;</span><br><span class="line">        s-&gt;next = l;</span><br><span class="line">        l = s;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸‹é¢æ“ä½œå’Œå¸¦å¤´èŠ‚ç‚¹çš„æ“ä½œæ˜¯ä¸€æ ·çš„</span></span><br><span class="line">    LNode *p = l;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (p &amp;&amp; j &lt; i - <span class="number">1</span>) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!p)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LNode *s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    s-&gt;data = x;</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å‰æ’æ“ä½œ"><a href="#å‰æ’æ“ä½œ" class="headerlink" title="å‰æ’æ“ä½œ"></a>å‰æ’æ“ä½œ</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å‰æ’æ“ä½œï¼Œåœ¨èŠ‚ç‚¹på‰é¢æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå€¼ä¸ºx</span></span><br><span class="line"><span class="comment">//æ—¶é—´å¤æ‚åº¦ä¸ºO(1)</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">insertPriorNode</span><span class="params">(LinkList &amp;l, LNode *p, ElemType x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!p)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LNode *s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    s-&gt;data = p-&gt;data;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line">    p-&gt;data = x;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>å’Œä¸Šé¢æœ¬è´¨ä¸€æ ·ï¼Œå…¶å®æ˜¯äº¤æ¢æ•°æ®<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¯¹äºæŒ‡å®šèŠ‚ç‚¹çš„å‰æ’æ“ä½œ,æ¯”å¦‚åœ¨pèŠ‚ç‚¹å‰æ’å…¥sèŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">insertPNode</span><span class="params">(LNode *p, LNode *s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!p || !s)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line">    ElemType temp = s-&gt;data;</span><br><span class="line">    s-&gt;data = p-&gt;data;</span><br><span class="line">    p-&gt;data = temp;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ é™¤æ“ä½œ"><a href="#åˆ é™¤æ“ä½œ" class="headerlink" title="åˆ é™¤æ“ä½œ"></a>åˆ é™¤æ“ä½œ</h2></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;åˆ é™¤ç¬¬iä¸ªèŠ‚ç‚¹,ç”±xå¸¦å›å€¼</span><br><span class="line">bool deleteElem(LinkList &amp;l, int i, ElemType &amp;x) &#123;</span><br><span class="line">    if (i &lt; 1)return false;</span><br><span class="line">    LNode *p &#x3D; l;</span><br><span class="line">    int j &#x3D; 0;&#x2F;&#x2F;pæŒ‡å‘çš„èŠ‚ç‚¹ä¸‹æ ‡</span><br><span class="line">    &#x2F;&#x2F;æ‰¾åˆ°ç¬¬i-1ä¸ªèŠ‚ç‚¹</span><br><span class="line">    while (p &amp;&amp; j &lt; i - 1) &#123;</span><br><span class="line">        p &#x3D; p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    if (!p)return false;&#x2F;&#x2F;iä¸åˆæ³•</span><br><span class="line">    if (!(p-&gt;next))return false;&#x2F;&#x2F;i-1åé¢æ²¡æœ‰èŠ‚ç‚¹äº†</span><br><span class="line">    &#x2F;&#x2F;ç°åœ¨pæŒ‡å‘i-1çš„ä½ç½®</span><br><span class="line">    LNode *q &#x3D; p-&gt;next;</span><br><span class="line">    x &#x3D; q-&gt;data;</span><br><span class="line">    p-&gt;next &#x3D; q-&gt;next;</span><br><span class="line">    free(q);</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>åˆ é™¤è¦æ³¨æ„ä¸€ä¸ªç»†èŠ‚<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (!p)return false;&#x2F;&#x2F;iä¸åˆæ³•</span><br><span class="line">if (!(p-&gt;next))return false;&#x2F;&#x2F;i-1åé¢æ²¡æœ‰èŠ‚ç‚¹äº†</span><br></pre></td></tr></table></figure>
<h3 id="åˆ é™¤æŒ‡å®šèŠ‚ç‚¹"><a href="#åˆ é™¤æŒ‡å®šèŠ‚ç‚¹" class="headerlink" title="åˆ é™¤æŒ‡å®šèŠ‚ç‚¹"></a>åˆ é™¤æŒ‡å®šèŠ‚ç‚¹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;åˆ é™¤æŒ‡å®šçš„èŠ‚ç‚¹</span><br><span class="line">bool deleteTElem(LNode* p)&#123;</span><br><span class="line">    if(!p || !(p-&gt;next)) return false;</span><br><span class="line">    LNode *s &#x3D; p-&gt;next;</span><br><span class="line">    p-&gt;data &#x3D; s-&gt;data;</span><br><span class="line">    p-&gt;next &#x3D; s-&gt;next;</span><br><span class="line">    free(s);</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><a href="https://www.bilibili.com/video/av92191094?p=11">å‚è€ƒ</a></li>
</ul>
<h2 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h2><h3 id="æŒ‰ä½æŸ¥æ‰¾"><a href="#æŒ‰ä½æŸ¥æ‰¾" class="headerlink" title="æŒ‰ä½æŸ¥æ‰¾"></a>æŒ‰ä½æŸ¥æ‰¾</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æŒ‰ä½æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬iä¸ª</span></span><br><span class="line"><span class="function">LNode *<span class="title">getElem</span><span class="params">(LinkList l, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    LNode *p = l;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;<span class="comment">//jæ˜¯pçš„ä½ç½®ä¸‹æ ‡</span></span><br><span class="line">    <span class="comment">//è®©è·³å‡ºå¾ªç¯æ—¶ï¼Œpè½åœ¨içš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">while</span> (p &amp;&amp; j &lt; i) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æŒ‰å€¼æŸ¥æ‰¾"><a href="#æŒ‰å€¼æŸ¥æ‰¾" class="headerlink" title="æŒ‰å€¼æŸ¥æ‰¾"></a>æŒ‰å€¼æŸ¥æ‰¾</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æŒ‰å€¼æŸ¥æ‰¾</span></span><br><span class="line"><span class="function">LNode * <span class="title">getElemByValue</span><span class="params">(LinkList l, ElemType x)</span></span>&#123;</span><br><span class="line">    LNode *p = l-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (p &amp;&amp; p-&gt;data != x)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;<span class="comment">//æ‰¾åˆ°è¿”å›è¯¥æŒ‡é’ˆï¼Œæ‰¾ä¸åˆ°è¿”å›NULL</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ±‚è¡¨é•¿"><a href="#æ±‚è¡¨é•¿" class="headerlink" title="æ±‚è¡¨é•¿"></a>æ±‚è¡¨é•¿</h2><ul>
<li>è¿™æ˜¯å¸¦å¤´èŠ‚ç‚¹çš„ï¼Œæ³¨æ„è¡¨å¤´ä¸ç®—å¦‚é•¿åº¦</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ±‚è¡¨çš„é•¿åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getLength</span><span class="params">(LinkList l)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    LNode *p = l-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (p)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        len++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å•é“¾è¡¨çš„å»ºç«‹"><a href="#å•é“¾è¡¨çš„å»ºç«‹" class="headerlink" title="å•é“¾è¡¨çš„å»ºç«‹"></a>å•é“¾è¡¨çš„å»ºç«‹</h2><ul>
<li>å¤´æ’æ³•</li>
<li>å°¾æ’æ³•</li>
</ul>
<h3 id="å°¾æ’æ³•"><a href="#å°¾æ’æ³•" class="headerlink" title="å°¾æ’æ³•"></a>å°¾æ’æ³•</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å°¾æ’æ³•</span></span><br><span class="line"><span class="function">LinkList <span class="title">insertNextNode</span><span class="params">(LinkList &amp;l)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    l = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));<span class="comment">//å»ºç«‹å¤´èŠ‚ç‚¹</span></span><br><span class="line">    l-&gt;next = <span class="literal">NULL</span>;<span class="comment">//å¦‚æœä»å¤–é¢ä¼ å…¥å·²ç»åˆå§‹åŒ–çš„lï¼Œé‚£è¿™é‡Œå°±ä¸ç”¨å†™è¿™åˆå§‹åŒ–2å¥</span></span><br><span class="line">    LNode *s, *p = l;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">9999</span>) &#123;</span><br><span class="line">        s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">        s-&gt;data = x;</span><br><span class="line">        <span class="comment">//s-&gt;next = NULL;</span></span><br><span class="line">        p-&gt;next = s;</span><br><span class="line">        p = s;  <span class="comment">//æ°¸è¿œä¿æŒpæŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å¤´æ’æ³•"><a href="#å¤´æ’æ³•" class="headerlink" title="å¤´æ’æ³•"></a>å¤´æ’æ³•</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¤´æ’æ³•</span></span><br><span class="line"><span class="function">LinkList <span class="title">insertHead</span><span class="params">(LinkList &amp;l)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    l = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));<span class="comment">//å»ºç«‹å¤´èŠ‚ç‚¹</span></span><br><span class="line">    l-&gt;next = <span class="literal">NULL</span>;<span class="comment">//å¦‚æœä»å¤–é¢ä¼ å…¥å·²ç»åˆå§‹åŒ–çš„lï¼Œé‚£è¿™é‡Œå°±ä¸ç”¨å†™è¿™åˆå§‹åŒ–2å¥</span></span><br><span class="line">    LNode *s;<span class="comment">//å¤´æ’æ³•åªéœ€è¦è®°ä½å¤´èŠ‚ç‚¹å°±è¡Œï¼Œæ‰€ä»¥ä¸ç”¨åƒå°¾æ’æ³•å¤šè®¾ä¸€ä¸ªpè®°å½•å°¾èŠ‚ç‚¹</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">9999</span>) &#123;</span><br><span class="line">        s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">        s-&gt;data = x;</span><br><span class="line">        s-&gt;next = l-&gt;next;</span><br><span class="line">        l-&gt;next = s;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="åŒé“¾è¡¨"><a href="#åŒé“¾è¡¨" class="headerlink" title="åŒé“¾è¡¨"></a>åŒé“¾è¡¨</h1><h2 id="å®šä¹‰-1"><a href="#å®šä¹‰-1" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">DNode</span> &#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">DNode</span> *<span class="title">prior</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">DNode</span> *<span class="title">next</span>;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">&#125; DNode, *DLinklist;</span><br></pre></td></tr></table></figure>


<h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">initList</span><span class="params">(DLinklist &amp;l)</span> </span>&#123;</span><br><span class="line">    l = (DLinklist) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(DNode));</span><br><span class="line">    <span class="keyword">if</span> (!l) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//å†…å­˜ä¸è¶³ï¼Œåˆ†é…å¤±è´¥çš„æƒ…å†µ</span></span><br><span class="line">    l-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    l-&gt;prior = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="åæ’"><a href="#åæ’" class="headerlink" title="åæ’"></a>åæ’</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åœ¨pèŠ‚ç‚¹åé¢æ’å…¥sèŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">insertNext</span><span class="params">(DNode *p, DNode *s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!p || !s) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;next) p-&gt;next-&gt;prior = s;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line">    s-&gt;prior = p;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="å‰åˆ "><a href="#å‰åˆ " class="headerlink" title="å‰åˆ "></a>å‰åˆ </h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åœ¨èŠ‚ç‚¹påé¢åˆ é™¤èŠ‚ç‚¹q</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">deleteNext</span><span class="params">(DNode *p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!p) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    DNode *q = p-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (!q) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    p-&gt;next = q-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (q-&gt;next) q-&gt;next-&gt;prior = p;</span><br><span class="line">    <span class="built_in">free</span>(q);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="é”€æ¯"><a href="#é”€æ¯" class="headerlink" title="é”€æ¯"></a>é”€æ¯</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é”€æ¯ï¼Œå³æ¯ä¸€æ¬¡éƒ½åˆ é™¤å¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">destroyList</span><span class="params">(DLinklist &amp;l)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//é‡Šæ”¾å„ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span> (l-&gt;next)</span><br><span class="line">        deleteNext(l);</span><br><span class="line">    <span class="built_in">free</span>(l);</span><br><span class="line">    l = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="åŒå‘å¾ªç¯é“¾è¡¨"><a href="#åŒå‘å¾ªç¯é“¾è¡¨" class="headerlink" title="åŒå‘å¾ªç¯é“¾è¡¨"></a>åŒå‘å¾ªç¯é“¾è¡¨</h1><ul>
<li>æ›´åŠ æ–¹ä¾¿</li>
<li>å®ç°æ¯”ä¸Šé¢ç®€å•</li>
</ul>
<h1 id="é¡ºåºæ ˆ"><a href="#é¡ºåºæ ˆ" class="headerlink" title="é¡ºåºæ ˆ"></a>é¡ºåºæ ˆ</h1><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é¡ºåºæ ˆ</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxSize 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    ElemType data[maxSize];</span><br><span class="line">    <span class="keyword">int</span> top; <span class="comment">//æ ˆé¡¶æŒ‡é’ˆ</span></span><br><span class="line">&#125; SeqStack;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(SeqStack &amp;s)</span> </span>&#123;</span><br><span class="line">    s.top = <span class="number">-1</span>; <span class="comment">//å‡è®¾æŒ‡å‘æ ˆé¡¶ï¼Œæ‰€ä»¥åˆšå¼€å§‹æ²¡æœ‰å…ƒç´ æ˜¯-1,åˆå§‹ä¹Ÿå¯ä»¥è®¾ä¸º0ï¼Œä¸è¿‡ä»£ç ç›¸åº”ä½œå‡ºæ”¹å˜</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­ç©º</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">(SeqStack s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s.top == <span class="number">-1</span>;<span class="comment">//ç©ºå°±è¿”å›true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿›æ ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">push</span><span class="params">(SeqStack &amp;s, ElemType x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s.top == maxSize - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//å·²æ»¡</span></span><br><span class="line">    s.data[++s.top] = x;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‡ºæ ˆ,ç”±xå¸¦å›</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">pop</span><span class="params">(SeqStack &amp;s, ElemType &amp;x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s.top == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//æ ˆç©º</span></span><br><span class="line">    x = s.data[s.top--];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–æ ˆé¡¶å…ƒç´ </span></span><br><span class="line"><span class="function">ElemType <span class="title">getTop</span><span class="params">(SeqStack s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s.top == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> s.data[s.top];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="é“¾å¼æ ˆ"><a href="#é“¾å¼æ ˆ" class="headerlink" title="é“¾å¼æ ˆ"></a>é“¾å¼æ ˆ</h1><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é“¾å¼æ ˆ</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxSize 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">&#125; LinkNode, *LinkStack;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–,è¿™é‡Œæ˜¯å¸¦å¤´èŠ‚ç‚¹çš„</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(LinkStack &amp;s)</span> </span>&#123;</span><br><span class="line">    s = (LinkNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkNode));</span><br><span class="line">    s-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­ç©º</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">(LinkStack s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s-&gt;next == <span class="literal">NULL</span>;<span class="comment">//ç©ºå°±è¿”å›true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿›æ ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">push</span><span class="params">(LinkStack &amp;s, ElemType x)</span> </span>&#123;</span><br><span class="line">    LinkNode *p = (LinkNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkNode));</span><br><span class="line">    p-&gt;data = x;</span><br><span class="line">    p-&gt;next = s-&gt;next;</span><br><span class="line">    s-&gt;next = p;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡ºæ ˆ,ç”±xå¸¦å›</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">pop</span><span class="params">(LinkStack &amp;s, ElemType &amp;x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s-&gt;next == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LinkNode *p = s, *q = s-&gt;next;</span><br><span class="line">    x = q-&gt;data;</span><br><span class="line">    p-&gt;next = q-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(q);</span><br><span class="line">    q = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–æ ˆé¡¶å…ƒç´ </span></span><br><span class="line"><span class="function">ElemType <span class="title">getTop</span><span class="params">(LinkStack s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s-&gt;next == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> s-&gt;next-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showData</span><span class="params">(LinkStack s)</span> </span>&#123;</span><br><span class="line">    LinkNode *p = s-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (p) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, p-&gt;data);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    LinkStack s = <span class="literal">NULL</span>;</span><br><span class="line">    initStack(s);</span><br><span class="line">    <span class="comment">//push</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        push(s, i);</span><br><span class="line">    &#125;</span><br><span class="line">    showData(s);</span><br><span class="line">    <span class="comment">//pop</span></span><br><span class="line">    ElemType x;</span><br><span class="line">    pop(s, x);</span><br><span class="line">    showData(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d \n&quot;</span>, x);</span><br><span class="line">    <span class="comment">//get</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d \n&quot;</span>, getTop(s));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">9 8 7 6 5 4 3 2 1 0</span><br><span class="line">8 7 6 5 4 3 2 1 0</span><br><span class="line">9</span><br><span class="line">8</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>


<h1 id="é¡ºåºå¾ªç¯é˜Ÿåˆ—"><a href="#é¡ºåºå¾ªç¯é˜Ÿåˆ—" class="headerlink" title="é¡ºåºå¾ªç¯é˜Ÿåˆ—"></a>é¡ºåºå¾ªç¯é˜Ÿåˆ—</h1><ul>
<li>åœ¨åˆ¤æ–­é˜Ÿç©ºå’Œé˜Ÿæ»¡æ—¶æœ‰3ç§æ–¹æ³•ï¼Œçœ‹æ•™æ</li>
<li>è¿™é‡Œåˆ—ä¸¾å…¶ä¸­ä¸€ç§<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxSize 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> rear, front; <span class="comment">//frontæŒ‡å‘é˜Ÿå¤´ç¬¬ä¸€ä¸ªï¼ŒrearæŒ‡å‘é˜Ÿå°¾çš„ä¸‹ä¸€ä¸ª</span></span><br><span class="line">    ElemType data[maxSize];</span><br><span class="line">&#125; SeqQueue;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initQueue</span><span class="params">(SeqQueue &amp;q)</span> </span>&#123;</span><br><span class="line">    q.front = q.rear = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­ç©º</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">(SeqQueue q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> q.rear == q.front;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¥é˜Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">enQueue</span><span class="params">(SeqQueue &amp;q, ElemType x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((q.rear + <span class="number">1</span>) % maxSize == q.front) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//å·²æ»¡çš„æƒ…å†µ</span></span><br><span class="line">    q.data[q.rear] = x;</span><br><span class="line">    q.rear %= maxSize;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡ºé˜Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">deQueue</span><span class="params">(SeqQueue &amp;q, ElemType &amp;x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (q.rear == q.front) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    x = q.data[q.front];</span><br><span class="line">    q.front = (q.front + <span class="number">1</span>) % maxSize;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–é˜Ÿå¤´å…ƒç´ </span></span><br><span class="line"><span class="function">ElemType <span class="title">getTop</span><span class="params">(SeqQueue q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (q.rear == q.front) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> q.data[q.front];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¡ç®—å¯¹å†…å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getNum</span><span class="params">(SeqQueue q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (q.rear + maxSize -q.front) % maxSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="é“¾å¼é˜Ÿåˆ—"><a href="#é“¾å¼é˜Ÿåˆ—" class="headerlink" title="é“¾å¼é˜Ÿåˆ—"></a>é“¾å¼é˜Ÿåˆ—</h1></li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; LinkNode;<span class="comment">//å¼ºè°ƒçš„æ˜¯èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    LinkNode *front, *rear;</span><br><span class="line">&#125; LinkQueue;<span class="comment">//å¼ºè°ƒçš„æ˜¯é˜Ÿåˆ—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initQueue</span><span class="params">(LinkQueue &amp;q)</span> </span>&#123;</span><br><span class="line">    q.front = q.rear = (LinkNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkNode));</span><br><span class="line">    q.front-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­ç©º</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">(LinkQueue q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> q.front == q.rear; <span class="comment">//æˆ–è€…å†™q.front-&gt;next == NULL;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¥é˜Ÿï¼ˆå¸¦å¤´ç»“ç‚¹çš„ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQueue</span><span class="params">(LinkQueue &amp;q, ElemType x)</span> </span>&#123;</span><br><span class="line">    LinkNode *p = (LinkNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkNode));</span><br><span class="line">    p-&gt;data = x;</span><br><span class="line">    p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    q.rear-&gt;next = p;</span><br><span class="line">    q.rear = p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœæ˜¯æ— å¤´èŠ‚ç‚¹çš„å…¥é˜Ÿï¼Œéœ€è¦åˆ¤æ–­å¤„ç†ä¸€ä¸‹å¯¹å¤´</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQueueNoHead</span><span class="params">(LinkQueue &amp;q, ElemType x)</span> </span>&#123;</span><br><span class="line">    LinkNode *p = (LinkNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkNode));</span><br><span class="line">    p-&gt;data = x;</span><br><span class="line">    p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="comment">//ç©ºé˜Ÿåˆ—çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> (q.front == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        q.rear = p;</span><br><span class="line">        q.front = p;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        q.rear-&gt;next = p;</span><br><span class="line">        q.rear = p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¸¦å¤´ç»“ç‚¹çš„å‡ºé˜Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">deQueue</span><span class="params">(LinkQueue &amp;q, ElemType &amp;x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (q.rear == q.front) <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//é˜Ÿç©º</span></span><br><span class="line">    LinkNode *p = q.front-&gt;next;</span><br><span class="line">    x = p-&gt;data;</span><br><span class="line">    q.front-&gt;next = p-&gt;next;</span><br><span class="line">    <span class="comment">//å¦‚æœåˆ é™¤çš„æ˜¯æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="keyword">if</span> (p == q.rear)<span class="comment">//æˆ–è€…p == NULL</span></span><br><span class="line">        q.rear == q.front;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸å¸¦å¤šèŠ‚ç‚¹çš„å‡ºé˜Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">deQueueNoHead</span><span class="params">(LinkQueue &amp;q, ElemType &amp;x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (q.front == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LinkNode *p = q.front;</span><br><span class="line">    x = p-&gt;data;</span><br><span class="line">    q.front = p-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (q.rear == p) &#123;<span class="comment">//æˆ–è€…q.front == NULL</span></span><br><span class="line">        q.front = <span class="literal">NULL</span>;</span><br><span class="line">        q.rear = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>è®¡ç®—æœº408ç®—æ³•ä¸æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœº408</tag>
        <tag>æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>ç³–å°¿ç—…æ¨¡å‹é¢„æµ‹</title>
    <url>/2020/09/06/DiabetesModelPrediction/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šKaggleç«èµ›é¢˜ï¼ŒMLå®ä¾‹åº”ç”¨</p>
<a id="more"></a>

<h1 id="diabetes-model-prediction"><a href="#diabetes-model-prediction" class="headerlink" title="diabetes model prediction"></a>diabetes model prediction</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/9/6</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> missingno <span class="keyword">as</span> msn</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">label_distribution</span>(<span class="params">data</span>):</span></span><br><span class="line">    p = data.Outcome.value_counts().plot(kind=<span class="string">&#x27;bar&#x27;</span>)  <span class="comment"># ä½¿ç”¨æŸ±çŠ¶å›¾ç”»å‡º</span></span><br><span class="line">    plt.show()</span><br><span class="line">    <span class="comment"># å¯è§†åŒ–æ•°æ®å‘å¸ƒ, æœ‰äº›æ•°æ®æœ¬ä¸è¯¥ä¸º0çš„å´ä¸º0ï¼Œå…¶å®æ˜¯ç©ºçš„</span></span><br><span class="line">    p = seaborn.pairplot(data, hue=<span class="string">&#x27;Outcome&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">    <span class="comment"># æŠŠç©ºå€¼çš„ç”¨æŸ±çŠ¶å›¾ç”»å‡ºæ¥</span></span><br><span class="line">    p = msn.bar(data)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_data</span>():</span></span><br><span class="line">    data = pd.read_csv(<span class="string">&#x27;data/diabetes.csv&#x27;</span>)</span><br><span class="line">    <span class="comment"># æŸ¥çœ‹æ ‡ç­¾åˆ†å¸ƒ</span></span><br><span class="line">    print(data.Outcome.value_counts())</span><br><span class="line">    <span class="comment"># æŠŠè‘¡è„ç³–ï¼Œè¡€å‹ï¼Œçš®è‚¤åšåº¦ï¼Œèƒ°å²›ç´ ï¼Œèº«ä½“è´¨é‡æŒ‡æ•°ä¸­çš„0æ›¿æ¢ä¸ºnan</span></span><br><span class="line">    handle_col = [<span class="string">&#x27;Glucose&#x27;</span>, <span class="string">&#x27;BloodPressure&#x27;</span>, <span class="string">&#x27;SkinThickness&#x27;</span>, <span class="string">&#x27;Insulin&#x27;</span>, <span class="string">&#x27;BMI&#x27;</span>]</span><br><span class="line">    data[handle_col] = data[handle_col].replace(<span class="number">0</span>, np.nan)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾å®šé˜€å€¼</span></span><br><span class="line">    thresh_count = data.shape[<span class="number">0</span>] * <span class="number">0.8</span></span><br><span class="line">    <span class="comment"># è‹¥æŸä¸€åˆ—æ•°æ®ç¼ºå¤±çš„æ•°é‡è¶…è¿‡20%å°±ä¼šè¢«åˆ é™¤</span></span><br><span class="line">    data = data.dropna(thresh=thresh_count, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¡«å……æ•°æ®ï¼Œå¾—åˆ°æ–°çš„æ•°æ®é›†data</span></span><br><span class="line">    data[<span class="string">&#x27;Glucose&#x27;</span>] = data[<span class="string">&#x27;Glucose&#x27;</span>].fillna(data[<span class="string">&#x27;Glucose&#x27;</span>].mean())</span><br><span class="line">    data[<span class="string">&#x27;BloodPressure&#x27;</span>] = data[<span class="string">&#x27;BloodPressure&#x27;</span>].fillna(data[<span class="string">&#x27;BloodPressure&#x27;</span>].mean())</span><br><span class="line">    data[<span class="string">&#x27;BMI&#x27;</span>] = data[<span class="string">&#x27;BMI&#x27;</span>].fillna(data[<span class="string">&#x27;BMI&#x27;</span>].mean())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    new_data = handle_data()</span><br><span class="line">    label_distribution(new_data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ‡åˆ†æ•°æ®é›†</span></span><br><span class="line">    x_data = new_data.drop(<span class="string">&#x27;Outcome&#x27;</span>, axis=<span class="number">1</span>)</span><br><span class="line">    y_data = new_data.Outcome</span><br><span class="line">    x_train, x_test, y_train, y_test = train_test_split(x_data, y_data, test_size=<span class="number">0.3</span>, stratify=y_data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å»ºæ¨¡</span></span><br><span class="line">    model = LogisticRegression()</span><br><span class="line">    model.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¢„æµ‹</span></span><br><span class="line">    pred = model.predict(x_test)</span><br><span class="line">    <span class="comment"># è¯„ä¼°</span></span><br><span class="line">    print(classification_report(pred, y_test))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">D:\Anaconda\Anaconda3\python.exe D:&#x2F;Appication&#x2F;PyCharm&#x2F;Git&#x2F;kaggle-project&#x2F;DiabetesPrediction&#x2F;diabetes_predict.py</span><br><span class="line">0    500</span><br><span class="line">1    268</span><br><span class="line">Name: Outcome, dtype: int64</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           0       0.90      0.80      0.85       169</span><br><span class="line">           1       0.58      0.76      0.66        62</span><br><span class="line"></span><br><span class="line">    accuracy                           0.79       231</span><br><span class="line">   macro avg       0.74      0.78      0.75       231</span><br><span class="line">weighted avg       0.81      0.79      0.80       231</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202009/2134757-20200906190555869-26122205.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202009/2134757-20200906190600858-1025279349.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202009/2134757-20200906190615519-991097272.png"></p>
]]></content>
      <categories>
        <category>Kaggle</category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>é›†æˆå­¦ä¹ </title>
    <url>/2020/08/24/IntegratedLearning/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šé›†æˆå­¦ä¹ ç®—æ³•ï¼šbaggingã€éšæœºæ£®æ—ã€AdaBoostã€Stackingã€Votingç®—æ³•</p>
<a id="more"></a>

<h4 id="é›†æˆå­¦ä¹ "><a href="#é›†æˆå­¦ä¹ " class="headerlink" title="é›†æˆå­¦ä¹ "></a>é›†æˆå­¦ä¹ </h4><ul>
<li><p>é›†æˆå­¦ä¹ å°±æ˜¯ç»„åˆå¤šä¸ªå­¦ä¹ å™¨ï¼Œæœ€åå¯ä»¥å¾—åˆ°ä¸€ä¸ªæ›´ </p>
<p>  å¥½çš„å­¦ä¹ å™¨ã€‚ </p>
</li>
<li><p>é›†æˆå­¦ä¹ ç®—æ³•ï¼š </p>
<ol>
<li><p>ä¸ªä½“å­¦ä¹ å™¨ä¹‹é—´ä¸å­˜åœ¨å¼ºä¾èµ–å…³ç³»ï¼Œè£…è¢‹ï¼ˆbaggingï¼‰ </p>
</li>
<li><p>éšæœºæ£®æ—ï¼ˆRandom Forestï¼‰ </p>
</li>
<li><p>ä¸ªä½“å­¦ä¹ å™¨ä¹‹é—´å­˜åœ¨å¼ºä¾èµ–å…³ç³»ï¼Œæå‡ï¼ˆboostingï¼‰ </p>
</li>
<li><p>Stacking</p>
</li>
</ol>
</li>
</ul>
<h4 id="bagging"><a href="#bagging" class="headerlink" title="bagging"></a>bagging</h4><ul>
<li>ä¸€ç§æœ‰æ”¾å›çš„æŠ½æ ·</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/12</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> tree</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> BaggingClassifier  <span class="comment"># baggingåˆ†ç±»å™¨</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;ä¸€èˆ¬æ¥è¯´é›†æˆå­¦ä¹ ç”¨äºå¤æ‚çš„è¾ƒå¥½ï¼Œä¸‹é¢æ˜¯ç®€å•ä¾‹å­&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªç”»å‡ºä¸¤ä¸ªç‰¹å¾çš„åˆ†å¸ƒå›¾ï¼ŒäºŒç»´</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw</span>(<span class="params">model</span>):</span></span><br><span class="line">    <span class="comment"># è·å–æ•°å€¼æ‰€åœ¨èŒƒå›´</span></span><br><span class="line">    x_min, x_max = x_data[:, <span class="number">0</span>].<span class="built_in">min</span>() - <span class="number">1</span>, x_data[:, <span class="number">0</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line">    y_min, y_max = x_data[:, <span class="number">1</span>].<span class="built_in">min</span>() - <span class="number">1</span>, x_data[:, <span class="number">1</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”Ÿæˆç½‘æ ¼çŸ©é˜µ</span></span><br><span class="line">    xx, yy = np.meshgrid(np.arange(x_min, x_max, <span class="number">0.02</span>),</span><br><span class="line">                         np.arange(y_min, y_max, <span class="number">0.02</span>))</span><br><span class="line"></span><br><span class="line">    z = model.predict(np.c_[xx.ravel(), yy.ravel()])</span><br><span class="line">    z = z.reshape(xx.shape)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç­‰é«˜çº¿å›¾</span></span><br><span class="line">    cs = plt.contourf(xx, yy, z)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">x_data = iris.data[:, :<span class="number">2</span>]  <span class="comment"># ä¸ºäº†æ¯”å¯¹ç”¨äº†é›†æˆå­¦ä¹ å’Œä¸ç”¨é›†æˆå­¦ä¹ çš„æ•ˆæœï¼Œåªç”¨ä¸¤ä¸ªç‰¹å¾</span></span><br><span class="line">y_data = iris.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡åˆ†æ•°æ®</span></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(x_data, y_data)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;å»ºkNNæ¨¡å‹&#x27;&#x27;&#x27;</span></span><br><span class="line">kNN = KNeighborsClassifier()</span><br><span class="line">kNN.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾</span></span><br><span class="line">draw(kNN)</span><br><span class="line">plt.scatter(x_data[:, <span class="number">0</span>], x_data[:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡†ç¡®ç‡</span></span><br><span class="line">print(kNN.score(x_test, y_test))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;å»ºå†³ç­–æ ‘æ¨¡å‹&#x27;&#x27;&#x27;</span></span><br><span class="line">tree = tree.DecisionTreeClassifier()</span><br><span class="line">tree.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾</span></span><br><span class="line">draw(tree)</span><br><span class="line">plt.scatter(x_data[:, <span class="number">0</span>], x_data[:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡†ç¡®ç‡</span></span><br><span class="line">print(tree.score(x_test, y_test))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;æ¥ä¸‹æ¥ä½¿ç”¨baggingé›†æˆå­¦ä¹ ï¼ŒåŠ å…¥kNN&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 100ä¸ªä¸æ”¾å›çš„æŠ½æ ·ï¼Œä¹Ÿå°±æ˜¯è®­ç»ƒ100ä¸ªkNNåˆ†ç±»å™¨</span></span><br><span class="line">bagging_kNN = BaggingClassifier(kNN, n_estimators=<span class="number">100</span>)</span><br><span class="line">bagging_kNN.fit(x_train, y_train)</span><br><span class="line"><span class="comment"># ç”»å›¾</span></span><br><span class="line">draw(bagging_kNN)</span><br><span class="line">plt.scatter(x_data[:, <span class="number">0</span>], x_data[:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡†ç¡®ç‡</span></span><br><span class="line">print(bagging_kNN.score(x_test, y_test))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;åŠ å…¥å†³ç­–æ ‘çš„é›†æˆå­¦ä¹ &#x27;&#x27;&#x27;</span></span><br><span class="line">bagging_tree = BaggingClassifier(tree, n_estimators=<span class="number">100</span>)</span><br><span class="line">bagging_tree.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾</span></span><br><span class="line">draw(bagging_tree)</span><br><span class="line">plt.scatter(x_data[:, <span class="number">0</span>], x_data[:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡†ç¡®ç‡</span></span><br><span class="line">print(bagging_tree.score(x_test, y_test))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">æ¯æ¬¡è¿è¡Œç»“æœéƒ½ä¸ä¸€æ ·çš„</span><br><span class="line"><span class="number">0.7368421052631579</span></span><br><span class="line"><span class="number">0.7105263157894737</span></span><br><span class="line"><span class="number">0.7631578947368421</span></span><br><span class="line"><span class="number">0.7105263157894737</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="éšæœºæ£®æ—ï¼ˆRFï¼‰"><a href="#éšæœºæ£®æ—ï¼ˆRFï¼‰" class="headerlink" title="éšæœºæ£®æ—ï¼ˆRFï¼‰"></a>éšæœºæ£®æ—ï¼ˆRFï¼‰</h4><ul>
<li><p><strong>RF = å†³ç­–æ ‘+Bagging+éšæœºå±æ€§é€‰æ‹©</strong></p>
</li>
<li><p>RFç®—æ³•æµç¨‹ </p>
<ol>
<li><p>æ ·æœ¬çš„éšæœºï¼šä»æ ·æœ¬é›†ä¸­ç”¨baggingçš„æ–¹å¼ï¼Œéšæœºé€‰æ‹©nä¸ªæ ·æœ¬ã€‚ </p>
</li>
<li><p>ç‰¹å¾çš„éšæœºï¼šä»æ‰€æœ‰å±æ€§dä¸­éšæœºé€‰æ‹©kä¸ªå±æ€§(k&lt;d)ï¼Œç„¶åä»kä¸ªå±æ€§ä¸­é€‰æ‹©æœ€ä½³åˆ†å‰²å±æ€§ä½œä¸ºèŠ‚ç‚¹å»ºç«‹ </p>
<p>CARTå†³ç­–æ ‘ã€‚ </p>
</li>
<li><p>é‡å¤ä»¥ä¸Šä¸¤ä¸ªæ­¥éª¤mæ¬¡ï¼Œå»ºç«‹mæ£µCARTå†³ç­–æ ‘ã€‚ </p>
</li>
<li><p>è¿™mæ£µCARTå†³ç­–æ ‘å½¢æˆéšæœºæ£®æ—ï¼Œé€šè¿‡æŠ•ç¥¨è¡¨å†³ç»“æœï¼Œå†³å®šæ•°æ®å±äºå“ªä¸€ç±»ã€‚</p>
</li>
</ol>
</li>
<li><p>ä¸€èˆ¬æ¥è¯´ï¼Œéšæœºæ£®æ—çš„æ•ˆæœè¦æ¯”å†³ç­–æ ‘å¥½ï¼Œæ‰€ä»¥é€‰éšæœºæ£®æ—</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/12</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier  <span class="comment"># å¯¼å…¥éšæœºæ£®æ—æ¨¡å‹</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> tree  <span class="comment"># å¯¼å…¥å†³ç­–æ ‘æ¨¡å‹ï¼Œä¸éšæœºæ£®æ—æ¨¡å‹åšå¯¹æ¯”</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªç”»é¢„æµ‹å›¾</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw</span>(<span class="params">model</span>):</span></span><br><span class="line">    <span class="comment"># è·å–æ•°æ®å€¼æ‰€åœ¨çš„èŒƒå›´</span></span><br><span class="line">    x_min, x_max = x_data[:, <span class="number">0</span>].<span class="built_in">min</span>() - <span class="number">1</span>, x_data[:, <span class="number">0</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line">    y_min, y_max = x_data[:, <span class="number">1</span>].<span class="built_in">min</span>() - <span class="number">1</span>, x_data[:, <span class="number">1</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”Ÿæˆç½‘æ ¼çŸ©é˜µ</span></span><br><span class="line">    xx, yy = np.meshgrid(np.arange(x_min, x_max, <span class="number">0.02</span>),</span><br><span class="line">                         np.arange(y_min, y_max, <span class="number">0.02</span>))</span><br><span class="line"></span><br><span class="line">    z = model.predict(np.c_[xx.ravel(), yy.ravel()])  <span class="comment"># ravelä¸flattenç±»ä¼¼ï¼Œå¤šç»´æ•°æ®è½¬ä¸€ç»´ã€‚flattenä¸ä¼šæ”¹å˜åŸå§‹æ•°æ®ï¼Œravelä¼šæ”¹å˜åŸå§‹æ•°æ®</span></span><br><span class="line">    z = z.reshape(xx.shape)</span><br><span class="line">    <span class="comment"># ç­‰é«˜çº¿å›¾</span></span><br><span class="line">    cs = plt.contourf(xx, yy, z)</span><br><span class="line">    <span class="comment"># æ ·æœ¬æ•£ç‚¹å›¾</span></span><br><span class="line">    plt.scatter(x_test[:, <span class="number">0</span>], x_test[:, <span class="number">1</span>], c=y_test)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;LR-testSet2.txt&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">x_data = data[:, :-<span class="number">1</span>]</span><br><span class="line">y_data = data[:, -<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">plt.scatter(x_data[:, <span class="number">0</span>], x_data[:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡åˆ†æ•°æ®</span></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(x_data, y_data, test_size=<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹å†³ç­–æ ‘æ¨¡å‹</span></span><br><span class="line">tree = tree.DecisionTreeClassifier()</span><br><span class="line">tree.fit(x_train, y_train)</span><br><span class="line">draw(tree)</span><br><span class="line"><span class="comment"># è¯„ä¼°æ¨¡å‹</span></span><br><span class="line">print(tree.score(x_test, y_test))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹éšæœºæ£®æ—æ¨¡å‹</span></span><br><span class="line">RF = RandomForestClassifier(n_estimators=<span class="number">100</span>)</span><br><span class="line">RF.fit(x_train, y_train)</span><br><span class="line">draw(RF)</span><br><span class="line"><span class="comment"># è¯„ä¼°æ¨¡å‹</span></span><br><span class="line">print(RF.score(x_test, y_test))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0.7333333333333333</span><br><span class="line">0.8666666666666667</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><p>å›¾è§ç¨‹åºè¿è¡Œç»“æœ</p>
</li>
<li><p>æ¯æ¬¡ç»“æœå‡ä¸ä¸€æ ·</p>
</li>
</ul>
<h4 id="AdaBoostç®—æ³•"><a href="#AdaBoostç®—æ³•" class="headerlink" title="AdaBoostç®—æ³•"></a>AdaBoostç®—æ³•</h4><ul>
<li><p>AdaBoostæ˜¯è‹±æ–‡â€œAdaptive Boostingâ€ï¼ˆè‡ªé€‚åº”å¢å¼ºï¼‰çš„ç¼©å†™</p>
</li>
<li><p>å°†å­¦ä¹ å™¨çš„é‡ç‚¹æ”¾åœ¨â€œå®¹æ˜“â€å‡ºé”™çš„æ ·æœ¬ä¸Šã€‚å¯ä»¥æå‡å­¦ä¹ å™¨çš„æ€§èƒ½</p>
</li>
<li><p>æ¢è€Œè¨€ä¹‹ï¼Œè¯¯å·®ç‡ä½çš„å¼±åˆ†ç±»å™¨åœ¨æœ€ç»ˆåˆ†ç±»å™¨ä¸­å çš„æƒé‡è¾ƒå¤§ï¼Œå¦åˆ™è¾ƒå°ã€‚</p>
</li>
<li><p>ä¹Ÿå°±æ˜¯æŠŠé‡ç‚¹æ”¾åœ¨é”™è¯¯ç‡é«˜çš„æ ·æœ¬ï¼Œä¸æ–­çº æ­£</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/12</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> tree</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> AdaBoostClassifier  <span class="comment"># å¯¼å…¥AdaBoostæ¨¡å‹</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_gaussian_quantiles</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªç”»å‡ºä¸¤ä¸ªç‰¹å¾çš„åˆ†å¸ƒå›¾ï¼ŒäºŒç»´ï¼Œåªé€‚ç”¨äºä¸¤ä¸ªç‰¹å¾</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw</span>(<span class="params">model, x_data, y_data</span>):</span></span><br><span class="line">    <span class="comment"># è·å–æ•°å€¼æ‰€åœ¨èŒƒå›´</span></span><br><span class="line">    x_min, x_max = x_data[:, <span class="number">0</span>].<span class="built_in">min</span>() - <span class="number">1</span>, x_data[:, <span class="number">0</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line">    y_min, y_max = x_data[:, <span class="number">1</span>].<span class="built_in">min</span>() - <span class="number">1</span>, x_data[:, <span class="number">1</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”Ÿæˆç½‘æ ¼çŸ©é˜µ</span></span><br><span class="line">    xx, yy = np.meshgrid(np.arange(x_min, x_max, <span class="number">0.02</span>),</span><br><span class="line">                         np.arange(y_min, y_max, <span class="number">0.02</span>))</span><br><span class="line"></span><br><span class="line">    z = model.predict(np.c_[xx.ravel(), yy.ravel()])</span><br><span class="line">    z = z.reshape(xx.shape)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç­‰é«˜çº¿å›¾</span></span><br><span class="line">    cs = plt.contourf(xx, yy, z)</span><br><span class="line">    <span class="comment"># æ ·æœ¬æ•£ç‚¹å›¾</span></span><br><span class="line">    plt.scatter(x_data[:, <span class="number">0</span>], x_data[:, <span class="number">1</span>], c=y_data)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆ2ç»´æ­£æ€åˆ†å¸ƒï¼Œç”Ÿæˆçš„æ•°æ®æŒ‰åˆ†ä½æ•°åˆ†ä¸ºä¸¤ç±»ï¼Œ500ä¸ªæ ·æœ¬,2ä¸ªæ ·æœ¬ç‰¹å¾</span></span><br><span class="line">x1, y1 = make_gaussian_quantiles(n_samples=<span class="number">500</span>, n_features=<span class="number">2</span>, n_classes=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># ç”Ÿæˆ2ç»´æ­£æ€åˆ†å¸ƒï¼Œç”Ÿæˆçš„æ•°æ®æŒ‰åˆ†ä½æ•°åˆ†ä¸ºä¸¤ç±»ï¼Œ500ä¸ªæ ·æœ¬,2ä¸ªæ ·æœ¬ç‰¹å¾å‡å€¼éƒ½ä¸º3</span></span><br><span class="line">x2, y2 = make_gaussian_quantiles(mean=(<span class="number">3</span>, <span class="number">3</span>), n_samples=<span class="number">500</span>, n_features=<span class="number">2</span>, n_classes=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†ä¸¤ç»„æ•°æ®åˆæˆä¸€ç»„æ•°æ®, ä¹Ÿå°±æ˜¯å¾—åˆ°1000ä¸ªæ ·æœ¬</span></span><br><span class="line">x_data = np.concatenate((x1, x2))</span><br><span class="line">y_data = np.concatenate((y1, - y2 + <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">plt.scatter(x_data[:, <span class="number">0</span>], x_data[:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;ä½¿ç”¨å†³ç­–æ ‘çœ‹çœ‹ç»“æœ&#x27;&#x27;&#x27;</span></span><br><span class="line">d_tree = tree.DecisionTreeClassifier(max_depth=<span class="number">3</span>)</span><br><span class="line">d_tree.fit(x_data, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾é¢„æµ‹</span></span><br><span class="line">draw(d_tree, x_data, y_data)</span><br><span class="line">print(d_tree.score(x_data, y_data))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;ä½¿ç”¨AdaBoostæ¨¡å‹ï¼Œçœ‹çœ‹æ•ˆæœ&#x27;&#x27;&#x27;</span></span><br><span class="line">AdaBoost = AdaBoostClassifier(d_tree, n_estimators=<span class="number">10</span>)</span><br><span class="line">AdaBoost.fit(x_data, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾</span></span><br><span class="line">draw(AdaBoost, x_data, y_data)</span><br><span class="line">print(AdaBoost.score(x_data, y_data))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="number">0.701</span></span><br><span class="line"><span class="number">0.976</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823214600915-740861539.png"></p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823214604400-302928488.png"></p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823214613352-2055503343.png"></p>
<ul>
<li>å‘ç°å‡†ç¡®ç‡é«˜äº†å¾ˆå¤š</li>
</ul>
<h4 id="Stacking-ç®—æ³•"><a href="#Stacking-ç®—æ³•" class="headerlink" title="Stacking ç®—æ³•"></a>Stacking ç®—æ³•</h4><ul>
<li>æœ‰åˆçº§å’Œæ¬¡çº§åˆ†ç±»å™¨</li>
</ul>
<p><code>pip3 install mlxtend -i https://pypi.tuna.tsinghua.edu.cn/simple</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/12</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> model_selection</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> mlxtend.classifier <span class="keyword">import</span> StackingClassifier  <span class="comment"># å¯¼å…¥Stackingæ¨¡å‹åˆ†ç±»å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è½½å…¥æ•°æ®é›†</span></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line"><span class="comment"># åªè¦ç¬¬1,2åˆ—çš„ç‰¹å¾</span></span><br><span class="line">x_data, y_data = iris.data[:, <span class="number">1</span>:<span class="number">3</span>], iris.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸‰ä¸ªä¸åŒçš„åˆ†ç±»å™¨</span></span><br><span class="line">clf1 = KNeighborsClassifier(n_neighbors=<span class="number">1</span>)</span><br><span class="line">clf2 = DecisionTreeClassifier()</span><br><span class="line">clf3 = LogisticRegression()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªæ¬¡çº§åˆ†ç±»å™¨ meta_classifier, ä¼ å…¥çš„æ˜¯é€»è¾‘å›å½’æ¨¡å‹</span></span><br><span class="line">lr = LogisticRegression()</span><br><span class="line">stacking_model = StackingClassifier(classifiers=[clf1, clf2, clf3], meta_classifier=lr)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> clf, label <span class="keyword">in</span> <span class="built_in">zip</span>([clf1, clf2, clf3, stacking_model],</span><br><span class="line">                      [<span class="string">&#x27;KNN&#x27;</span>, <span class="string">&#x27;Decision Tree&#x27;</span>, <span class="string">&#x27;LogisticRegression&#x27;</span>, <span class="string">&#x27;StackingClassifier&#x27;</span>]):</span><br><span class="line">    <span class="comment"># cross_val_scoreè¿›è¡Œäº¤å‰éªŒè¯ï¼Œ cv=3æ˜¯åˆ†3ä»½è¿›è¡Œäº¤å‰éªŒè¯ï¼Œscoring=&#x27;accuracy&#x27;è®¡ç®—å‡†ç¡®ç‡</span></span><br><span class="line">    scores = model_selection.cross_val_score(clf, x_data, y_data, cv=<span class="number">3</span>, scoring=<span class="string">&#x27;accuracy&#x27;</span>)</span><br><span class="line">    <span class="comment"># scores.mean()æ±‚ä¸‰ä¸ªäº¤å‰éªŒè¯ç»“æœçš„å¹³å‡å€¼</span></span><br><span class="line">    print(<span class="string">&quot;Accuracy: %0.2f [%s]&quot;</span> % (scores.mean(), label))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Accuracy: <span class="number">0.91</span> [KNN]</span><br><span class="line">Accuracy: <span class="number">0.93</span> [Decision Tree]</span><br><span class="line">Accuracy: <span class="number">0.95</span> [LogisticRegression]</span><br><span class="line">Accuracy: <span class="number">0.93</span> [StackingClassifier]</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æœ‰æ—¶å€™æ•ˆæœä¼šæ¯”å•ä¸ªåˆ†ç±»å™¨çš„å¥½</li>
</ul>
<h4 id="Votingç®—æ³•"><a href="#Votingç®—æ³•" class="headerlink" title="Votingç®—æ³•"></a>Votingç®—æ³•</h4><ul>
<li>å’ŒStackingçš„å»ºæ¨¡è¿‡ç¨‹ç±»ä¼¼</li>
<li>ä½†æ˜¯æ²¡æœ‰æ¬¡çº§åˆ†ç±»å™¨</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/12</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> model_selection</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> VotingClassifier  <span class="comment"># å¯¼å…¥Voting</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">votingçš„å»ºæ¨¡æ­¥éª¤å’Œstackingçš„å»ºæ¨¡è¿‡ç¨‹ç±»ä¼¼ï¼Œä½†æ˜¯æ²¡æœ‰æ¬¡çº§åˆ†ç±»å™¨</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># è½½å…¥æ•°æ®é›†</span></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line"><span class="comment"># åªè¦ç¬¬1,2åˆ—çš„ç‰¹å¾</span></span><br><span class="line">x_data, y_data = iris.data[:, <span class="number">1</span>:<span class="number">3</span>], iris.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸‰ä¸ªä¸åŒçš„åˆ†ç±»å™¨</span></span><br><span class="line">clf1 = KNeighborsClassifier(n_neighbors=<span class="number">1</span>)</span><br><span class="line">clf2 = DecisionTreeClassifier()</span><br><span class="line">clf3 = LogisticRegression()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹æ¨¡å‹ï¼ŒæŒ‰ç…§è¿™ä¸ªæ ¼å¼å»ºç«‹Votingæ¨¡å‹,</span></span><br><span class="line"><span class="comment"># æ¯ä¸ªå…ƒç»„çš„ç¬¬ä¸€ä¸ªæ˜¯å¯¹åˆ†ç±»å™¨çš„æè¿°</span></span><br><span class="line">voting_model = VotingClassifier([(<span class="string">&#x27;kNN&#x27;</span>, clf1), (<span class="string">&#x27;d_tree&#x27;</span>, clf2), (<span class="string">&#x27;lr&#x27;</span>, clf3)])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> clf, label <span class="keyword">in</span> <span class="built_in">zip</span>([clf1, clf2, clf3, voting_model],</span><br><span class="line">                      [<span class="string">&#x27;KNN&#x27;</span>, <span class="string">&#x27;Decision Tree&#x27;</span>, <span class="string">&#x27;LogisticRegression&#x27;</span>, <span class="string">&#x27;VotingClassifier&#x27;</span>]):</span><br><span class="line">    scores = model_selection.cross_val_score(clf, x_data, y_data, cv=<span class="number">3</span>, scoring=<span class="string">&#x27;accuracy&#x27;</span>)</span><br><span class="line">    print(<span class="string">&quot;Accuracy: %0.2f [%s]&quot;</span> % (scores.mean(), label))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Accuracy: <span class="number">0.91</span> [KNN]</span><br><span class="line">Accuracy: <span class="number">0.91</span> [Decision Tree]</span><br><span class="line">Accuracy: <span class="number">0.95</span> [LogisticRegression]</span><br><span class="line">Accuracy: <span class="number">0.95</span> [VotingClassifier]</span><br></pre></td></tr></table></figure>
<ul>
<li>å¯ä»¥çœ‹åˆ°æ¯”å•ä¸ªåˆ†ç±»å™¨çš„æ•ˆæœå¥½!</li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaWebå®ç°ç½‘ä¸ŠäºŒæ‰‹è½¦äº¤æ˜“å¹³å°å°é¡¹ç›®</title>
    <url>/2021/01/21/JavaWebSecond-handCar/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šJavaWebå°é¡¹ç›®</p>
<a id="more"></a>

<h1 id="ç½‘ä¸ŠäºŒæ‰‹è½¦äº¤æ˜“ä¿¡æ¯å¹³å°"><a href="#ç½‘ä¸ŠäºŒæ‰‹è½¦äº¤æ˜“ä¿¡æ¯å¹³å°" class="headerlink" title="ç½‘ä¸ŠäºŒæ‰‹è½¦äº¤æ˜“ä¿¡æ¯å¹³å°"></a>ç½‘ä¸ŠäºŒæ‰‹è½¦äº¤æ˜“ä¿¡æ¯å¹³å°</h1><h2 id="Java-Webå®ç°æ–¹æ¡ˆ"><a href="#Java-Webå®ç°æ–¹æ¡ˆ" class="headerlink" title="Java Webå®ç°æ–¹æ¡ˆ"></a>Java Webå®ç°æ–¹æ¡ˆ</h2><ul>
<li>çº¯servlet+MVCæ¶æ„<ul>
<li>Servlet</li>
<li>JSP</li>
<li>JDBC</li>
<li>EL è¡¨è¾¾å¼</li>
<li>JSTL</li>
<li>Filter è¿‡æ»¤å™¨</li>
</ul>
</li>
<li>å‰ç«¯é‡‡ç”¨layuiæ¨¡æ¿ç¾åŒ–</li>
<li>æ•°æ®åº“é‡‡ç”¨MySql</li>
</ul>
<h2 id="è¦æ±‚"><a href="#è¦æ±‚" class="headerlink" title="è¦æ±‚"></a>è¦æ±‚</h2><h3 id="ä¼šå‘˜ï¼š"><a href="#ä¼šå‘˜ï¼š" class="headerlink" title="ä¼šå‘˜ï¼š"></a>ä¼šå‘˜ï¼š</h3><ul>
<li><p>ä¼šå‘˜æ³¨å†Œï¼ŒåŸºæœ¬ä¿¡æ¯ä¿®æ”¹ï¼›</p>
</li>
<li><p>äºŒæ‰‹æ±½è½¦å‡ºå”®ä¿¡æ¯çš„ç¼–è¾‘ã€ä¿®æ”¹ã€å‘å¸ƒï¼ˆå‘å¸ƒåä¸å¯å†ä¿®æ”¹ä¿¡æ¯ï¼‰ã€å…³é—­(é”€å”®ä¿¡æ¯)ï¼ˆå…³é—­åä»–äººä¸å¯å†ç•™è¨€ï¼‰</p>
</li>
<li><p>æŸ¥è¯¢å¹¶ç»´æŠ¤è‡ªå·±çš„å‡ºå”®ä¿¡æ¯</p>
</li>
<li><p>æŸ¥è¯¢ä»–äººå‘å¸ƒçš„å‡ºå”®ä¿¡æ¯å¹¶å¯ä»¥ç•™è¨€</p>
</li>
<li><p>å¯ä»¥å¯¹ä»–äººçš„ç•™è¨€è¿›è¡Œå›å¤</p>
<h3 id="ç®¡ç†å‘˜ï¼š"><a href="#ç®¡ç†å‘˜ï¼š" class="headerlink" title="ç®¡ç†å‘˜ï¼š"></a>ç®¡ç†å‘˜ï¼š</h3></li>
<li><p>ä¼šå‘˜ç®¡ç†</p>
<ul>
<li>æƒé™ç®¡ç†ï¼Œä¾‹å¦‚æ˜¯å¦å¯ä»¥å‘å¸ƒå‡ºå”®ä¿¡æ¯ï¼Œå–æ¶ˆç”¨æˆ·ä¼šå‘˜èµ„æ ¼ç­‰</li>
</ul>
</li>
<li><p>å‡ºå”®ä¿¡æ¯ç®¡ç†</p>
<ul>
<li>ç®¡ç†å‘˜æ‹¥æœ‰å¯¹è™šå‡æ¶ˆæ¯è¿›è¡Œç®¡ç†çš„æƒåŠ›ï¼Œå¯ä»¥å±è”½è™šå‡æ¶ˆæ¯</li>
</ul>
</li>
</ul>
<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><ul>
<li>IDEA2020.3 + Java1.8 + Tomcat 9.0.31</li>
</ul>
<h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><ul>
<li>é‡åœ¨å®ç°æ€è·¯ï¼Œä¸»è¦è¿˜æ˜¯æ•°æ®åº“è®¾è®¡å’ŒCRUDé‚£å¥—ä¸œè¥¿</li>
<li>è™½æ˜¯äº¤æ˜“å¹³å°ï¼Œä½†æ˜¯æœ¬é¡¹ç›®æ²¡æœ‰æ¶‰åŠåˆ°ä»»ä½•äº¤æ˜“ï¼Œä»ç„¶æœ‰å¾ˆå¤§çš„æ”¹è¿›ç©ºé—´</li>
</ul>
<h2 id="æ•°æ®åº“è¡¨çš„å…³ç³»"><a href="#æ•°æ®åº“è¡¨çš„å…³ç³»" class="headerlink" title="æ•°æ®åº“è¡¨çš„å…³ç³»"></a>æ•°æ®åº“è¡¨çš„å…³ç³»</h2><p><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121020414139-734664079.png"></p>
<h2 id="éƒ¨åˆ†æˆªå›¾"><a href="#éƒ¨åˆ†æˆªå›¾" class="headerlink" title="éƒ¨åˆ†æˆªå›¾"></a>éƒ¨åˆ†æˆªå›¾</h2><ul>
<li><p>é¦–é¡µç™»å½•<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121013043316-622313831.png"></p>
</li>
<li><p>ç”¨æˆ·<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121013138434-2073155572.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121013226391-2006316338.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121013845543-364387924.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121013927621-547636853.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121015924717-1061932086.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121014008243-833878964.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121014058895-2044803795.png"></p>
</li>
</ul>
<p>â€¦</p>
<ul>
<li>ç®¡ç†å‘˜<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121014240426-693790599.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210121014300548-630822928.png"></li>
</ul>
<hr>
<ul>
<li>ä»¥ä¸Šæ˜¯éƒ¨åˆ†æˆªå›¾ï¼Œå…·ä½“æ¼”ç¤ºçœ‹æˆ‘bilibiliå°å·å½•åˆ¶çš„5åˆ†é’Ÿè§†é¢‘h<ul>
<li>link: <a href="https://www.bilibili.com/video/BV1qp4y1W7gy?pop_share=1">https://www.bilibili.com/video/BV1qp4y1W7gy?pop_share=1</a> </li>
</ul>
</li>
<li>ä»£ç è§æˆ‘GitHub<ul>
<li>link: <a href="https://github.com/JimouChen/IDEA2021">https://github.com/JimouChen/IDEA2021</a></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>JavaEE</category>
      </categories>
      <tags>
        <tag>JaveWeb</tag>
      </tags>
  </entry>
  <entry>
    <title>KNN</title>
    <url>/2020/08/23/KNN/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<h1 id="Kè¿‘é‚»åˆ†ç±»"><a href="#Kè¿‘é‚»åˆ†ç±»" class="headerlink" title="Kè¿‘é‚»åˆ†ç±»"></a>Kè¿‘é‚»åˆ†ç±»</h1><a id="more"></a>

<h3 id="KNN"><a href="#KNN" class="headerlink" title="KNN"></a>KNN</h3><ul>
<li><p><em>n_neighbors</em>. ä¸´è¿‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œ<em>é»˜è®¤</em>å€¼æ˜¯5 </p>
</li>
<li><h3 id="è¿‘é‚»æ³•ï¼ˆKNNï¼‰"><a href="#è¿‘é‚»æ³•ï¼ˆKNNï¼‰" class="headerlink" title="è¿‘é‚»æ³•ï¼ˆKNNï¼‰"></a>è¿‘é‚»æ³•ï¼ˆKNNï¼‰</h3><ul>
<li>æ˜¯ä¸€ç§åŸºæœ¬çš„åˆ†ç±»ä¸å›å½’æ–¹æ³•</li>
<li>æ‰€æœ‰ç‰¹å¾çš„æ•°å€¼é‡‡ç”¨å½’ä¸€åŒ–å¤„ç†</li>
<li>è·ç¦»åº¦é‡ï¼šæ¬§æ°è·ç¦»</li>
<li>åˆ†ç±»å†³ç­–è§„åˆ™ï¼šå¤šæ•°è¡¨å†³</li>
<li>kdæ ‘ï¼ˆç©ºé—´è§„åˆ’æ ‘ï¼‰</li>
<li><a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=43">https://www.bilibili.com/video/BV1Rt411q7WJ?p=43</a> </li>
</ul>
</li>
<li><p>kNNé¢„æµ‹iris</p>
<h3 id="ç”¨pythonå®ç°knn"><a href="#ç”¨pythonå®ç°knn" class="headerlink" title="ç”¨pythonå®ç°knn"></a>ç”¨pythonå®ç°knn</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/3</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets  <span class="comment"># å¯¼å…¥æ•°æ®é›†</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split  <span class="comment"># ç”¨äºåˆ‡åˆ†æ•°æ®</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report, confusion_matrix  <span class="comment"># éªŒè¯å‡†ç¡®æ€§</span></span><br><span class="line"><span class="keyword">import</span> operator</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰kNNå‡½æ•°ï¼Œé‡‡ç”¨æ¬§æ°è·ç¦»è®¡ç®—ï¼Œè¿”å›é¢„æµ‹çš„åˆ†ç±»ç»“æœ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kNN</span>(<span class="params">x_test, x_data, y_data, k</span>):</span></span><br><span class="line">    <span class="comment"># è®¡ç®—æ ·æœ¬æ•°é‡</span></span><br><span class="line">    x_data_size = x_data.shape[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># å¤åˆ¶x_test</span></span><br><span class="line">    x_test_copy = np.tile(x_test, (x_data_size, <span class="number">1</span>))</span><br><span class="line">    <span class="comment"># è®¡ç®—x_testä¸æ¯ä¸ªæ ·æœ¬çš„å·®å€¼</span></span><br><span class="line">    diff_mat = x_test_copy - x_data</span><br><span class="line">    <span class="comment"># è®¡ç®—å·®å€¼å¹³æ–¹</span></span><br><span class="line">    sq_diff_mat = diff_mat ** <span class="number">2</span></span><br><span class="line">    <span class="comment"># æ±‚å’Œ</span></span><br><span class="line">    sq_distance = sq_diff_mat.<span class="built_in">sum</span>(axis=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># å¼€æ–¹,å¾—åˆ°æ¯ä¸ªæ ·æœ¬ä¸æµ‹è¯•æ ·æœ¬çš„è·ç¦»</span></span><br><span class="line">    distance = sq_distance ** <span class="number">0.5</span></span><br><span class="line">    <span class="comment"># ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">    sorted_distance = distance.argsort()</span><br><span class="line">    <span class="comment"># è¿›è¡Œåˆ†ç±»ï¼ŒæŠŠåˆ†ç±»ç»“æœæŒ‰å¤šåˆ°å°‘æ”¾åˆ°ä¸€ä¸ªå­—å…¸</span></span><br><span class="line">    class_count = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">        <span class="comment"># è·å–æ ‡ç­¾</span></span><br><span class="line">        label = y_data[sorted_distance[i]]</span><br><span class="line">        <span class="comment"># ç»Ÿè®¡æ ‡ç­¾æ•°é‡</span></span><br><span class="line">        class_count[label] = class_count.get(label, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">    <span class="comment"># å°†åˆ†ç±»ç»“æœä»æ•°é‡æŒ‰å¤šåˆ°å°‘æ’åº</span></span><br><span class="line">    sorted_class_count = <span class="built_in">sorted</span>(class_count.items(), key=operator.itemgetter(<span class="number">1</span>), reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sorted_class_count[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è½½å…¥æ•°æ®</span></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line"><span class="comment"># åˆ‡åˆ†æ•°æ®é›†, 0.2ä¸ºæµ‹è¯•é›†ï¼Œ0.8ä¸ºè®­ç»ƒé›†</span></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(iris.data, iris.target, test_size=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line">prediction = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x_test.shape[<span class="number">0</span>]):</span><br><span class="line">    prediction.append(kNN(x_test[i], x_train, y_train, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‹¿æµ‹è¯•çš„å’Œé¢„æµ‹çš„ä½œæ¯”è¾ƒï¼Œçœ‹çœ‹æ•ˆæœ</span></span><br><span class="line">print(classification_report(y_test, prediction))</span><br><span class="line">print(confusion_matrix(y_test, prediction))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"> precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           <span class="number">0</span>       <span class="number">1.00</span>      <span class="number">1.00</span>      <span class="number">1.00</span>        <span class="number">11</span></span><br><span class="line">           <span class="number">1</span>       <span class="number">0.90</span>      <span class="number">1.00</span>      <span class="number">0.95</span>         <span class="number">9</span></span><br><span class="line">           <span class="number">2</span>       <span class="number">1.00</span>      <span class="number">0.90</span>      <span class="number">0.95</span>        <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    accuracy                           <span class="number">0.97</span>        <span class="number">30</span></span><br><span class="line">   macro avg       <span class="number">0.97</span>      <span class="number">0.97</span>      <span class="number">0.96</span>        <span class="number">30</span></span><br><span class="line">weighted avg       <span class="number">0.97</span>      <span class="number">0.97</span>      <span class="number">0.97</span>        <span class="number">30</span></span><br><span class="line"></span><br><span class="line">[[<span class="number">11</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">9</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">1</span>  <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä¸ºäº†æ–¹ä¾¿ï¼Œå¯ä»¥æŠŠç”¨pythonå®ç°çš„kNNç®—æ³•å°è£…èµ·æ¥</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/3</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> operator</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰knnå‡½æ•°ï¼Œé‡‡ç”¨æ¬§æ°è·ç¦»è®¡ç®—ï¼Œè¿”å›é¢„æµ‹çš„åˆ†ç±»ç»“æœ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kNN</span>(<span class="params">x_test, x_data, y_data, k</span>):</span></span><br><span class="line">    sorted_distance = ((((np.tile(x_test, (x_data.shape[<span class="number">0</span>], <span class="number">1</span>)) - x_data) ** <span class="number">2</span>).<span class="built_in">sum</span>(axis=<span class="number">1</span>)) ** <span class="number">0.5</span>).argsort()</span><br><span class="line">    <span class="comment"># è¿›è¡Œåˆ†ç±»ï¼ŒæŠŠåˆ†ç±»ç»“æœæŒ‰å¤šåˆ°å°‘æ”¾åˆ°ä¸€ä¸ªå­—å…¸</span></span><br><span class="line">    class_count = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">        <span class="comment"># è·å–æ ‡ç­¾</span></span><br><span class="line">        label = y_data[sorted_distance[i]]</span><br><span class="line">        <span class="comment"># ç»Ÿè®¡æ ‡ç­¾æ•°é‡</span></span><br><span class="line">        class_count[label] = class_count.get(label, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">    <span class="comment"># å°†åˆ†ç±»ç»“æœä»æ•°é‡æŒ‰å¤šåˆ°å°‘æ’åº</span></span><br><span class="line">    sorted_class_count = <span class="built_in">sorted</span>(class_count.items(), key=operator.itemgetter(<span class="number">1</span>), reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sorted_class_count[<span class="number">0</span>][<span class="number">0</span>]</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="ç”¨sklearnè°ƒç”¨kNN"><a href="#ç”¨sklearnè°ƒç”¨kNN" class="headerlink" title="ç”¨sklearnè°ƒç”¨kNN"></a>ç”¨sklearnè°ƒç”¨kNN</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/8</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å…¥æ•°æ®</span></span><br><span class="line">iris = load_iris()</span><br><span class="line">x_data = iris.data</span><br><span class="line">y_data = iris.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡åˆ†æ•°æ®</span></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(x_data, y_data, test_size=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºæ¨¡,n_neighborså³ä¸ºk</span></span><br><span class="line"><span class="comment"># kNN_model = KNeighborsClassifier()</span></span><br><span class="line">kNN_model = KNeighborsClassifier(n_neighbors=<span class="number">5</span>)</span><br><span class="line">kNN_model.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line">predictions = kNN_model.predict(x_test)</span><br><span class="line">print(<span class="string">&#x27;origin: \n&#x27;</span>, y_test)</span><br><span class="line">print(<span class="string">&#x27;predict result:\n&#x27;</span>, predictions)</span><br><span class="line">print(classification_report(y_test, predictions))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨è¯¥å¯¹è±¡çš„æ‰“åˆ†æ–¹æ³•ï¼Œè®¡ç®—å‡ºå‡†ç¡®ç‡</span></span><br><span class="line"><span class="comment"># print(kNN_model.score(x_test, y_test, sample_weight=None))</span></span><br><span class="line">print(kNN_model.score(x_test, y_test))</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>æœºå™¨å­¦ä¹ ç®—æ³•åŸºç¡€æ¦‚è§ˆ</title>
    <url>/2020/08/23/MLBasement/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<a id="more"></a>



<h1 id="æœºå™¨å­¦ä¹ ç®—æ³•"><a href="#æœºå™¨å­¦ä¹ ç®—æ³•" class="headerlink" title="æœºå™¨å­¦ä¹ ç®—æ³•"></a>æœºå™¨å­¦ä¹ ç®—æ³•</h1><h3 id="åŸºç¡€éƒ¨åˆ†"><a href="#åŸºç¡€éƒ¨åˆ†" class="headerlink" title="åŸºç¡€éƒ¨åˆ†"></a>åŸºç¡€éƒ¨åˆ†</h3><ul>
<li>å»ºæ¨¡ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ•°æ®åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è®­ç»ƒé›†</span><br><span class="line">éªŒè¯é›†</span><br><span class="line">æµ‹è¯•é›†</span><br></pre></td></tr></table></figure></li>
<li>è®­ç»ƒé›†(train)ç”¨æ¥è®­ç»ƒï¼Œæ„å»ºæ¨¡å‹</li>
<li>éªŒè¯é›†æ˜¯ç”¨æ¥åœ¨æ¨¡å‹è®­ç»ƒé˜¶æ®µæµ‹è¯•æ¨¡å‹å¥½å</li>
<li>ç­‰æ¨¡å‹è®­ç»ƒå¥½åï¼Œå†ç”¨æµ‹è¯•é›†(test)æ¥è¯„ä¼°æ¨¡å‹å¥½å<blockquote>
<p><strong>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå·æ‡’ç›´æ¥åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†</strong></p>
</blockquote>
</li>
</ul>
<h3 id="ç›‘ç£å­¦ä¹ "><a href="#ç›‘ç£å­¦ä¹ " class="headerlink" title="ç›‘ç£å­¦ä¹ "></a>ç›‘ç£å­¦ä¹ </h3><ul>
<li>è®­ç»ƒå¸¦æœ‰æ ‡ç­¾çš„æ•°æ®é›†å°±æ˜¯ç›‘ç£å­¦ä¹ <br>å¦‚ä¸‹<br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823191927517-435458132.png"></li>
<li>æ¯”å¦‚ 3 å’Œ dogå°±æ˜¯æ ‡ç­¾ï¼Œæ ‡ç­¾å¯ä»¥ç†è§£ä¸ºç±»åˆ«</li>
<li>ä¸€èˆ¬ç”¨æ¥åˆ†ç±»</li>
</ul>
<h3 id="æ— ç›‘ç£å­¦ä¹ "><a href="#æ— ç›‘ç£å­¦ä¹ " class="headerlink" title="æ— ç›‘ç£å­¦ä¹ "></a>æ— ç›‘ç£å­¦ä¹ </h3><ul>
<li>ä¸å«æœ‰æ ‡ç­¾çš„æ•°æ®é›†</li>
<li>ä¸€èˆ¬ç”¨æ¥èšç±»ï¼Œå› ä¸ºæ²¡æœ‰æ ‡ç­¾(ç±»åˆ«)ï¼Œæ‰€ä»¥éœ€è¦èšç±»æˆä¸€ä¸ªç±»åˆ«<br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823192133789-499407785.png"></li>
<li>æ¯”å¦‚è¦ä¸ºä¸Šé¢çš„åœˆåœˆåˆ†ä¸¤ä¸ªç±»åˆ«ï¼Œå³èšæˆä¸¤ä¸ªç±»</li>
</ul>
<h3 id="åŠç›‘ç£å­¦ä¹ "><a href="#åŠç›‘ç£å­¦ä¹ " class="headerlink" title="åŠç›‘ç£å­¦ä¹ "></a>åŠç›‘ç£å­¦ä¹ </h3><ul>
<li>ç”¨çš„æ¯”è¾ƒå°‘</li>
<li>ä»‹äºç›‘ç£å­¦ä¹ å’Œæ— ç›‘ç£å­¦ä¹ ä¹‹é—´</li>
</ul>
<h3 id="åº”ç”¨ç±»åˆ«"><a href="#åº”ç”¨ç±»åˆ«" class="headerlink" title="åº”ç”¨ç±»åˆ«"></a>åº”ç”¨ç±»åˆ«</h3><h4 id="å›å½’"><a href="#å›å½’" class="headerlink" title="å›å½’"></a>å›å½’</h4><p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823192438156-556059284.png"></p>
<h4 id="åˆ†ç±»-å¸¦æœ‰æ ‡ç­¾çš„ï¼Œä¸€èˆ¬å±äºç›‘ç£å­¦ä¹ "><a href="#åˆ†ç±»-å¸¦æœ‰æ ‡ç­¾çš„ï¼Œä¸€èˆ¬å±äºç›‘ç£å­¦ä¹ " class="headerlink" title="åˆ†ç±»(å¸¦æœ‰æ ‡ç­¾çš„ï¼Œä¸€èˆ¬å±äºç›‘ç£å­¦ä¹ )"></a>åˆ†ç±»(å¸¦æœ‰æ ‡ç­¾çš„ï¼Œä¸€èˆ¬å±äºç›‘ç£å­¦ä¹ )</h4><ul>
<li>åƒåœ¾é‚®ç®±åˆ†ç±»</li>
<li>æ–‡æœ¬åˆ†ç±»</li>
<li>å›¾åƒè¯†åˆ«(æ‰‹å†™ä½“è¯†åˆ«)</li>
</ul>
<h4 id="èšç±»"><a href="#èšç±»" class="headerlink" title="èšç±»"></a>èšç±»</h4><ul>
<li>æ— æ ‡ç­¾<br>ä¸‹é¢æ˜¯ç”¨èšç±»ç®—æ³•åˆ†æˆ3ä¸ªç±»åˆ«<br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823192800069-61672022.png"></li>
</ul>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>å›å½’ï¼šé¢„æµ‹æ•°æ®æ˜¯è¿ç»­å‹æ•°å€¼</li>
<li>åˆ†ç±»ï¼šé¢„æµ‹æ•°æ®æ˜¯ç±»åˆ«å‹(ç¦»æ•£)æ•°å€¼ï¼Œå¹¶ä¸”ç±»åˆ«å·²çŸ¥</li>
<li>èšç±»ï¼šé¢„æµ‹æ•°æ®æ˜¯ç±»åˆ«å‹æ•°å€¼ï¼Œå¹¶ä¸”ç±»åˆ«æœªçŸ¥</li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€å¤§å­æ®µå’Œâ€”â€”åˆ†æ²»æ³•è§£å†³</title>
    <url>/2020/09/30/MaximumSub-segmentSum/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šåˆ†æ²»æ³•.</p>
<a id="more"></a>

<ul>
<li>å¯ä»¥ä½¿ç”¨è›®åŠ›æ³•</li>
<li>ä½¿ç”¨åˆ†æ²»æ³•æ›´é«˜æ•ˆ<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/9/30</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">max_sum</span>(<span class="params">l: <span class="built_in">list</span>, left, right</span>):</span></span><br><span class="line">    <span class="keyword">if</span> left == right:</span><br><span class="line">        <span class="keyword">return</span> l[left]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        mid = (left + right) // <span class="number">2</span></span><br><span class="line">        left_sum = max_sum(l, left, mid)</span><br><span class="line">        right_sum = max_sum(l, mid + <span class="number">1</span>, right)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¤„ç†ä¸­é—´çš„</span></span><br><span class="line">        s1 = <span class="number">0</span></span><br><span class="line">        s1_max = <span class="number">0</span></span><br><span class="line">        <span class="comment"># ä»ä¸­é—´åˆ°å·¦è¾¹</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(mid, left - <span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            s1 += l[i]</span><br><span class="line">            <span class="keyword">if</span> s1 &gt; s1_max:</span><br><span class="line">                s1_max = s1</span><br><span class="line"></span><br><span class="line">        s2 = <span class="number">0</span></span><br><span class="line">        s2_max = <span class="number">0</span></span><br><span class="line">        <span class="comment"># ä»ä¸­é—´åˆ°å³è¾¹</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(mid + <span class="number">1</span>, right):</span><br><span class="line">            s2 += l[i]</span><br><span class="line">            <span class="keyword">if</span> s2_max &lt; s2:</span><br><span class="line">                s2_max = s2</span><br><span class="line"></span><br><span class="line">        s_max = s2_max + s1_max</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(left_sum, right_sum, s_max)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ll = [1, -2, 3, -4, 5, 6, -7, 4, 3, -3, 1]</span></span><br><span class="line">ll = [-<span class="number">2</span>, <span class="number">11</span>, -<span class="number">4</span>, <span class="number">13</span>, -<span class="number">5</span>, -<span class="number">2</span>]</span><br><span class="line">a = max_sum(ll, <span class="number">0</span>, <span class="built_in">len</span>(ll) - <span class="number">1</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">20</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>OJ</tag>
      </tags>
  </entry>
  <entry>
    <title>å€çº¦æ•°ç±»é—®é¢˜ç®—æ³•çš„ä¼˜åŒ–</title>
    <url>/2020/10/04/MultiplesProblem/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šä¼˜åŒ–</p>
<a id="more"></a>

<h2 id="åŸé¢˜æ¥è‡ªè“æ¡¥æ¯ï¼š"><a href="#åŸé¢˜æ¥è‡ªè“æ¡¥æ¯ï¼š" class="headerlink" title="åŸé¢˜æ¥è‡ªè“æ¡¥æ¯ï¼š"></a>åŸé¢˜æ¥è‡ªè“æ¡¥æ¯ï¼š</h2><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å·²çŸ¥æ­£æ•´æ•°a0,a1,b0,b1ã€‚è®¾æŸæœªçŸ¥æ­£æ•´æ•°x æ»¡è¶³ï¼š</span><br><span class="line">1ï¼ x å’Œa0 çš„æœ€å¤§å…¬çº¦æ•°æ˜¯a1ï¼›</span><br><span class="line">2ï¼ x å’Œ b0 çš„æœ€å°å…¬å€æ•°æ˜¯ b1ã€‚</span><br><span class="line">æ±‚è§£æ»¡è¶³æ¡ä»¶çš„ x çš„ä¸ªæ•°</span><br></pre></td></tr></table></figure>
<h2 id="é‡è¦ç»“è®º"><a href="#é‡è¦ç»“è®º" class="headerlink" title="é‡è¦ç»“è®º"></a>é‡è¦ç»“è®º</h2><p>ä¸¤ä¸ªéœ€è¦çŸ¥é“çš„å…³äºæœ€å¤§å…¬çº¦æ•°å’Œæœ€å°å…¬å€æ•°çš„ç»“è®ºã€‚</p>
<ul>
<li><p>æœ€å¤§å…¬çº¦æ•°ï¼šå¦‚æœgcd(x,y)=zï¼Œé‚£ä¹ˆgcd(x/z,y/z)=1</p>
</li>
<li><p>æœ€å°å…¬å€æ•°ï¼šlcm(x,y)=z</p>
<p> â‘ å¦‚æœlcm(x,y)=zï¼Œé‚£ä¹ˆgcd(z/y,z/x)=1ã€‚<br>è¿™ä¸ªæˆ‘ä»¬æ¥è¯æ˜ä¸€ä¸‹ï¼šæˆ‘ä»¬è®¾lcm(x,y)=zï¼Œé‚£ä¹ˆlcm(x,y)=x*y/gcd(x,y)=zï¼Œæ‰€ä»¥gcd(x,y)=x*y/zã€‚ç”±æœ€å¤§å…¬çº¦æ•°ç»“è®ºå¯å¾—ï¼Œgcd(z/y,z/x)=1ã€‚</p>
<p> â‘¡å¦‚æœyæ˜¯xçš„å…¬å€æ•°ï¼Œåˆ™xæ˜¯yçš„å› æ•°ï¼Œä¹Ÿå°±æ˜¯y % x == 0ã€‚<br>ç”±ä¸Šé¢å‡ æ¡ç»“è®ºå¯å¾—ï¼Œxä¸€å®šæ˜¯b1çš„å› æ•°ï¼Œè€Œä¸”x % a1 == 0ï¼Œgcd(x/a1 ,a0/a1) == 1ï¼Œgcd(b1/b0 ï¼Œb1/x) == 1ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æšä¸¾b1çš„å› æ•°ï¼Œç„¶ååˆ¤æ–­äº†</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">if</span> b == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> gcd(b, a % b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> n:</span><br><span class="line">    a0, a1, b0, b1 = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">    x_num = <span class="number">0</span></span><br><span class="line">    p = a0 / a1</span><br><span class="line">    q = b1 / b0</span><br><span class="line"></span><br><span class="line">    x = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> x * x &lt;= b1:</span><br><span class="line">        <span class="keyword">if</span> b1 % x == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> x % a1 == <span class="number">0</span> <span class="keyword">and</span> gcd(x / a1, p) == <span class="number">1</span> <span class="keyword">and</span> gcd(q, b1 / x) == <span class="number">1</span>:</span><br><span class="line">                x_num += <span class="number">1</span></span><br><span class="line">            y = b1 / x</span><br><span class="line">            <span class="keyword">if</span> x == y:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> y % a1 == <span class="number">0</span> <span class="keyword">and</span> gcd(y / a1, p) == <span class="number">1</span> <span class="keyword">and</span> gcd(q, b1 / y) == <span class="number">1</span>:</span><br><span class="line">                x_num += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        x += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    print(x_num)</span><br><span class="line"></span><br><span class="line">    n -= <span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>OJ</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¥ç»ç½‘ç»œ</title>
    <url>/2020/08/23/NeuralNetworks/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  



<h2 id="NN"><a href="#NN" class="headerlink" title="NN"></a>NN</h2><a id="more"></a>

<h4 id="ç¥ç»ç½‘ç»œ"><a href="#ç¥ç»ç½‘ç»œ" class="headerlink" title="ç¥ç»ç½‘ç»œ"></a>ç¥ç»ç½‘ç»œ</h4><ul>
<li><p>æ˜¯æ·±åº¦å­¦ä¹ çš„åŸºç¡€</p>
</li>
<li><p>æ·±åº¦å­¦ä¹ è®¡ç®—æ˜¯ç”¨GPUç®—çš„ï¼Œæ¯”å¦‚è‹±ä¼Ÿè¾¾</p>
<p>  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823211134725-123916710.png"></p>
</li>
</ul>
<ul>
<li><p>æ¨¡å‹æ”¶æ•›æ¡ä»¶ï¼Œå³æ¨¡å‹è®­ç»ƒç»“æŸæ¡ä»¶</p>
<ul>
<li><p>è¯¯å·® (å¦‚ä»£ä»·å‡½æ•°å€¼loss)å°äºæŸä¸ªé¢„å…ˆè®¾å®šçš„è¾ƒå°çš„å€¼ </p>
</li>
<li><p>ä¸¤æ¬¡è¿­ä»£ä¹‹é—´çš„æƒå€¼å˜åŒ–å·²ç»å¾ˆå° </p>
</li>
<li><p>è®¾å®šæœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œå½“è¿­ä»£è¶…è¿‡æœ€å¤§æ¬¡æ•°å°±åœæ­¢<strong>ï¼ˆç”¨çš„æœ€å¤šçš„ï¼‰</strong></p>
</li>
</ul>
</li>
</ul>
<h4 id="å•å±‚æ„ŸçŸ¥å™¨"><a href="#å•å±‚æ„ŸçŸ¥å™¨" class="headerlink" title="å•å±‚æ„ŸçŸ¥å™¨"></a>å•å±‚æ„ŸçŸ¥å™¨</h4><ul>
<li><p>æœ€åŸºç¡€çš„</p>
<p>  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823211219200-1028273035.png"></p>
</li>
</ul>
<ul>
<li><p>ä¸ºäº†çŸ©é˜µè®¡ç®—æ—¶æ–¹ä¾¿ä¸€äº›ï¼Œå°†åç½®å› å­bçœ‹æˆæ˜¯x0*w0</p>
<p>  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823211243222-1977009087.png"></p>
</li>
<li><p>æ„ŸçŸ¥å™¨å­¦ä¹ è§„åˆ™</p>
<p>  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823211303346-224510922.png"></p>
</li>
</ul>
<blockquote>
<p>eg:</p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823211315691-116490265.png"></p>
</blockquote>
<blockquote>
<ul>
<li>æ­¥éª¤å°±æ˜¯ä¸æ–­è¿­ä»£ï¼Œæœ€åå¦‚æœyç­‰äºæ­£ç¡®çš„æ ‡ç­¾tï¼Œé‚£æ¨¡å‹å»ºç«‹å°±ç»“æŸ</li>
</ul>
</blockquote>
<ul>
<li><p>å­¦ä¹ ç‡</p>
<ul>
<li><p>ğœ‚å–å€¼ä¸€èˆ¬å–0-1ä¹‹é—´ </p>
</li>
<li><p>å­¦ä¹ ç‡å¤ªå¤§å®¹æ˜“é€ æˆæƒå€¼è°ƒæ•´ä¸ç¨³å®š </p>
</li>
<li><p>å­¦ä¹ ç‡å¤ªå°ï¼Œæƒå€¼è°ƒæ•´å¤ªæ…¢ï¼Œè¿­ä»£æ¬¡æ•°å¤ªå¤š</p>
</li>
</ul>
</li>
</ul>
<p><strong>ä»£ç æ³¨æ„ï¼š</strong></p>
<ul>
<li><p>ä¸€èˆ¬æŠŠè¾“å…¥æ•°æ®å’Œæ ‡ç­¾è®¾ç½®æˆ2ç»´çš„å½¢å¼</p>
</li>
<li><p>è¾“å…¥mä¸ªï¼Œè¾“å‡ºnä¸ªï¼Œå°±æŠŠæƒå€¼è®¾ä¸ºmè¡Œnåˆ—ï¼ˆè¿™æ˜¯éšæœºå–æƒå€¼çš„æƒ…å†µï¼‰</p>
</li>
<li><p>Xæ˜¯ä¸ªçŸ©é˜µï¼ŒX.Tåˆ™æ˜¯Xçš„è½¬ç½®çŸ©é˜µ</p>
</li>
<li><p>Xï¼ŒYæ˜¯ä¸¤ä¸ªçŸ©é˜µï¼Œä»–ä»¬ç›¸ä¹˜å¯ä»¥å†™æˆX.dot(Y)ï¼Œæˆ–è€…numpy.dot(X, Y)</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">np.sign æ˜¯è‡ªå¸¦çš„æ¿€æ´»å‡½æ•°</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>eg:</p>
<p>  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823211339540-385392031.png"></p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/7</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å…¥æ•°æ®</span></span><br><span class="line">X = np.array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>],</span><br><span class="line">              [<span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>],</span><br><span class="line">              [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">              [<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>]])</span><br><span class="line"><span class="comment"># æ ‡ç­¾</span></span><br><span class="line">Y = np.array([[<span class="number">1</span>],</span><br><span class="line">              [<span class="number">1</span>],</span><br><span class="line">              [-<span class="number">1</span>],</span><br><span class="line">              [-<span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–æƒå€¼ï¼Œ3è¡Œ1åˆ—ï¼Œå–å€¼-1åˆ°1</span></span><br><span class="line">W = (np.random.random([<span class="number">3</span>, <span class="number">1</span>]) - <span class="number">0.5</span>) * <span class="number">2</span></span><br><span class="line"><span class="comment"># è®¾ç½®å­¦ä¹ ç‡</span></span><br><span class="line">lr = <span class="number">0.11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰æ›´æ–°æƒå€¼çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_weight</span>():</span></span><br><span class="line">    <span class="keyword">global</span> X, Y, W, lr</span><br><span class="line">    out = np.sign(np.dot(X, W))  <span class="comment"># ç¥ç»ç½‘ç»œè¾“å‡º,ç›´æ¥å¾—åˆ°4ä¸ªé¢„æµ‹å€¼</span></span><br><span class="line">    theta_w = lr * (X.T.dot(Y - out)) / <span class="built_in">int</span>(X.shape[<span class="number">0</span>])  <span class="comment"># æ•°æ®é‡å¤§æ—¶å–å¹³å‡</span></span><br><span class="line">    W = W + theta_w</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    update_weight()</span><br><span class="line">    print(<span class="string">&#x27;ç¬¬&#123;&#125;æ¬¡è¿­ä»£ï¼š&#x27;</span>.<span class="built_in">format</span>(i))</span><br><span class="line">    print(W)</span><br><span class="line">    out = np.sign(np.dot(X, W))  <span class="comment"># è®¡ç®—å½“å‰è¾“å‡º</span></span><br><span class="line">    <span class="comment"># .all()åªæœ‰è¾“å‡ºçš„æ‰€æœ‰é¢„æµ‹å€¼éƒ½ä¸å®é™…è¾“å‡ºä¸€æ ·ï¼Œæ‰è¯´æ˜æ¨¡å‹æ”¶æ•›ï¼Œå¾ªç¯ç»“æŸ</span></span><br><span class="line">    <span class="keyword">if</span> (out == Y).<span class="built_in">all</span>():</span><br><span class="line">        print(<span class="string">&#x27;Finished , epoch:&#x27;</span>, i)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;ä¸Šé¢è¿­ä»£åˆ°æœ€åä¸€æ¬¡æ—¶ï¼ŒWå°±å¯ä»¥ç¡®å®šåˆ†ç•Œçº¿çš„æˆªè·å’Œæ•ˆç‡äº†&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># è®¡ç®—åˆ†ç•Œçº¿çš„æ–œç‡å’Œæˆªè·</span></span><br><span class="line">k = -W[<span class="number">1</span>] / W[<span class="number">2</span>]</span><br><span class="line">b = -W[<span class="number">0</span>] / W[<span class="number">2</span>]</span><br><span class="line">print(<span class="string">&#x27;k = &#x27;</span>, k)</span><br><span class="line">print(<span class="string">&#x27;b = &#x27;</span>, b)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;å¯ä»¥æŠŠå›¾ç”»å‡ºæ¥&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­£æ ·æœ¬</span></span><br><span class="line">x1 = [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">y1 = [<span class="number">3</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment"># è´Ÿæ ·æœ¬</span></span><br><span class="line">x2 = [<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line">y2 = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="comment"># ç”»å›¾æ¨ªåæ ‡è¾¹ç•Œ</span></span><br><span class="line">x_range = (<span class="number">0</span>, <span class="number">5</span>)  <span class="comment"># æˆ–è€…x_range = [0, 5]</span></span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">plt.plot(x_range, x_range * k + b, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.scatter(x1, y1, c=<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">plt.scatter(x2, y2, c=<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823211402590-15968975.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ç¬¬<span class="number">0</span>æ¬¡è¿­ä»£ï¼š</span><br><span class="line">[[<span class="number">0.27110547</span>]</span><br><span class="line"> [<span class="number">0.68355699</span>]</span><br><span class="line"> [<span class="number">0.31271088</span>]]</span><br><span class="line">ç¬¬<span class="number">1</span>æ¬¡è¿­ä»£ï¼š</span><br><span class="line">[[<span class="number">0.16110547</span>]</span><br><span class="line"> [<span class="number">0.62855699</span>]</span><br><span class="line"> [<span class="number">0.14771088</span>]]</span><br><span class="line">ç¬¬<span class="number">2</span>æ¬¡è¿­ä»£ï¼š</span><br><span class="line">[[ <span class="number">0.05110547</span>]</span><br><span class="line"> [ <span class="number">0.57355699</span>]</span><br><span class="line"> [-<span class="number">0.01728912</span>]]</span><br><span class="line">ç¬¬<span class="number">3</span>æ¬¡è¿­ä»£ï¼š</span><br><span class="line">[[-<span class="number">0.05889453</span>]</span><br><span class="line"> [ <span class="number">0.51855699</span>]</span><br><span class="line"> [-<span class="number">0.18228912</span>]]</span><br><span class="line">ç¬¬<span class="number">4</span>æ¬¡è¿­ä»£ï¼š</span><br><span class="line">[[-<span class="number">0.11389453</span>]</span><br><span class="line"> [ <span class="number">0.46355699</span>]</span><br><span class="line"> [-<span class="number">0.23728912</span>]]</span><br><span class="line">ç¬¬<span class="number">5</span>æ¬¡è¿­ä»£ï¼š</span><br><span class="line">[[-<span class="number">0.16889453</span>]</span><br><span class="line"> [ <span class="number">0.40855699</span>]</span><br><span class="line"> [-<span class="number">0.29228912</span>]]</span><br><span class="line">Finished , epoch: <span class="number">5</span></span><br><span class="line">k =  [<span class="number">1.39778378</span>]</span><br><span class="line">b =  [-<span class="number">0.5778338</span>]</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><p>æ¯æ¬¡è¿è¡Œç»“æœéƒ½ä¸åŒï¼Œå› ä¸ºæƒå€¼æ˜¯éšæœºè®¾ç½®çš„</p>
</li>
<li><p>å•å±‚æ„ŸçŸ¥å™¨å¯ä»¥å¸®æˆ‘ä»¬è§£å†³ä¸€äº›åˆ†ç±»é—®é¢˜</p>
</li>
<li><p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>æ•ˆæœä¸æ˜¯å¾ˆå¥½</li>
<li>ä¸èƒ½è§£å†³éçº¿æ€§çš„é—®é¢˜ï¼Œå¦‚å¼‚æˆ–é—®é¢˜</li>
<li>å› ä¸ºç”¨çš„æ¿€æ´»å‡½æ•°æ˜¯signï¼Œæ‰€ä»¥å®é™…æ ‡ç­¾åªèƒ½è®¾1å’Œ-1</li>
</ul>
</li>
</ul>
<h4 id="çº¿æ€§ç¥ç»ç½‘ç»œ"><a href="#çº¿æ€§ç¥ç»ç½‘ç»œ" class="headerlink" title="çº¿æ€§ç¥ç»ç½‘ç»œ"></a>çº¿æ€§ç¥ç»ç½‘ç»œ</h4><ul>
<li><p>çº¿æ€§ç¥ç»ç½‘ç»œåœ¨ç»“æ„ä¸Šä¸æ„ŸçŸ¥å™¨éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯æ¿€æ´»å‡½æ•°ä¸åŒã€‚ </p>
<p>  åœ¨æ¨¡å‹è®­ç»ƒæ—¶æŠŠåŸæ¥çš„signå‡½æ•°æ”¹æˆäº†purelinå‡½æ•°ï¼šy = x</p>
</li>
<li><p>ä¹Ÿå°±æ˜¯ï¼ŒæŠŠå•å±‚æ„ŸçŸ¥å™¨çš„ out = np.sign(np.dot(X, W)) æ”¹æˆ out = np.dot(X, W)å³å¯</p>
</li>
<li><p>Deltaå­¦ä¹ è§„åˆ™ï¼Œæ¯”å•å±‚æ„ŸçŸ¥å™¨å¤æ‚</p>
</li>
<li><p>è§£å†³å¼‚æˆ–é—®é¢˜(åˆ†ç±»)</p>
<p>  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823211503725-928056465.png"><br>  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823211727796-1996714021.png"></p>
</li>
</ul>
<p><code> ä¸Šé¢aç®—å‡ºæ¥æ˜¯ w5</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/8</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;x0,x1,x2,x1^2,x1x2,x2^2&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å…¥æ•°æ®</span></span><br><span class="line">X = np.array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">              [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">              [<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">              [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br><span class="line"><span class="comment"># æ ‡ç­¾</span></span><br><span class="line">Y = np.array([-<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–æƒå€¼ï¼Œæœ‰6ä¸ªæƒå€¼</span></span><br><span class="line">W = (np.random.random(<span class="number">6</span>) - <span class="number">0.5</span>) * <span class="number">2</span></span><br><span class="line"><span class="comment"># è®¾ç½®å­¦ä¹ ç‡</span></span><br><span class="line">lr = <span class="number">0.11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰æ›´æ–°æƒå€¼çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_weight</span>():</span></span><br><span class="line">    <span class="keyword">global</span> X, Y, W, lr</span><br><span class="line">    out = np.dot(X, W.T)  <span class="comment"># è®¡ç®—å½“å‰è¾“å‡º  # ç¥ç»ç½‘ç»œè¾“å‡º,ç›´æ¥å¾—åˆ°4ä¸ªé¢„æµ‹å€¼</span></span><br><span class="line">    theta_w = lr * ((Y - out.T).dot(X)) / <span class="built_in">int</span>(X.shape[<span class="number">0</span>])  <span class="comment"># æ•°æ®é‡å¤§æ—¶å–å¹³å‡</span></span><br><span class="line">    W = W + theta_w</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰è®¡ç®—é¢„æµ‹ç»“æœçš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calculate</span>(<span class="params">x, root_num</span>):</span></span><br><span class="line">    <span class="keyword">global</span> W</span><br><span class="line">    a = W[<span class="number">5</span>]</span><br><span class="line">    b = W[<span class="number">2</span>] + x * W[<span class="number">4</span>]</span><br><span class="line">    c = W[<span class="number">0</span>] + x * W[<span class="number">1</span>] + x * x * W[<span class="number">3</span>]</span><br><span class="line">    <span class="keyword">if</span> root_num == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> (-b + np.sqrt(b * b - <span class="number">4</span> * a * c)) / (<span class="number">2</span> * a)</span><br><span class="line">    <span class="keyword">if</span> root_num == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> (-b - np.sqrt(b * b - <span class="number">4</span> * a * c)) / (<span class="number">2</span> * a)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡å¢åŠ å¾ªç¯æ¬¡æ•°ï¼Œä½¿å¾—åˆ†ç±»æ•ˆæœè¶Šå¥½</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10000</span>):</span><br><span class="line">    update_weight()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;ä¸Šé¢è¿­ä»£åˆ°æœ€åä¸€æ¬¡æ—¶ï¼ŒWå°±å¯ä»¥ç¡®å®šåˆ†ç•Œçº¿çš„æˆªè·å’Œæ•ˆç‡äº†&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;å¯ä»¥æŠŠå›¾ç”»å‡ºæ¥&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­£æ ·æœ¬</span></span><br><span class="line">x1 = [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">y1 = [<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line"><span class="comment"># è´Ÿæ ·æœ¬</span></span><br><span class="line">x2 = [<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line">y2 = [<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line"><span class="comment"># ç”»å›¾æ¨ªåæ ‡è¾¹ç•Œ</span></span><br><span class="line">x_range = np.linspace(-<span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># æˆ–è€…x_range = [0, 5]</span></span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">plt.plot(x_range, calculate(x_range, <span class="number">1</span>), <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.plot(x_range, calculate(x_range, <span class="number">2</span>), <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.plot(x1, y1, <span class="string">&#x27;bo&#x27;</span>)</span><br><span class="line">plt.plot(x2, y2, <span class="string">&#x27;yo&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># çœ‹ä¸€ä¸‹é¢„æµ‹ç»“æœ,è¿­ä»£æ¬¡æ•°è¶Šå¤šï¼Œé¢„æµ‹ç»“æœè¶Šç²¾ç¡®</span></span><br><span class="line">out = np.dot(X, W.T)</span><br><span class="line">print(out)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[-1.  1.  1. -1.] #è¿­ä»£10000æ¬¡</span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823211658824-666508626.png"></p>
<h4 id="BPç¥ç»ç½‘ç»œ"><a href="#BPç¥ç»ç½‘ç»œ" class="headerlink" title="BPç¥ç»ç½‘ç»œ"></a>BPç¥ç»ç½‘ç»œ</h4><ul>
<li>å…¬å¼æ¨å¯¼éƒ¨åˆ†å‚è€ƒæ•™ç¨‹</li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³PyCharmçš„æ’ä»¶å¸‚åœºæœç´¢ä¸åˆ°çš„é—®é¢˜</title>
    <url>/2021/01/16/PyCharmPlugin/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  
- PyCharm 2020.3.1 æ‰“å¼€æ’ä»¶å¸‚åœºæœç´¢ä¸å‡ºæƒ³è¦çš„æ’ä»¶
- è§£å†³æ–¹æ³•ï¼šä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPyCharmï¼Œç„¶ååœ¨å»æ’ä»¶å¸‚åœºæœç´¢å°±æœ‰äº†

]]></content>
      <categories>
        <category>Solution</category>
      </categories>
      <tags>
        <tag>è§£å†³æ–¹æ¡ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†æ²»æ³•æ±‚é€†åºå¯¹</title>
    <url>/2020/10/14/ReversePair/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šåˆ†æ²»ï¼Œå½’å¹¶</p>
<a id="more"></a>

<ul>
<li>ä½¿ç”¨åˆ°å½’å¹¶çš„æ€æƒ³</li>
<li>ä¸€è¾¹æ’åºä¸€è¾¹è®¡æ•°</li>
</ul>
<h1 id="code"><a href="#code" class="headerlink" title="code"></a>code</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/10/14</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">num = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]</span><br><span class="line">temp = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]</span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span>(<span class="params">low, high, mid</span>):</span></span><br><span class="line">    left = low  <span class="comment"># å·¦è¾¹æ•°ç»„æŒ‡é’ˆ</span></span><br><span class="line">    right = mid + <span class="number">1</span>  <span class="comment"># å³è¾¹æ•°ç»„æŒ‡é’ˆ</span></span><br><span class="line">    k = low  <span class="comment"># tempæ•°ç»„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">global</span> count</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> left &lt;= mid <span class="keyword">and</span> right &lt;= high:</span><br><span class="line">        <span class="keyword">if</span> num[left] &gt; num[right]:</span><br><span class="line">            temp[k] = num[right]</span><br><span class="line">            k += <span class="number">1</span></span><br><span class="line">            right += <span class="number">1</span></span><br><span class="line">            <span class="comment"># æ±‚é€†åºå¯¹</span></span><br><span class="line">            count += mid - left + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            temp[k] = num[left]</span><br><span class="line">            k += <span class="number">1</span></span><br><span class="line">            left += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ£€æµ‹å·¦è¾¹</span></span><br><span class="line">    <span class="keyword">while</span> left &lt;= mid:</span><br><span class="line">        temp[k] = num[left]</span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line">        left += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ£€æŸ¥å³è¾¹</span></span><br><span class="line">    <span class="keyword">while</span> right &lt;= high:</span><br><span class="line">        temp[k] = num[right]</span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line">        right += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‹·è´</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(low, high + <span class="number">1</span>):</span><br><span class="line">        num[i] = temp[i]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span>(<span class="params">low, high</span>):</span></span><br><span class="line">    <span class="keyword">if</span> low &gt;= high:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ†</span></span><br><span class="line">    mid = (high + low) // <span class="number">2</span></span><br><span class="line">    <span class="comment"># mid = low + (high - low) // 2</span></span><br><span class="line">    merge_sort(low, mid)</span><br><span class="line">    merge_sort(mid + <span class="number">1</span>, high)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ²»</span></span><br><span class="line">    merge(low, high, mid)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># test = [3, 5, 2, 4, 6]</span></span><br><span class="line">    <span class="comment"># è¾“å…¥</span></span><br><span class="line">    num = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split()))</span><br><span class="line">    merge_sort(<span class="number">0</span>, <span class="built_in">len</span>(num) - <span class="number">1</span>)</span><br><span class="line">    print(count)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>ç»“æœ<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">3 5 2 4 6</span><br><span class="line"></span><br><span class="line">3</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>OJ</tag>
      </tags>
  </entry>
  <entry>
    <title>STLåŸºç¡€éƒ¨åˆ†</title>
    <url>/2020/09/03/STL_base/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šåŸºç¡€éƒ¨åˆ†ã€stringã€vectorã€queueã€stackã€setã€dequeã€listâ€¦</p>
<a id="more"></a>

<h1 id="string"><a href="#string" class="headerlink" title="string"></a>string</h1><h2 id="è¾“å…¥è¾“å‡ºå­—ç¬¦ä¸²"><a href="#è¾“å…¥è¾“å‡ºå­—ç¬¦ä¸²" class="headerlink" title="è¾“å…¥è¾“å‡ºå­—ç¬¦ä¸²"></a>è¾“å…¥è¾“å‡ºå­—ç¬¦ä¸²</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//    string s = &quot;12312hello world...&quot;;</span></span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    getline(<span class="built_in">cin</span>, s);<span class="comment">//è¾“å…¥å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">21314 hello woefsdcsd</span><br><span class="line">21314 hello woefsdcsd</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="å­—ç¬¦ä¸²æ‹¼å‡‘"><a href="#å­—ç¬¦ä¸²æ‹¼å‡‘" class="headerlink" title="å­—ç¬¦ä¸²æ‹¼å‡‘"></a>å­—ç¬¦ä¸²æ‹¼å‡‘</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//    string s = &quot;12312hello world...&quot;;</span></span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    s += <span class="string">&quot;shda s&quot;</span>;</span><br><span class="line">    s += <span class="string">&quot;shda s&quot;</span>;</span><br><span class="line">    s += <span class="string">&#x27;5&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">shda sshda s5</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">&quot;1523525431873&quot;</span>;</span><br><span class="line">    sort(s.begin(), s.end());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1122333455578</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<ul>
<li><code>s.begin(), s.end()</code>æ˜¯è¿­ä»£å™¨ï¼Œå¯ä»¥çœ‹æˆæ˜¯æŒ‡é’ˆ</li>
<li>å¦‚æœè¦è®¿é—®æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œåº”è¯¥æ˜¯<code>*(--s.end())</code></li>
</ul>
<h2 id="eraseåˆ é™¤"><a href="#eraseåˆ é™¤" class="headerlink" title="eraseåˆ é™¤"></a>eraseåˆ é™¤</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">&quot;1523525431873&quot;</span>;</span><br><span class="line">    s.erase(s.begin());</span><br><span class="line">    s.erase(--s.end());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">52352543187</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="substrå–å­ä¸²"><a href="#substrå–å­ä¸²" class="headerlink" title="substrå–å­ä¸²"></a>substrå–å­ä¸²</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">&quot;1523525431873&quot;</span>;</span><br><span class="line">    s = s.substr(<span class="number">2</span>, <span class="number">3</span>);<span class="comment">//ä»ç´¢å¼•ä¸º2å¼€å§‹å–ï¼Œå¾€åå–ä¸‰ä¸ª</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s;</span><br><span class="line">    s = <span class="string">&quot;1523525431873&quot;</span>;</span><br><span class="line">    s = s.substr(<span class="number">6</span>, <span class="number">-1</span>);<span class="comment">//ä»ç´¢å¼•ä¸º6å¼€å§‹å–ï¼Œç›´åˆ°æœ€åä¸€ä¸ª</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">235</span><br><span class="line">5431873</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="å‡ ç§å¾ªç¯æ–¹å¼"><a href="#å‡ ç§å¾ªç¯æ–¹å¼" class="headerlink" title="å‡ ç§å¾ªç¯æ–¹å¼"></a>å‡ ç§å¾ªç¯æ–¹å¼</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">&quot;1523525431873&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); ++i)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; s[i];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">string</span>::iterator iter = s.begin(); iter != s.end(); iter++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *iter;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : s)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1523525431873</span><br><span class="line">1523525431873</span><br><span class="line">1523525431873</span><br><span class="line">1523525431873</span><br><span class="line">Process finished with exit code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h1><h2 id="åˆå§‹åŒ–ã€æ‰“å°"><a href="#åˆå§‹åŒ–ã€æ‰“å°" class="headerlink" title="åˆå§‹åŒ–ã€æ‰“å°"></a>åˆå§‹åŒ–ã€æ‰“å°</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v</span><span class="params">(<span class="number">3</span>, <span class="number">1</span>)</span></span>;<span class="comment">//åˆå§‹åŒ–3ä¸ª1</span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v1</span><span class="params">(<span class="number">3</span>)</span></span>;<span class="comment">//åˆå§‹åŒ–3ä¸ª0</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v)<span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v1)<span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v2)<span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">111</span><br><span class="line">000</span><br><span class="line">12345</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="å–å…ƒç´ -æˆ–è€…at"><a href="#å–å…ƒç´ -æˆ–è€…at" class="headerlink" title="å–å…ƒç´  []æˆ–è€…at()"></a>å–å…ƒç´  []æˆ–è€…at()</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    <span class="comment">//å–æŸä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;v[<span class="number">2</span>];<span class="comment">//å–ç´¢å¼•ä¸º2 å…ƒç´ </span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;v.at(<span class="number">4</span>);<span class="comment">//å–ç´¢å¼•ä¸º4çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è¿½åŠ push-back"><a href="#è¿½åŠ push-back" class="headerlink" title="è¿½åŠ push_back"></a>è¿½åŠ push_back</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12345777</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="resizeé‡ç½®å¤§å°ï¼Œåé¢è¡¥0"><a href="#resizeé‡ç½®å¤§å°ï¼Œåé¢è¡¥0" class="headerlink" title="resizeé‡ç½®å¤§å°ï¼Œåé¢è¡¥0"></a>resizeé‡ç½®å¤§å°ï¼Œåé¢è¡¥0</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    v.resize(<span class="number">20</span>);<span class="comment">//è¿›è¡Œé‡ç½®å¤§å°ï¼Œåé¢è¡¥0</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12345777</span><br><span class="line">12345777000000000000</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="eraseåˆ é™¤ï¼Œåœ¨vectorä¸­çš„å¤æ‚åº¦ä¸ºO-n"><a href="#eraseåˆ é™¤ï¼Œåœ¨vectorä¸­çš„å¤æ‚åº¦ä¸ºO-n" class="headerlink" title="eraseåˆ é™¤ï¼Œåœ¨vectorä¸­çš„å¤æ‚åº¦ä¸ºO(n)"></a>eraseåˆ é™¤ï¼Œåœ¨vectorä¸­çš„å¤æ‚åº¦ä¸ºO(n)</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//åˆ é™¤,åœ¨è¿™é‡Œçš„å¤æ‚åº¦ä¸ºO(n)</span></span><br><span class="line">    v.erase(v.begin());</span><br><span class="line">    v.erase(--v.end());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12345777</span><br><span class="line">234577</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="front-back"><a href="#front-back" class="headerlink" title="front(),back()"></a>front(),back()</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//å–å…ƒç´ </span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v.front() &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; v.back() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *v.begin() &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; *(--v.end()) &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; v[v.size() - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12345777</span><br><span class="line">1 7</span><br><span class="line">1 7 7</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="æ’åºsort"><a href="#æ’åºsort" class="headerlink" title="æ’åºsort"></a>æ’åºsort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">55</span>, <span class="number">15</span>, <span class="number">4</span>, <span class="number">25</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    sort(v.begin(), v.end());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    sort(v.rbegin(), v.rend());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1 55 15 4 25 7 7 7</span><br><span class="line">1 4 7 7 7 15 25 55</span><br><span class="line">55 25 15 7 7 7 4 1</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<ul>
<li>ä»å¤§åˆ°å°è¿˜å¯ä»¥ç”¨<br><code>sort(v.begin(), v.end(), greater&lt;&gt;());</code><h2 id="å¾ªç¯ä¸stringçš„ç±»ä¼¼"><a href="#å¾ªç¯ä¸stringçš„ç±»ä¼¼" class="headerlink" title="å¾ªç¯ä¸stringçš„ç±»ä¼¼"></a>å¾ªç¯ä¸stringçš„ç±»ä¼¼</h2></li>
<li>ç”¨çš„è¾ƒå¤šçš„æ˜¯<code>for (auto x:v) cout &lt;&lt; x &lt;&lt; &#39; &#39;;</code></li>
</ul>
<h1 id="stack"><a href="#stack" class="headerlink" title="stack"></a>stack</h1><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><ul>
<li>ä¸€èˆ¬åˆ·ç®—æ³•é¢˜éƒ½ç›´æ¥è¿™æ ·å†™<code> stack&lt;int&gt; s;</code></li>
<li>å¦‚æœä¸ç”¨<code>&lt;bits/stdc++.h&gt;</code>,é‚£è¦ç”¨<code>&lt;stack&gt;</code><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="push-pop-top"><a href="#push-pop-top" class="headerlink" title="push, pop, top"></a>push, pop, top</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">    s.push(<span class="number">2</span>);</span><br><span class="line">    s.push(<span class="number">1</span>);</span><br><span class="line">    s.push(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s.top();</span><br><span class="line">    s.pop();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s.top();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">31</span><br></pre></td></tr></table></figure></li>
<li>push å…¥æ ˆ</li>
<li>popå‡ºæ ˆ</li>
<li>topå–æ ˆé¡¶</li>
<li>sizeå–é•¿åº¦</li>
<li><code>cout &lt;&lt; s.empty();</code> æ˜¯ç©ºå°±è¿”å›1ï¼Œå¦åˆ™ä¸º0<h2 id="åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"><a href="#åè¿›åˆ¶è½¬äºŒè¿›åˆ¶" class="headerlink" title="åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"></a>åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tenToTwo</span><span class="params">(<span class="keyword">int</span> decimal)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (decimal != <span class="number">0</span>) &#123;</span><br><span class="line">        s.push(decimal % <span class="number">2</span>);</span><br><span class="line">        decimal /= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!s.empty()) &#123;</span><br><span class="line">        res = res * <span class="number">10</span> + s.top();</span><br><span class="line">        s.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; tenToTwo(<span class="number">11</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1011</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="é€†åºè¾“å‡ºå¥å­å•è¯"><a href="#é€†åºè¾“å‡ºå¥å­å•è¯" class="headerlink" title="é€†åºè¾“å‡ºå¥å­å•è¯"></a>é€†åºè¾“å‡ºå¥å­å•è¯</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stringstream</span> ss;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    getline(<span class="built_in">cin</span>, str);</span><br><span class="line">    ss &lt;&lt; str;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="built_in">string</span>&gt; s;</span><br><span class="line">    <span class="keyword">while</span> (ss &gt;&gt; str) &#123;</span><br><span class="line">        s.push(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!s.empty()) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; s.top();</span><br><span class="line">        <span class="keyword">if</span> (s.size() != <span class="number">1</span>) <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        s.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">we are young man</span><br><span class="line">man young are we</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—"><a href="#å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—" class="headerlink" title="å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—"></a>å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—</h2><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3></li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stringstream</span> ss;</span><br><span class="line">    <span class="built_in">string</span> str = <span class="string">&quot;12455&quot;</span>;</span><br><span class="line">    <span class="comment">//æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—</span></span><br><span class="line">    ss &lt;&lt; str;<span class="comment">//å…ˆæŠŠâ€œ12345â€æµå…¥ss</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    ss &gt;&gt; num;<span class="comment">//å†ä»ssæµå…¥æ•´å‹num</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; num;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>12455<br>Process finished with exit code 0</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### æ–¹æ³•äºŒ</span><br><span class="line">â€‹&#96;&#96;&#96;c++</span><br><span class="line">int main() &#123;</span><br><span class="line">    stringstream ss;</span><br><span class="line">    string str &#x3D; &quot;12455&quot;;</span><br><span class="line">    &#x2F;&#x2F;æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—</span><br><span class="line">    int num &#x3D; stoi(str);</span><br><span class="line">    cout &lt;&lt; num;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12455</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²"><a href="#æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²" class="headerlink" title="æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²"></a>æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²</h2><h3 id="æ–¹æ³•ä¸€-1"><a href="#æ–¹æ³•ä¸€-1" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stringstream</span> ss;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="comment">//æ•°å­—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">12556</span>;</span><br><span class="line">    ss &lt;&lt; num;</span><br><span class="line">    ss &gt;&gt; str;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; str;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12556</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stringstream</span> ss;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="comment">//æ•°å­—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">12556</span>;</span><br><span class="line">    str = to_string(num);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; str;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12556</span><br></pre></td></tr></table></figure>
<h1 id="queue"><a href="#queue" class="headerlink" title="queue"></a>queue</h1><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    q.push(<span class="number">4</span>);</span><br><span class="line">    q.push(<span class="number">3</span>);</span><br><span class="line">    q.push(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;q.size()&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;q.front();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">3 4</span><br></pre></td></tr></table></figure>
<h1 id="map-å’Œ-unordered-map"><a href="#map-å’Œ-unordered-map" class="headerlink" title="map å’Œ unordered_map"></a>map å’Œ unordered_map</h1><ul>
<li>map: æœ‰åºçš„ï¼Œåº•å±‚æ˜¯æ ‘çŠ¶ç»“æ„<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; dict;</span><br><span class="line">    dict[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">    dict[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">    dict[<span class="number">4</span>] = <span class="number">12</span>;</span><br><span class="line">    <span class="comment">//æ‰“å°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> item: dict)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; item.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; item.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//å¦ä¸€ç§æ‰“å°æ–¹å¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iterator = dict.begin(); iterator != dict.end(); iterator++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; iterator-&gt;first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; iterator-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1 2</span><br><span class="line">2 0</span><br><span class="line">4 12</span><br><span class="line">1 2</span><br><span class="line">2 0</span><br><span class="line">4 12</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li>unorderedâ€”â€”mapï¼šæ— åºçš„ï¼Œåº•å±‚æ˜¯å“ˆå¸Œç»“æ„</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; dict;</span><br><span class="line">    dict[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">    dict[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">    dict[<span class="number">4</span>] = <span class="number">12</span>;</span><br><span class="line">    <span class="comment">//æ‰“å°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> item: dict)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; item.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; item.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//å¦ä¸€ç§æ‰“å°æ–¹å¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iterator = dict.begin(); iterator != dict.end(); iterator++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; iterator-&gt;first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; iterator-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4 12</span><br><span class="line">1 2</span><br><span class="line">2 0</span><br><span class="line">4 12</span><br><span class="line">1 2</span><br><span class="line">2 0</span><br><span class="line">Process finished with exit code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>æ‰“å°å‡ºæ¥æ˜¯æ— åºçš„<h1 id="set"><a href="#set" class="headerlink" title="set"></a>set</h1><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"><span class="comment">//    set&lt;int&gt; s;</span></span><br><span class="line">    s.insert(<span class="number">2</span>);</span><br><span class="line">    s.insert(<span class="number">2</span>);</span><br><span class="line">    s.insert(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s.size();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i:s)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">232</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h1 id="deque"><a href="#deque" class="headerlink" title="deque"></a>deque</h1><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">deque</span>;</span><br><span class="line">    <span class="built_in">deque</span>.push_back(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_back(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_front(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_front(<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">deque</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    <span class="built_in">deque</span>.pop_back();</span><br><span class="line">    <span class="built_in">deque</span>.pop_front();</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">deque</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4312</span><br><span class="line">31</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="å¯ä»¥æ’åº"><a href="#å¯ä»¥æ’åº" class="headerlink" title="å¯ä»¥æ’åº"></a>å¯ä»¥æ’åº</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">deque</span>;</span><br><span class="line">    <span class="built_in">deque</span>.push_back(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_back(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_front(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_front(<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">deque</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    sort(<span class="built_in">deque</span>.begin(), <span class="built_in">deque</span>.end());</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">deque</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4312</span><br><span class="line">1234</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h1 id="list"><a href="#list" class="headerlink" title="list"></a>list</h1><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>;</span><br><span class="line">    <span class="built_in">list</span>.push_front(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">list</span>.push_front(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">list</span>.push_back(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">list</span>.push_back(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">list</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//æ’å…¥</span></span><br><span class="line">    <span class="built_in">list</span>.insert(++<span class="built_in">list</span>.begin(), <span class="number">99</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">list</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//é‡Œé¢çš„å€¼</span></span><br><span class="line">    <span class="built_in">list</span>.remove(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">list</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">3 2 4 1</span><br><span class="line">3 99 2 4 1</span><br><span class="line">99 2 4 1</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>OJ</tag>
      </tags>
  </entry>
  <entry>
    <title>Scarpyä¿å­˜æ•°æ®åˆ°jsonæ–‡ä»¶</title>
    <url>/2020/08/28/ScrapySaveToJson/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šåˆ©ç”¨itemså’Œå‘½ä»¤è¡Œä¿å­˜æˆjsonæ ¼å¼çš„æ–‡ä»¶</p>
<a id="more"></a>

<h1 id="åœ¨items-pyä¸­è®¾ç½®éœ€è¦ä¿å­˜çš„å±æ€§"><a href="#åœ¨items-pyä¸­è®¾ç½®éœ€è¦ä¿å­˜çš„å±æ€§" class="headerlink" title="åœ¨items.pyä¸­è®¾ç½®éœ€è¦ä¿å­˜çš„å±æ€§"></a>åœ¨items.pyä¸­è®¾ç½®éœ€è¦ä¿å­˜çš„å±æ€§</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestscrapyItem</span>(<span class="params">scrapy.Item</span>):</span></span><br><span class="line">    <span class="comment"># define the fields for your item here like:</span></span><br><span class="line">    <span class="comment"># name = scrapy.Field()</span></span><br><span class="line">    page = scrapy.Field()</span><br><span class="line">    name = scrapy.Field()</span><br><span class="line">    word = scrapy.Field()</span><br></pre></td></tr></table></figure>
<h1 id="åœ¨çˆ¬è™«æ–‡ä»¶å®ä¾‹Itemå¯¹è±¡"><a href="#åœ¨çˆ¬è™«æ–‡ä»¶å®ä¾‹Itemå¯¹è±¡" class="headerlink" title="åœ¨çˆ¬è™«æ–‡ä»¶å®ä¾‹Itemå¯¹è±¡"></a>åœ¨çˆ¬è™«æ–‡ä»¶å®ä¾‹Itemå¯¹è±¡</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">item = TestscrapyItem(page=self.page_num, name=people, word=word)</span><br><span class="line"><span class="keyword">yield</span> item</span><br></pre></td></tr></table></figure>
<h1 id="æ³¨æ„itemæŠ›å›çš„ä»£ç ä½ç½®"><a href="#æ³¨æ„itemæŠ›å›çš„ä»£ç ä½ç½®" class="headerlink" title="æ³¨æ„itemæŠ›å›çš„ä»£ç ä½ç½®"></a>æ³¨æ„itemæŠ›å›çš„ä»£ç ä½ç½®</h1><ul>
<li>ä»¥ä¸Šæ¬¡çˆ¬å–çš„åäººåè¨€ä¸ºä¾‹<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">from</span> testScrapy.items <span class="keyword">import</span> TestscrapyItem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MassageSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;msg_crawl&#x27;</span>  <span class="comment"># çˆ¬è™«çš„åå­—ï¼Œä¸€å®šè¦ç»™</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;http://quotes.toscrape.com/page/1/&#x27;</span>]  <span class="comment"># èµ·å§‹çš„url</span></span><br><span class="line">    page_num = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹çˆ¬åˆ°çš„ç½‘é¡µè¿›è¡Œè§£æ</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response, **kwargs</span>):</span></span><br><span class="line">        soup = BeautifulSoup(response.body, <span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line">        nodes = soup.find_all(<span class="string">&#x27;div&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;quote&#x27;</span>&#125;)</span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> nodes:</span><br><span class="line">            word = node.find(<span class="string">&#x27;span&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;text&#x27;</span>&#125;).text</span><br><span class="line">            people = node.find(<span class="string">&#x27;small&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;author&#x27;</span>&#125;).text</span><br><span class="line">            item = TestscrapyItem(page=self.page_num, name=people, word=word)</span><br><span class="line">            <span class="keyword">yield</span> item</span><br><span class="line">            <span class="comment"># print(&#x27;&#123;0:&lt;4&#125;: &#123;1:&lt;20&#125; said: &#123;2:&lt;20&#125;&#x27;.format(self.page_num, people, word))</span></span><br><span class="line">        print(<span class="string">&#x27;==================ok================&#x27;</span>)</span><br><span class="line">        self.page_num += <span class="number">1</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            url = soup.find(<span class="string">&#x27;li&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;next&#x27;</span>&#125;).a[<span class="string">&#x27;href&#x27;</span>]</span><br><span class="line">            <span class="keyword">if</span> url <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                next_link = <span class="string">&#x27;http://quotes.toscrape.com&#x27;</span> + url</span><br><span class="line">                <span class="keyword">yield</span> scrapy.Request(next_link, callback=self.parse)</span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            print(<span class="string">&#x27;æ‰€æœ‰é¡µé¢çˆ¬å–ç»“æŸï¼&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li>æ¯æ¬¡è·å–åˆ°ä¸€é¡µçš„æ•°æ®å°±å­˜å›ï¼Œæ‰€ä»¥æ”¾åœ¨foré‡Œé¢</li>
</ul>
<h1 id="è¾“å…¥æŒ‡ä»¤"><a href="#è¾“å…¥æŒ‡ä»¤" class="headerlink" title="è¾“å…¥æŒ‡ä»¤"></a>è¾“å…¥æŒ‡ä»¤</h1><p><code>scrapy crawl &lt;çˆ¬è™«åå­—&gt; -o &lt;jsonæ–‡ä»¶å&gt; -t json</code><br>æˆ–è€…<br><code>scrapy crawl  &lt;çˆ¬è™«åå­—&gt; -o &lt;jsonæ–‡ä»¶å&gt; -a tag=humor</code></p>
<ul>
<li><p>eg:</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scrapy crawl msg_crawl -o res.json -t json</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scrapy crawl  msg_crawl -o res.json -a tag&#x3D;humor</span><br></pre></td></tr></table></figure></li>
<li><p>å¯¹æ¯”å‘ç°ï¼Œç”¨ç¬¬äºŒç§ä¸ä¼šå‡ºç°è­¦å‘Šï¼Œä½†æ˜¯ä¸¤ç§éƒ½æ˜¯å¯ä»¥ä¿å­˜çš„</p>
</li>
<li><p>ç»“æœå¦‚ä¸‹<br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200828152112786-954263740.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200828152146561-14727478.png"></p>
</li>
</ul>
<h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><ul>
<li>å¦‚æœè¿˜è¦çˆ¬å–æ¯ä¸ªé¡µé¢çš„ä½œè€…çš„é“¾æ¥ï¼Œè¦ç”¨<code>yield response.follow(author_link, self.author_parse)</code><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç°åœ¨æ‰¾åˆ°ä½œè€…é“¾æ¥åï¼Œè¿›å»çˆ¬é‡Œé¢çš„æ•°æ®ä¿¡æ¯</span></span><br><span class="line">author_link = <span class="string">&#x27;http://quotes.toscrape.com/&#x27;</span> + node.find_all(<span class="string">&#x27;span&#x27;</span>)[<span class="number">1</span>].a[<span class="string">&#x27;href&#x27;</span>]</span><br><span class="line"><span class="keyword">yield</span> response.follow(author_link, self.author_parse)</span><br></pre></td></tr></table></figure></li>
<li>ç„¶åè¦ä¿å­˜æˆjsonæ—¶ï¼Œå’Œä¸Šé¢ä¸€æ ·ç”¨itemå°è£…èµ·æ¥</li>
<li>å…·ä½“è§æˆ‘github<br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200831000400186-1659067932.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200831001517182-1565861022.png"></li>
</ul>
]]></content>
      <categories>
        <category>Scrapyç½‘ç»œçˆ¬è™«</category>
      </categories>
      <tags>
        <tag>äººå·¥æ™ºèƒ½</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…Scrapyæ¡†æ¶</title>
    <url>/2020/08/24/ScrapySetup/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼špython Scrapyæ¡†æ¶çš„å®‰è£…</p>
<a id="more"></a>

<h1 id="å®‰è£…ä¾èµ–åº“"><a href="#å®‰è£…ä¾èµ–åº“" class="headerlink" title="å®‰è£…ä¾èµ–åº“"></a>å®‰è£…ä¾èµ–åº“</h1><ul>
<li><p>åœ¨å®‰è£…scrapyä¹‹å‰ï¼Œéœ€è¦å…ˆå®‰è£…å‡ ä¸ªå¿…é¡»çš„ä¾èµ–åº“</p>
<pre><code> å¦‚æœç›´æ¥pipå®‰è£…scrapyï¼Œé‚£å¾ˆå¯èƒ½ä¼šæŠ¥é”™ï¼Œé™¤éå·²ç»å®‰è£…äº†ä¾èµ–åº“
</code></pre>
</li>
<li><p>win10ä¸‹ï¼Œæ‰“å¼€cmd/powershell/cmder/â€¦å…¶ä¸­ä¸€ä¸ªç»ˆç«¯ï¼Œè¾“å…¥</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip3 install lxml -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">pip3 install pyOpenSSL -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">pip3 install pywin32 -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>
<ul>
<li><p>ä¸Šé¢è¿™3ä¸ªå¤§å¤šæ˜¯å·²ç»æœ¬æ¥å°±å®‰è£…å¥½çš„äº†ï¼Œæ¥ä¸‹æ¥Twistedå°±å¯èƒ½ä¼šæœ‰è¿™ç§æƒ…å†µ<br>è¦ä¹ˆpipå®‰è£…æ—¶æŠ¥é”™ï¼Œè¦ä¹ˆpycharmä¹Ÿä¸è¡Œï¼Œé‚£å°±éœ€è¦å»ä¸‹ä»–çš„whl</p>
<pre><code>https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted
</code></pre>
</li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200824221618375-138757690.png"></p>
<p>æ¯”å¦‚æˆ‘æ˜¯python3.8çš„ï¼Œwin64çš„ï¼Œæ‰€ä»¥å°±æŒ‰å¯¹åº”çš„ç‰ˆæœ¬ä¸‹è½½</p>
<ul>
<li>ä¸‹è½½å®Œæˆåï¼Œåœ¨ä¸‹è½½æ–‡ä»¶ç›®å½•æ‰“å¼€cmdï¼Œæˆ–è€…cdåˆ°è¿™ä¸ªè·¯å¾„<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pip3 install Twisted-<span class="number">20.3</span><span class="number">.0</span>-cp38-cp38m-win_amd64.whl</span><br></pre></td></tr></table></figure>
<h1 id="å®‰è£…scrapy"><a href="#å®‰è£…scrapy" class="headerlink" title="å®‰è£…scrapy"></a>å®‰è£…scrapy</h1></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pip3 install scrapy -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>

<ul>
<li>æˆåŠŸå®‰è£…<br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200824222840335-716559278.png"></li>
</ul>
]]></content>
      <categories>
        <category>Scrapyç½‘ç»œçˆ¬è™«</category>
      </categories>
      <tags>
        <tag>äººå·¥æ™ºèƒ½</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>Scrapyå¤„ç†åˆ†é¡µ</title>
    <url>/2020/08/27/ScrapyPagination/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šscrapyå¤šé¡µçˆ¬å–è¯†åˆ«æœºåˆ¶ã€è¯·æ±‚å¤´å±€éƒ¨è®¾ç½®</p>
<a id="more"></a>

<h1 id="å¤šé¡µçˆ¬å–"><a href="#å¤šé¡µçˆ¬å–" class="headerlink" title="å¤šé¡µçˆ¬å–"></a>å¤šé¡µçˆ¬å–</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul>
<li>æ¯ä¸€æ¬¡çˆ¬å–å®Œå½“å‰é¡µçš„ä¿¡æ¯æ—¶ï¼Œæ‰¾åˆ°ä¸‹ä¸€é¡µçš„é“¾æ¥</li>
<li>ç„¶åç”¨è¿™ä¸ªyieldä¸æ–­ç”Ÿæˆè¯·æ±‚ï¼Œæ¯æ¬¡è°ƒç”¨parseç»§ç»­å¾€ä¸‹æ‰§è¡Œ<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">yield</span> scrapy.Request(next_link, callback=self.parse)</span><br></pre></td></tr></table></figure>
<h2 id="ä»¥çˆ¬å–æŸç½‘ç«™åäººåè¨€ä¸ºä¾‹"><a href="#ä»¥çˆ¬å–æŸç½‘ç«™åäººåè¨€ä¸ºä¾‹" class="headerlink" title="ä»¥çˆ¬å–æŸç½‘ç«™åäººåè¨€ä¸ºä¾‹"></a>ä»¥çˆ¬å–æŸç½‘ç«™åäººåè¨€ä¸ºä¾‹</h2></li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200827231630216-1183007258.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/27</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MassageSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;msg_crawl&#x27;</span>  <span class="comment"># çˆ¬è™«çš„åå­—ï¼Œä¸€å®šè¦ç»™</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;http://quotes.toscrape.com/page/1/&#x27;</span>]  <span class="comment"># èµ·å§‹çš„url</span></span><br><span class="line"></span><br><span class="line">    page_num = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹çˆ¬åˆ°çš„ç½‘é¡µè¿›è¡Œè§£æ</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response, **kwargs</span>):</span></span><br><span class="line">        soup = BeautifulSoup(response.body, <span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line">        nodes = soup.find_all(<span class="string">&#x27;div&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;quote&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> nodes:</span><br><span class="line">            word = node.find(<span class="string">&#x27;span&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;text&#x27;</span>&#125;).text</span><br><span class="line">            people = node.find(<span class="string">&#x27;small&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;author&#x27;</span>&#125;).text</span><br><span class="line">            print(<span class="string">&#x27;&#123;0:&lt;4&#125;: &#123;1:&lt;20&#125; said: &#123;2:&lt;20&#125;&#x27;</span>.<span class="built_in">format</span>(self.page_num, people, word))</span><br><span class="line"></span><br><span class="line">        self.page_num += <span class="number">1</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            url = soup.find(<span class="string">&#x27;li&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;next&#x27;</span>&#125;).a[<span class="string">&#x27;href&#x27;</span>]</span><br><span class="line">            <span class="keyword">if</span> url <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                next_link = <span class="string">&#x27;http://quotes.toscrape.com&#x27;</span> + url</span><br><span class="line">                <span class="keyword">yield</span> scrapy.Request(next_link, callback=self.parse)</span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            print(<span class="string">&#x27;æ‰€æœ‰é¡µé¢çˆ¬å–ç»“æŸï¼&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>ç»“æœï¼š<br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200827231134693-2071176664.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200827231224924-1684003206.png"></li>
</ul>
<h1 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h1><ul>
<li><p><code>scrapy.Request</code>çš„urlå‚æ•°å¿…é¡»æ˜¯å­—ç¬¦ä¸²</p>
</li>
<li><p>æœ€åä¸€é¡µç»“æŸæ—¶è¦å¤„ç†æ²¡æœ‰ä¸‹ä¸€é¡µé“¾æ¥çš„æƒ…å†µï¼Œå¯ä»¥æ•è·å¼‚å¸¸</p>
</li>
<li><p>æœ‰äº›çˆ¬ä¸äº†å¯èƒ½æ˜¯è¯·æ±‚å¤´é—®é¢˜ï¼Œæ‰€ä»¥è¦è®¾ç½®æ¨¡æ‹Ÿæµè§ˆå™¨è¯·æ±‚å¤´</p>
<ul>
<li><p>éœ€è¦è®¾ç½®è¯·æ±‚å¤´</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">custom_settings = &#123;</span><br><span class="line">       <span class="string">&quot;USER_AGENT&quot;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64)   AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.125 Safari/537.36&#x27;</span>,</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ä¹Ÿå¯ä»¥åœ¨setting.pyé‡Œé¢è®¾ç½®ï¼Œå…·ä½“è§ç½‘ä¸Šèµ„æ–™ï¼Œè¿™é‡Œæ˜¯å±€éƒ¨è®¾ç½®</p>
</li>
</ul>
</li>
</ul>
<h2 id="çˆ¬å–è±†ç“£æŸä¹¦ç±è¯„è®º"><a href="#çˆ¬å–è±†ç“£æŸä¹¦ç±è¯„è®º" class="headerlink" title="çˆ¬å–è±†ç“£æŸä¹¦ç±è¯„è®º"></a>çˆ¬å–è±†ç“£æŸä¹¦ç±è¯„è®º</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/28</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommentSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;comment_spider&#x27;</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;https://book.douban.com/subject/35092383/annotation&#x27;</span>]</span><br><span class="line">    custom_settings = &#123;</span><br><span class="line">        <span class="string">&quot;USER_AGENT&quot;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.125 Safari/537.36&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    page_num = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response, **kwargs</span>):</span></span><br><span class="line">        soup = BeautifulSoup(response.body, <span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line">        nodes = soup.find_all(<span class="string">&#x27;div&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;short&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">        print(<span class="string">&#x27;======================&#123;&#125;======================&#x27;</span>.<span class="built_in">format</span>(self.page_num))</span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> nodes:</span><br><span class="line">            comment = node.find(<span class="string">&#x27;span&#x27;</span>).text</span><br><span class="line">            print(comment, end=<span class="string">&#x27;\n\n&#x27;</span>)</span><br><span class="line">        self.page_num += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å…¶ä»–é¡µé“¾æ¥</span></span><br><span class="line">        num = <span class="number">10</span> * self.page_num</span><br><span class="line">        <span class="keyword">if</span> self.page_num &lt;= <span class="number">28</span>:</span><br><span class="line">            url = <span class="string">&#x27;https://book.douban.com/subject/35092383/annotation?sort=rank&amp;start=&#x27;</span> + <span class="built_in">str</span>(num)</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url, callback=self.parse)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200828132947880-360085597.png"></p>
]]></content>
      <categories>
        <category>Scrapyç½‘ç»œçˆ¬è™«</category>
      </categories>
      <tags>
        <tag>äººå·¥æ™ºèƒ½</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨æˆ·æµå¤±é¢„æµ‹</title>
    <url>/2020/09/05/UserChurnForecast/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šé€»è¾‘å›å½’åº”ç”¨</p>
<a id="more"></a>

<h1 id="Churn-Modeling"><a href="#Churn-Modeling" class="headerlink" title="Churn Modeling"></a>Churn Modeling</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/9/5</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deal_train</span>(<span class="params">path</span>):</span></span><br><span class="line">    train_data = pd.read_csv(path)</span><br><span class="line">    <span class="comment"># å¤„ç†å›½å®¶è½¬æ¢ä¸ºæ•°å­—</span></span><br><span class="line">    train_data.loc[train_data[<span class="string">&#x27;Geography&#x27;</span>] == <span class="string">&#x27;France&#x27;</span>, <span class="string">&#x27;Geography&#x27;</span>] = <span class="number">1</span></span><br><span class="line">    train_data.loc[train_data[<span class="string">&#x27;Geography&#x27;</span>] == <span class="string">&#x27;Spain&#x27;</span>, <span class="string">&#x27;Geography&#x27;</span>] = <span class="number">2</span></span><br><span class="line">    train_data.loc[train_data[<span class="string">&#x27;Geography&#x27;</span>] == <span class="string">&#x27;Germany&#x27;</span>, <span class="string">&#x27;Geography&#x27;</span>] = <span class="number">3</span></span><br><span class="line">    <span class="comment"># å¤„ç†æ€§åˆ«</span></span><br><span class="line">    train_data.loc[train_data[<span class="string">&#x27;Gender&#x27;</span>] == <span class="string">&#x27;Female&#x27;</span>, <span class="string">&#x27;Gender&#x27;</span>] = <span class="number">0</span></span><br><span class="line">    train_data.loc[train_data[<span class="string">&#x27;Gender&#x27;</span>] == <span class="string">&#x27;Male&#x27;</span>, <span class="string">&#x27;Gender&#x27;</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># é€‰å–æœ‰ç”¨çš„ç‰¹å¾</span></span><br><span class="line">    feature = [<span class="string">&#x27;CreditScore&#x27;</span>, <span class="string">&#x27;Geography&#x27;</span>, <span class="string">&#x27;Gender&#x27;</span>,</span><br><span class="line">               <span class="string">&#x27;Age&#x27;</span>, <span class="string">&#x27;Tenure&#x27;</span>, <span class="string">&#x27;Balance&#x27;</span>, <span class="string">&#x27;NumOfProducts&#x27;</span>,</span><br><span class="line">               <span class="string">&#x27;HasCrCard&#x27;</span>, <span class="string">&#x27;IsActiveMember&#x27;</span>, <span class="string">&#x27;EstimatedSalary&#x27;</span>]</span><br><span class="line">    x_data = train_data[feature]</span><br><span class="line">    y_data = train_data[<span class="string">&#x27;Exited&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–</span></span><br><span class="line">    sc = StandardScaler()</span><br><span class="line">    x_data = sc.fit_transform(x_data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x_data, y_data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    x_train_data, y_train_data = deal_train(<span class="string">&#x27;data/Churn-Modelling.csv&#x27;</span>)</span><br><span class="line">    x_test, y_test = deal_train(<span class="string">&#x27;data/Churn-Modelling-Test-Data.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å»ºæ¨¡,å¯ä»¥å¤šè¯•è¯•å…¶ä»–æ¨¡å‹</span></span><br><span class="line">    lr = LogisticRegression()</span><br><span class="line">    lr.fit(x_train_data, y_train_data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¢„æµ‹</span></span><br><span class="line">    pred = lr.predict(x_test)</span><br><span class="line">    print(classification_report(pred, y_test))</span><br><span class="line">    print(lr.score(x_test, y_test))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">D:\Anaconda\Anaconda3\python.exe D:&#x2F;Appication&#x2F;PyCharm&#x2F;Git&#x2F;kaggle-project&#x2F;ChurnModelling&#x2F;churn_predict.py</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           0       0.96      0.76      0.85       934</span><br><span class="line">           1       0.15      0.61      0.25        66</span><br><span class="line"></span><br><span class="line">    accuracy                           0.75      1000</span><br><span class="line">   macro avg       0.56      0.69      0.55      1000</span><br><span class="line">weighted avg       0.91      0.75      0.81      1000</span><br><span class="line"></span><br><span class="line">0.754</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<ul>
<li>é‡ç‚¹æ˜¯å¤„ç†å¥½æ•°æ®</li>
<li>å¯ä»¥ä½¿ç”¨å…¶ä»–æ¨¡å‹è¿›è¡Œä¼˜åŒ–</li>
</ul>
]]></content>
      <categories>
        <category>Kaggle</category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>Kaggleâ€”â€”Titanicé¢„æµ‹</title>
    <url>/2020/09/01/TitanicPred/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼škaggleç«èµ›é¢˜</p>
<a id="more"></a>

<h1 id="ä¸‹è½½æ•°æ®é›†åˆ°æœ¬åœ°"><a href="#ä¸‹è½½æ•°æ®é›†åˆ°æœ¬åœ°" class="headerlink" title="ä¸‹è½½æ•°æ®é›†åˆ°æœ¬åœ°"></a>ä¸‹è½½æ•°æ®é›†åˆ°æœ¬åœ°</h1><p><img src="https://img2020.cnblogs.com/blog/2134757/202009/2134757-20200902005121355-524643337.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202009/2134757-20200902005244502-2057436871.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202009/2134757-20200902005322296-2105042406.png"></p>
<h1 id="åˆ†ææ•°æ®"><a href="#åˆ†ææ•°æ®" class="headerlink" title="åˆ†ææ•°æ®"></a>åˆ†ææ•°æ®</h1><ul>
<li>å…ˆçŸ¥æ™“å„ä¸ªæ•°æ®ç‰¹å¾çš„å«ä¹‰ï¼Œè§‚å¯Ÿä¸€ä¸‹</li>
<li>æ‰¾åˆ°æœ‰ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å½±å“åˆ°é¢„æµ‹æ ‡ç­¾çš„æ•°æ®</li>
<li>æ²¡æœ‰ç”¨çš„æ•°æ®ä¸ç”¨ç®¡</li>
</ul>
<h1 id="å¤„ç†æ•°æ®"><a href="#å¤„ç†æ•°æ®" class="headerlink" title="å¤„ç†æ•°æ®"></a>å¤„ç†æ•°æ®</h1><ul>
<li><p>è¿™äº›æœ‰ç”¨çš„æ•°æ®ä¸­ï¼Œæœ‰äº›å¯èƒ½æ˜¯ç©ºå€¼</p>
<ul>
<li>å¦‚æœè¯¥åˆ—æ•°æ®è¾ƒå¤šï¼Œå°±å–å¹³å‡å€¼</li>
<li>å¦‚æœæå°‘ï¼Œå¯ä»¥åˆ äº†è¯¥è¡Œæ•°æ®</li>
</ul>
</li>
<li><p>æœ‰äº›æœ‰ç”¨çš„æ•°æ®æ˜¯å­—ç¬¦ä¸²ï¼Œä¸æ˜¯æ•°å€¼ï¼Œéœ€è¦è½¬åŒ–ä¸ºæ•°å€¼</p>
</li>
</ul>
<h1 id="æŠŠå„ç±»æ¨¡å‹è·‘ä¸€éï¼Œæ‰¾åˆ°åˆ†æœ€é«˜çš„"><a href="#æŠŠå„ç±»æ¨¡å‹è·‘ä¸€éï¼Œæ‰¾åˆ°åˆ†æœ€é«˜çš„" class="headerlink" title="æŠŠå„ç±»æ¨¡å‹è·‘ä¸€éï¼Œæ‰¾åˆ°åˆ†æœ€é«˜çš„"></a>æŠŠå„ç±»æ¨¡å‹è·‘ä¸€éï¼Œæ‰¾åˆ°åˆ†æœ€é«˜çš„</h1><ul>
<li>ä½¿ç”¨äº¤å‰éªŒè¯ï¼Œå¯¹æ¯”å„ä¸ªåˆ†æ•°</li>
<li>è¿™é‡Œåªåˆ—ä¸¾éƒ¨åˆ†æ¨¡å‹ï¼Œè¿˜å¯ä»¥ç»§ç»­æ·»åŠ æ¨¡å‹ç»§ç»­å¯¹æ¯”ï¼Œæˆ–è€…è°ƒå‚ï¼Œé€‰å‡ºæ›´å¥½çš„<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/9/1</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"></span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;train.csv&#x27;</span>)</span><br><span class="line"><span class="comment"># print(data)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;å…ˆå¤„ç†ç©ºç¼ºçš„æ•°æ®&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†ç©ºç¼ºçš„å¹´é¾„ï¼Œè®¾ä¸ºå¹³å‡å¹´é¾„</span></span><br><span class="line">data[<span class="string">&#x27;Age&#x27;</span>] = data[<span class="string">&#x27;Age&#x27;</span>].fillna(data[<span class="string">&#x27;Age&#x27;</span>].median())</span><br><span class="line"><span class="comment"># print(data.describe())</span></span><br><span class="line"><span class="comment"># å¤„ç†æ€§åˆ«ï¼Œè½¬åŒ–ç»´0å’Œ1,locæ˜¯å–æ•°æ®çš„ï¼Œé‡Œé¢ä¼ è¡Œï¼Œåˆ—</span></span><br><span class="line">data.loc[data[<span class="string">&#x27;Sex&#x27;</span>] == <span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>] = <span class="number">1</span></span><br><span class="line">data.loc[data[<span class="string">&#x27;Sex&#x27;</span>] == <span class="string">&#x27;female&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>] = <span class="number">0</span></span><br><span class="line"><span class="comment"># print(data.loc[:, &#x27;Sex&#x27;])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†Embarkedï¼Œç™»å½•æ¸¯å£</span></span><br><span class="line"><span class="comment"># print(data[&#x27;Embarked&#x27;].unique())  # çœ‹ä¸€ä¸‹é‡Œé¢æœ‰å‡ ç±»</span></span><br><span class="line"><span class="comment"># ç”±äº&#x27;S&#x27;æ¯”è¾ƒå¤šï¼Œå°±æŠŠç©ºå€¼ç”¨Så¡«å……</span></span><br><span class="line">data[<span class="string">&#x27;Embarked&#x27;</span>] = data[<span class="string">&#x27;Embarked&#x27;</span>].fillna(<span class="string">&#x27;S&#x27;</span>)</span><br><span class="line"><span class="comment"># è½¬åŒ–ä¸ºæ•°å­—</span></span><br><span class="line">data.loc[data[<span class="string">&#x27;Embarked&#x27;</span>] == <span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>] = <span class="number">0</span></span><br><span class="line">data.loc[data[<span class="string">&#x27;Embarked&#x27;</span>] == <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>] = <span class="number">1</span></span><br><span class="line">data.loc[data[<span class="string">&#x27;Embarked&#x27;</span>] == <span class="string">&#x27;Q&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>] = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;æ¥ä¸‹æ¥é€‰å–æœ‰ç”¨çš„ç‰¹å¾&#x27;&#x27;&#x27;</span></span><br><span class="line">feature = [<span class="string">&#x27;Pclass&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>, <span class="string">&#x27;Age&#x27;</span>, <span class="string">&#x27;SibSp&#x27;</span>, <span class="string">&#x27;Parch&#x27;</span>, <span class="string">&#x27;Fare&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>]</span><br><span class="line">x_data = data[feature]</span><br><span class="line">y_data = data[<span class="string">&#x27;Survived&#x27;</span>]  <span class="comment"># é¢„æµ‹çš„æ ‡ç­¾</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®æ ‡å‡†åŒ–</span></span><br><span class="line">scaler = StandardScaler()</span><br><span class="line">x_data = scaler.fit_transform(x_data)</span><br><span class="line"><span class="comment"># print(x_data)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;å¤„ç†å®Œæ•°æ®ä¹‹åï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨å„è‡ªç®—æ³•çœ‹çœ‹æ•ˆæœäº†&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score  <span class="comment"># å¯¼å…¥äº¤å‰éªŒè¯åçš„åˆ†æ•°</span></span><br><span class="line"><span class="comment"># é€»è¾‘å›å½’</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"></span><br><span class="line">lr = LogisticRegression()</span><br><span class="line"><span class="comment"># è®¡ç®—äº¤å‰éªŒè¯çš„è¯¯å·®ï¼Œåˆ†ä¸‰ç»„</span></span><br><span class="line">scores = cross_val_score(lr, x_data, y_data, cv=<span class="number">3</span>)</span><br><span class="line">print(scores.mean())  <span class="comment"># æ±‚å¹³å‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¥ç»ç½‘ç»œæ¨¡å‹</span></span><br><span class="line"><span class="keyword">from</span> sklearn.neural_network <span class="keyword">import</span> MLPClassifier</span><br><span class="line"></span><br><span class="line">mlp = MLPClassifier(hidden_layer_sizes=(<span class="number">20</span>, <span class="number">10</span>), max_iter=<span class="number">2000</span>)</span><br><span class="line"><span class="comment"># è®¡ç®—äº¤å‰éªŒè¯çš„è¯¯å·®ï¼Œåˆ†ä¸‰ç»„</span></span><br><span class="line">scores = cross_val_score(mlp, x_data, y_data, cv=<span class="number">3</span>)</span><br><span class="line">print(scores.mean())  <span class="comment"># æ±‚å¹³å‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># kNN</span></span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line"></span><br><span class="line">kNN = KNeighborsClassifier(n_neighbors=<span class="number">21</span>)</span><br><span class="line">scores = cross_val_score(kNN, x_data, y_data, cv=<span class="number">3</span>)</span><br><span class="line">print(scores.mean())</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†³ç­–æ ‘</span></span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ€å°åˆ†å‰²æ ·æœ¬æ•°ï¼Œå°äº4ä¸ªå°±ä¸å¾€ä¸‹åˆ†å‰²äº†</span></span><br><span class="line">d_tree = DecisionTreeClassifier(max_depth=<span class="number">3</span>, min_samples_split=<span class="number">4</span>)</span><br><span class="line">scores = cross_val_score(d_tree, x_data, y_data, cv=<span class="number">3</span>)</span><br><span class="line">print(scores.mean())</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;ä¸‹é¢æ˜¯é›†æˆå­¦ä¹ &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># éšæœºæ£®æ—</span></span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier</span><br><span class="line"></span><br><span class="line">rf1 = RandomForestClassifier(random_state=<span class="number">1</span>, n_estimators=<span class="number">10</span>, min_samples_split=<span class="number">2</span>)</span><br><span class="line">scores = cross_val_score(rf1, x_data, y_data, cv=<span class="number">3</span>)</span><br><span class="line">print(scores.mean())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 100æ£µå†³ç­–æ ‘æ„æˆ</span></span><br><span class="line">rf2 = RandomForestClassifier(n_estimators=<span class="number">100</span>, min_samples_split=<span class="number">4</span>)</span><br><span class="line">scores = cross_val_score(rf2, x_data, y_data, cv=<span class="number">3</span>)</span><br><span class="line">print(scores.mean())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Bagging</span></span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> BaggingClassifier</span><br><span class="line"></span><br><span class="line"><span class="comment"># é›†æˆrf2ï¼Œåš20æ¬¡æœ‰æ”¾å›çš„æŠ½æ ·,ç”±äºrf2ä¹Ÿæ˜¯é›†æˆå­¦ä¹ æ¨¡å‹ï¼Œæ‰€ä»¥è¿è¡Œæ—¶é—´æœ‰ç‚¹ä¹…</span></span><br><span class="line">bg = BaggingClassifier(rf2, n_estimators=<span class="number">20</span>)</span><br><span class="line">scores = cross_val_score(bg, x_data, y_data, cv=<span class="number">3</span>)</span><br><span class="line">print(scores.mean())</span><br><span class="line"></span><br><span class="line"><span class="comment"># AdaBoostClassifier</span></span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> AdaBoostClassifier</span><br><span class="line"></span><br><span class="line">adb = AdaBoostClassifier(rf2, n_estimators=<span class="number">20</span>)</span><br><span class="line">scores = cross_val_score(adb, x_data, y_data, cv=<span class="number">3</span>)</span><br><span class="line">print(scores.mean())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Stacking</span></span><br><span class="line"><span class="keyword">from</span> mlxtend.classifier <span class="keyword">import</span> StackingClassifier</span><br><span class="line"></span><br><span class="line">stacking = StackingClassifier(classifiers=[bg, mlp, lr],</span><br><span class="line">                              meta_classifier=LogisticRegression())</span><br><span class="line">scores = cross_val_score(stacking, x_data, y_data, cv=<span class="number">3</span>)</span><br><span class="line">print(scores.mean())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Voting</span></span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> VotingClassifier</span><br><span class="line"></span><br><span class="line">voting = VotingClassifier([(<span class="string">&#x27;ado&#x27;</span>, adb), (<span class="string">&#x27;mlp&#x27;</span>, mlp),</span><br><span class="line">                           (<span class="string">&#x27;LR&#x27;</span>, lr), (<span class="string">&#x27;kNN&#x27;</span>, kNN),</span><br><span class="line">                           (<span class="string">&#x27;d_tree&#x27;</span>, d_tree)])</span><br><span class="line">scores = cross_val_score(voting, x_data, y_data, cv=<span class="number">3</span>)</span><br><span class="line">print(scores.mean())</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>ç»“æœ<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0.7901234567901234</span><br><span class="line">0.8024691358024691</span><br><span class="line">0.8125701459034792</span><br><span class="line">0.8103254769921436</span><br><span class="line">0.8013468013468014</span><br><span class="line">0.819304152637486</span><br><span class="line">0.8204264870931538</span><br><span class="line">0.7991021324354658</span><br><span class="line">0.819304152637486</span><br><span class="line">0.8170594837261503</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li>
<li>å¯ä»¥å‘ç°Baggingé›†æˆéšæœºæ£®æ—çš„æ•ˆæœç›¸å¯¹ä¸é”™</li>
<li>æ¥ä¸‹æ¥å°±ç”¨å®ƒæ¥è¯•è¯•</li>
</ul>
<h1 id="ä½¿ç”¨è¯¥è¾ƒå¥½æ¨¡å‹è¿›è¡Œé¢„æµ‹"><a href="#ä½¿ç”¨è¯¥è¾ƒå¥½æ¨¡å‹è¿›è¡Œé¢„æµ‹" class="headerlink" title="ä½¿ç”¨è¯¥è¾ƒå¥½æ¨¡å‹è¿›è¡Œé¢„æµ‹"></a>ä½¿ç”¨è¯¥è¾ƒå¥½æ¨¡å‹è¿›è¡Œé¢„æµ‹</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/9/2</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> BaggingClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆå¤„ç†ç©ºç¼ºçš„æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deal_train</span>(<span class="params">train_data</span>):</span></span><br><span class="line">    <span class="comment"># å¤„ç†ç©ºç¼ºçš„å¹´é¾„ï¼Œè®¾ä¸ºå¹³å‡å¹´é¾„</span></span><br><span class="line">    train_data[<span class="string">&#x27;Age&#x27;</span>] = train_data[<span class="string">&#x27;Age&#x27;</span>].fillna(train_data[<span class="string">&#x27;Age&#x27;</span>].median())</span><br><span class="line">    <span class="comment"># print(train_data.describe())</span></span><br><span class="line">    <span class="comment"># å¤„ç†æ€§åˆ«ï¼Œè½¬åŒ–ç»´0å’Œ1,locæ˜¯å–æ•°æ®çš„ï¼Œé‡Œé¢ä¼ è¡Œï¼Œåˆ—</span></span><br><span class="line">    train_data.loc[train_data[<span class="string">&#x27;Sex&#x27;</span>] == <span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>] = <span class="number">1</span></span><br><span class="line">    train_data.loc[train_data[<span class="string">&#x27;Sex&#x27;</span>] == <span class="string">&#x27;female&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>] = <span class="number">0</span></span><br><span class="line">    <span class="comment"># print(train_data.loc[:, &#x27;Sex&#x27;])</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤„ç†Embarkedï¼Œç™»å½•æ¸¯å£</span></span><br><span class="line">    <span class="comment"># print(train_data[&#x27;Embarked&#x27;].unique())  # çœ‹ä¸€ä¸‹é‡Œé¢æœ‰å‡ ç±»</span></span><br><span class="line">    <span class="comment"># ç”±äº&#x27;S&#x27;æ¯”è¾ƒå¤šï¼Œå°±æŠŠç©ºå€¼ç”¨Så¡«å……</span></span><br><span class="line">    train_data[<span class="string">&#x27;Embarked&#x27;</span>] = train_data[<span class="string">&#x27;Embarked&#x27;</span>].fillna(<span class="string">&#x27;S&#x27;</span>)</span><br><span class="line">    <span class="comment"># è½¬åŒ–ä¸ºæ•°å­—</span></span><br><span class="line">    train_data.loc[train_data[<span class="string">&#x27;Embarked&#x27;</span>] == <span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>] = <span class="number">0</span></span><br><span class="line">    train_data.loc[train_data[<span class="string">&#x27;Embarked&#x27;</span>] == <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>] = <span class="number">1</span></span><br><span class="line">    train_data.loc[train_data[<span class="string">&#x27;Embarked&#x27;</span>] == <span class="string">&#x27;Q&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>] = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;æ¥ä¸‹æ¥é€‰å–æœ‰ç”¨çš„ç‰¹å¾&#x27;&#x27;&#x27;</span></span><br><span class="line">    feature = [<span class="string">&#x27;Pclass&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>, <span class="string">&#x27;Age&#x27;</span>, <span class="string">&#x27;SibSp&#x27;</span>, <span class="string">&#x27;Parch&#x27;</span>, <span class="string">&#x27;Fare&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>]</span><br><span class="line">    x_data = train_data[feature]</span><br><span class="line">    y_data = train_data[<span class="string">&#x27;Survived&#x27;</span>]  <span class="comment"># é¢„æµ‹çš„æ ‡ç­¾</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ•°æ®æ ‡å‡†åŒ–</span></span><br><span class="line">    scaler = StandardScaler()</span><br><span class="line">    x_data = scaler.fit_transform(x_data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x_data, y_data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†æµ‹è¯•é›†æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deal_test</span>(<span class="params">test_data, label_data</span>):</span></span><br><span class="line">    <span class="comment"># å¡«å……å¹´é¾„å’ŒFare</span></span><br><span class="line">    test_data[<span class="string">&#x27;Age&#x27;</span>] = test_data[<span class="string">&#x27;Age&#x27;</span>].fillna(test_data[<span class="string">&#x27;Age&#x27;</span>].median())</span><br><span class="line">    test_data[<span class="string">&#x27;Fare&#x27;</span>] = test_data[<span class="string">&#x27;Fare&#x27;</span>].fillna(test_data[<span class="string">&#x27;Fare&#x27;</span>].median())</span><br><span class="line">    <span class="comment"># å¤„ç†æ€§åˆ«å­—ç¬¦ä¸²ä¸ºæ•°å€¼</span></span><br><span class="line">    test_data.loc[test_data[<span class="string">&#x27;Sex&#x27;</span>] == <span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>] = <span class="number">1</span></span><br><span class="line">    test_data.loc[test_data[<span class="string">&#x27;Sex&#x27;</span>] == <span class="string">&#x27;female&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>] = <span class="number">0</span></span><br><span class="line">    <span class="comment"># å¤„ç†ç™»å²¸åœ°ç‚¹ä¸ºæ•°å€¼</span></span><br><span class="line">    test_data.loc[test_data[<span class="string">&#x27;Embarked&#x27;</span>] == <span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>] = <span class="number">0</span></span><br><span class="line">    test_data.loc[test_data[<span class="string">&#x27;Embarked&#x27;</span>] == <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>] = <span class="number">1</span></span><br><span class="line">    test_data.loc[test_data[<span class="string">&#x27;Embarked&#x27;</span>] == <span class="string">&#x27;Q&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>] = <span class="number">2</span></span><br><span class="line">    <span class="comment"># æ¥ä¸‹æ¥é€‰å–æœ‰ç”¨çš„ç‰¹å¾&#x27;&#x27;&#x27;</span></span><br><span class="line">    feature = [<span class="string">&#x27;Pclass&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>, <span class="string">&#x27;Age&#x27;</span>, <span class="string">&#x27;SibSp&#x27;</span>, <span class="string">&#x27;Parch&#x27;</span>, <span class="string">&#x27;Fare&#x27;</span>, <span class="string">&#x27;Embarked&#x27;</span>]</span><br><span class="line">    x_data = test_data[feature]</span><br><span class="line">    y_data = label_data[<span class="string">&#x27;Survived&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ•°æ®æ ‡å‡†åŒ–</span></span><br><span class="line">    scaler = StandardScaler()</span><br><span class="line">    x_data = scaler.fit_transform(x_data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x_data, y_data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># è¯»å…¥è®­ç»ƒé›†å’Œæµ‹è¯•é›†</span></span><br><span class="line">    train_data = pd.read_csv(<span class="string">&#x27;data/train.csv&#x27;</span>)</span><br><span class="line">    test_data = pd.read_csv(<span class="string">&#x27;data/test.csv&#x27;</span>)</span><br><span class="line">    real_label_data = pd.read_csv(<span class="string">&#x27;data/gender_submission.csv&#x27;</span>)</span><br><span class="line">    <span class="comment"># é˜Ÿè®­ç»ƒé›†å’Œæµ‹è¯•é›†è¿›è¡Œå¤„ç†</span></span><br><span class="line">    x_train, y_train = deal_train(train_data)</span><br><span class="line">    x_test, y_test = deal_test(test_data, real_label_data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å»ºç«‹æ¨¡å‹</span></span><br><span class="line">    rf = RandomForestClassifier(n_estimators=<span class="number">10</span>, max_depth=<span class="number">3</span>, min_samples_split=<span class="number">4</span>)</span><br><span class="line">    bagging = BaggingClassifier(rf, n_estimators=<span class="number">12</span>)</span><br><span class="line">    bagging.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¢„æµ‹</span></span><br><span class="line">    prediction = bagging.predict(x_test)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¯„ä¼°</span></span><br><span class="line">    print(bagging.score(x_test, y_test))</span><br><span class="line">    print((classification_report(prediction, y_test)))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¿å­˜é¢„æµ‹ç»“æœä¸ºcsv</span></span><br><span class="line">    submission = pd.DataFrame(&#123;</span><br><span class="line">        <span class="string">&quot;PassengerId&quot;</span>: test_data[<span class="string">&quot;PassengerId&quot;</span>],</span><br><span class="line">        <span class="string">&quot;Survived&quot;</span>: prediction</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    submission.to_csv(<span class="string">&#x27;predict.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>ç»“æœ<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0.9282296650717703</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           0       0.99      0.91      0.95       290</span><br><span class="line">           1       0.82      0.98      0.89       128</span><br><span class="line"></span><br><span class="line">    accuracy                           0.93       418</span><br><span class="line">   macro avg       0.91      0.94      0.92       418</span><br><span class="line">weighted avg       0.94      0.93      0.93       418</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li>
<li>åœ¨è¿­ä»£æµ‹è¯•æ—¶å‘ç°ï¼Œæ•ˆæœæœ€å¥½çš„æ˜¯scoreä¸º0.98+</li>
</ul>
<h1 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h1><ul>
<li>æœ‰æ»¡æ„çš„æ•ˆæœå°±æäº¤çœ‹çœ‹</li>
<li>æ³¨æ„æäº¤çš„æ ¼å¼</li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202009/2134757-20200902011042861-424687738.png"></p>
<ul>
<li>ç›´æ¥æŠŠç”Ÿæˆçš„csvé¢„æµ‹ç»“æœæ–‡ä»¶æ‹–è¿‡å»<br><img src="https://img2020.cnblogs.com/blog/2134757/202009/2134757-20200902011236260-145576359.png"></li>
<li>ç„¶åä»–å°±ä¼šç»™å‡ºåˆ†æ•°å’Œæ’å<br><img src="https://img2020.cnblogs.com/blog/2134757/202009/2134757-20200902012639118-848280883.png"></li>
</ul>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul>
<li>è¦æƒ³å¾—åˆ°å¥½çš„é¢„æµ‹é›†ä¸Šä¼ çš„é«˜åˆ†çš„è¯ï¼Œå¯ä»¥é€šè¿‡ä¸æ–­è¿­ä»£ï¼Œæ‰¾åˆ°æ¥è¿‘æœ€å¥½çš„å‚æ•°</li>
<li>ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´åŠ å¥½çš„ç®—æ³•å’Œæ¨¡å‹æ‹¿é«˜åˆ†</li>
</ul>
]]></content>
      <categories>
        <category>Kaggle</category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonæ¨¡æ‹Ÿbfså’Œdfsï¼Œåªéœ€ä¿®æ”¹ä¸€å¤„</title>
    <url>/2020/11/08/bfsAndDfsByPython/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šBFSï¼ŒDFS</p>
<a id="more"></a>

<h1 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/11/8</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¹¿æœ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bfs</span>(<span class="params">graph, start</span>):</span></span><br><span class="line">    queue = [start]  <span class="comment"># å…ˆæŠŠèµ·ç‚¹å…¥é˜Ÿåˆ—</span></span><br><span class="line">    visited = <span class="built_in">set</span>()  <span class="comment"># è®¿é—®å›½çš„ç‚¹åŠ å…¥</span></span><br><span class="line">    visited.add(start)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(queue):</span><br><span class="line">        vertex = queue.pop(<span class="number">0</span>)</span><br><span class="line">        <span class="comment"># æ‰¾åˆ°é˜Ÿåˆ—é¦–å…ƒç´ çš„è¿æ¥ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> graph[vertex]:</span><br><span class="line">            <span class="keyword">if</span> v <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                queue.append(v)</span><br><span class="line">                visited.add(v)</span><br><span class="line">        <span class="comment"># æ‰“å°å¼¹å‡ºé˜Ÿåˆ—çš„è¯¥å¤´å…ƒç´ </span></span><br><span class="line">        print(vertex, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    graph = &#123;</span><br><span class="line">        <span class="string">&#x27;A&#x27;</span>: [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;I&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;B&#x27;</span>: [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;F&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;C&#x27;</span>: [<span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;I&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;D&#x27;</span>: [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;F&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;E&#x27;</span>: [<span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;H&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;F&#x27;</span>: [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;H&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;G&#x27;</span>: [<span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;H&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;H&#x27;</span>: [<span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;G&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;I&#x27;</span>: [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;C&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    bfs(graph, <span class="string">&#x27;A&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">A B D I F C H E G </span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h1 id="BFS-1"><a href="#BFS-1" class="headerlink" title="BFS"></a>BFS</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/11/8</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·±æœ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">graph, start</span>):</span></span><br><span class="line">    stack = [start]</span><br><span class="line">    visited = <span class="built_in">set</span>()</span><br><span class="line">    visited.add(start)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(stack):</span><br><span class="line">        vertex = stack.pop()  <span class="comment"># æ‰¾åˆ°æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> graph[vertex]:</span><br><span class="line">            <span class="keyword">if</span> v <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                stack.append(v)</span><br><span class="line">                visited.add(v)</span><br><span class="line"></span><br><span class="line">        print(vertex, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    graph = &#123;</span><br><span class="line">        <span class="string">&#x27;A&#x27;</span>: [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;I&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;B&#x27;</span>: [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;F&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;C&#x27;</span>: [<span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;I&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;D&#x27;</span>: [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;F&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;E&#x27;</span>: [<span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;H&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;F&#x27;</span>: [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;H&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;G&#x27;</span>: [<span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;H&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;H&#x27;</span>: [<span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;G&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;I&#x27;</span>: [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;C&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dfs(graph, <span class="string">&#x27;E&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">E H G F B A I D C </span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul>
<li>å¾ˆæ˜æ˜¾ä¸€ä¸ªç”¨äº†é˜Ÿåˆ—ï¼Œä¸€ä¸ªç”¨äº†æ ˆ</li>
<li>åˆ©ç”¨pythonè¯­è¨€ä¼˜åŠ¿ï¼Œåªéœ€æ”¹åŠ¨popå³å¯</li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>OJ</tag>
      </tags>
  </entry>
  <entry>
    <title>å¹¿æœbfsæ±‚è§£è¿·å®«é—®é¢˜</title>
    <url>/2020/10/06/bfsMaze/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šbfsæ±‚è§£è¿·å®«é—®é¢˜</p>
<a id="more"></a>

<ul>
<li>è§£å†³çš„é—®é¢˜åŒä¸Šä¸€ç¯‡</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/10/6</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x, y, step</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line">        self.step = step</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">queue = []</span><br><span class="line">dx = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>]</span><br><span class="line">dy = [<span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line">graph = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]</span><br><span class="line">flags = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]</span><br><span class="line">flag = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    m, n = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">        l = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split()))</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            graph[i][j] = l[j]</span><br><span class="line"></span><br><span class="line">    start_x, start_y = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">    end_x, end_y = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line"></span><br><span class="line">    start_point = Point(start_x, start_y, <span class="number">0</span>)</span><br><span class="line">    queue.append(start_point)</span><br><span class="line">    flags[start_x][start_y] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(queue) != <span class="number">0</span>:</span><br><span class="line">        x = queue[<span class="number">0</span>].x</span><br><span class="line">        y = queue[<span class="number">0</span>].y</span><br><span class="line">        <span class="keyword">if</span> x == end_x <span class="keyword">and</span> y == end_y:</span><br><span class="line">            flag = <span class="number">1</span></span><br><span class="line">            print(<span class="string">&#x27;step = &#x27;</span>, queue[<span class="number">0</span>].step)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">4</span>):</span><br><span class="line">            tx = x + dx[k]</span><br><span class="line">            ty = y + dy[k]</span><br><span class="line">            <span class="keyword">if</span> graph[tx][ty] == <span class="number">1</span> <span class="keyword">and</span> flags[tx][ty] == <span class="number">0</span>:</span><br><span class="line">                <span class="comment"># å…¥é˜Ÿ</span></span><br><span class="line">                temp = Point(tx, ty, queue[<span class="number">0</span>].step + <span class="number">1</span>)</span><br><span class="line">                queue.append(temp)</span><br><span class="line">                flags[tx][ty] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        queue.pop(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> flag == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;no ans&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¾—åˆ°çš„ç»“æœä¸€å®šæ˜¯æœ€å°å€¼</p>
</li>
<li><p>ä¸ç”¨å›æº¯ï¼Œåœ¨è¿™é‡Œçš„é€Ÿåº¦æ¯”dfså¿«</p>
</li>
<li><p>ç‰ºç‰²ç©ºé—´æ¢æ—¶é—´</p>
</li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>OJ</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†ç±»</title>
    <url>/2020/08/23/classification/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  


<h2 id="åˆ†ç±»ç®—æ³•"><a href="#åˆ†ç±»ç®—æ³•" class="headerlink" title="åˆ†ç±»ç®—æ³•"></a>åˆ†ç±»ç®—æ³•</h2><a id="more"></a>



<h4 id="é€»è¾‘å›å½’"><a href="#é€»è¾‘å›å½’" class="headerlink" title="é€»è¾‘å›å½’"></a>é€»è¾‘å›å½’</h4><ul>
<li><p>åƒåœ¾é‚®ä»¶åˆ†ç±» </p>
</li>
<li><p>é¢„æµ‹è‚¿ç˜¤æ˜¯è‰¯æ€§è¿˜æ˜¯æ¶æ€§ </p>
</li>
<li><p>é¢„æµ‹æŸäººçš„ä¿¡ç”¨æ˜¯å¦è‰¯å¥½</p>
</li>
</ul>
<img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823205518598-1186189920.png" style="zoom:67%;">


<ul>
<li><p>0.5æ˜¯ä¸ªåˆ†ç•Œï¼Œä¸Šé¢æ˜¯g(x)å›¾åƒ</p>
</li>
<li><p>é€»è¾‘å›å½’çš„ä»£ä»·å‡½æ•°</p>
  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823205604621-1611243231.png" style="zoom: 67%;">


</li>
</ul>
<ul>
<li>ä¸€èˆ¬ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•æ±‚è§£</li>
</ul>
<h5 id="è¯„ä¼°åˆ†ç±»çš„ç»“æœ"><a href="#è¯„ä¼°åˆ†ç±»çš„ç»“æœ" class="headerlink" title="è¯„ä¼°åˆ†ç±»çš„ç»“æœ"></a>è¯„ä¼°åˆ†ç±»çš„ç»“æœ</h5><ul>
<li><strong>æ­£ç¡®ç‡/å¬å›ç‡/F1æŒ‡æ ‡</strong></li>
</ul>
<blockquote>
<p>æ­£ç¡®ç‡å°±æ˜¯æ£€ç´¢å‡ºæ¥çš„æ¡ç›®æœ‰å¤šå°‘æ˜¯æ­£ç¡®çš„</p>
<p>å¬å›ç‡å°±æ˜¯ æ‰€æœ‰æ­£ç¡®çš„æ¡ç›®æœ‰å¤šå°‘è¢«æ£€ç´¢å‡ºæ¥äº†</p>
<img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823205643851-272051049.png" style="zoom:50%;">
</blockquote>
<ul>
<li><p>è¿™å‡ ä¸ªæŒ‡æ ‡çš„å–å€¼éƒ½åœ¨0-1ä¹‹é—´ï¼Œæ•°å€¼è¶Šæ¥è¿‘äº1ï¼Œæ•ˆæœè¶Šå¥½</p>
<ul>
<li><p>æŸæ± å¡˜æœ‰1400æ¡é²¤é±¼ï¼Œ300åªè™¾ï¼Œ300åªé³–ã€‚ç°åœ¨ä»¥æ•é²¤é±¼ä¸ºç›®çš„ã€‚ </p>
<p>  æ’’ä¸€å¤§ç½‘ï¼Œé€®ç€äº†700æ¡é²¤é±¼ï¼Œ200åªè™¾ï¼Œ100åªé³–ã€‚é‚£ä¹ˆï¼Œè¿™äº›æŒ‡æ ‡ </p>
<p>  åˆ†åˆ«å¦‚ä¸‹ï¼š </p>
<p>  æ­£ç¡®ç‡ = 700 / (700 + 200 + 100) = 70% </p>
<p>  å¬å›ç‡ = 700 / 1400 = 50% </p>
<p>  Få€¼ = 70% * 50% * 2 / (70% + 50%) = 58.3%</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>ä½¿ç”¨classification_reportå¾—åˆ°<strong>æ­£ç¡®ç‡/å¬å›ç‡/F1æŒ‡æ ‡</strong></p>
<ul>
<li><p>eg</p>
<p>  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823205732288-1226968292.png"></p>
</li>
</ul>
</li>
</ul>
<h5 id="ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•è§£å†³é€»è¾‘å›å½’"><a href="#ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•è§£å†³é€»è¾‘å›å½’" class="headerlink" title="ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•è§£å†³é€»è¾‘å›å½’"></a>ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•è§£å†³é€»è¾‘å›å½’</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/6</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"></span><br><span class="line"><span class="comment"># Falseçš„è¯ä¸åšæ•°æ®æ ‡å‡†åŒ–</span></span><br><span class="line">scale = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€»è¾‘å›å½’é¢„æµ‹å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.0</span> / (<span class="number">1</span> + np.exp(-x))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»£ä»·å‡½æ•°,ä¼ å…¥è®­ç»ƒæ•°æ®ï¼Œæ ‡ç­¾ï¼Œæƒå€¼ï¼Œä¸‰è€…éƒ½æ˜¯çŸ©é˜µå½¢å¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cost</span>(<span class="params">x_mat, y_mat, ws</span>):</span></span><br><span class="line">    left = np.multiply(y_mat, np.log(sigmoid(x_mat * ws)))</span><br><span class="line">    right = np.multiply(<span class="number">1</span> - y_mat, np.log(<span class="number">1</span> - sigmoid(x_mat * ws)))</span><br><span class="line">    <span class="keyword">return</span> np.<span class="built_in">sum</span>(left + right) / -(<span class="built_in">len</span>(x_mat))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ±‚æ¢¯åº¦ï¼Œç”¨æ¢¯åº¦æ”¹å˜æƒå€¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradAscent</span>(<span class="params">xArr, yArr</span>):</span></span><br><span class="line">    <span class="keyword">if</span> scale:</span><br><span class="line">        xArr = preprocessing.scale(xArr)</span><br><span class="line">    xMat = np.mat(xArr)</span><br><span class="line">    yMat = np.mat(yArr)</span><br><span class="line"></span><br><span class="line">    lr = <span class="number">0.001</span></span><br><span class="line">    epochs = <span class="number">10000</span></span><br><span class="line">    costList = []</span><br><span class="line">    <span class="comment"># è®¡ç®—æ•°æ®è¡Œåˆ—æ•°</span></span><br><span class="line">    <span class="comment"># è¡Œä»£è¡¨æ•°æ®ä¸ªæ•°ï¼Œåˆ—ä»£è¡¨æƒå€¼ä¸ªæ•°</span></span><br><span class="line">    m, n = np.shape(xMat)</span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–æƒå€¼</span></span><br><span class="line">    ws = np.mat(np.ones((n, <span class="number">1</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(epochs + <span class="number">1</span>):</span><br><span class="line">        <span class="comment"># xMatå’ŒweightsçŸ©é˜µç›¸ä¹˜</span></span><br><span class="line">        h = sigmoid(xMat * ws)</span><br><span class="line">        <span class="comment"># è®¡ç®—è¯¯å·®</span></span><br><span class="line">        ws_grad = xMat.T * (h - yMat) / m</span><br><span class="line">        ws = ws - lr * ws_grad</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> i % <span class="number">50</span> == <span class="number">0</span>:</span><br><span class="line">            costList.append(cost(xMat, yMat, ws))</span><br><span class="line">    <span class="keyword">return</span> ws, costList</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;LR-testSet.csv&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">x_data = data[:, :-<span class="number">1</span>]</span><br><span class="line">y_data = data[:, -<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡åˆ†æ•°æ®,å¹¶ç”»å‡ºæ•£ç‚¹å›¾</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">split_plot</span>():</span></span><br><span class="line">    <span class="comment"># åˆ‡åˆ†æˆä¸¤ç§ç±»åˆ«ï¼Œ0å’Œ1</span></span><br><span class="line">    <span class="comment"># x0å’Œy0æ˜¯0ç±»åˆ«çš„é‚£ä¸¤åˆ—æ•°æ®ï¼Œx1ï¼Œy1åŒç†</span></span><br><span class="line">    x0 = []</span><br><span class="line">    y0 = []</span><br><span class="line">    x1 = []</span><br><span class="line">    y1 = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x_data)):</span><br><span class="line">        <span class="keyword">if</span> y_data[i] == <span class="number">0</span>:</span><br><span class="line">            x0.append(x_data[i, <span class="number">0</span>])</span><br><span class="line">            y0.append(x_data[i, <span class="number">1</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            x1.append(x_data[i, <span class="number">0</span>])</span><br><span class="line">            y1.append(x_data[i, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”»å‡ºæ•£ç‚¹å›¾</span></span><br><span class="line">    scatter0 = plt.scatter(x0, y0, c=<span class="string">&#x27;b&#x27;</span>, marker=<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">    scatter1 = plt.scatter(x1, y1, c=<span class="string">&#x27;r&#x27;</span>, marker=<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    <span class="comment"># ç”»å›¾ä¾‹</span></span><br><span class="line">    plt.legend(handles=[scatter0, scatter1], labels=[<span class="string">&#x27;label0&#x27;</span>, <span class="string">&#x27;label1&#x27;</span>], loc=<span class="string">&#x27;best&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡åˆ†æ•°æ®,å¹¶ç”»å‡ºæ•£ç‚¹å›¾</span></span><br><span class="line">split_plot()</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># æŠŠy_dataå˜æˆäºŒç»´</span></span><br><span class="line">y_data = y_data[:, np.newaxis]</span><br><span class="line"><span class="comment"># ç»™æ ·æœ¬æä»·åç½®é¡¹</span></span><br><span class="line">X_data = np.concatenate((np.ones((<span class="number">100</span>, <span class="number">1</span>)), x_data), axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># è®­ç»ƒæ¨¡å‹ï¼Œå¾—åˆ°æƒå€¼å’Œcostå€¼çš„å˜åŒ–</span></span><br><span class="line">ws, costList = gradAscent(X_data, y_data)</span><br><span class="line">print(ws)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸åšæ•°æ®æ ‡å‡†åŒ–æ—¶ï¼Œæ‰ç”»å‡ºè¿™ä¸ªå›¾</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> scale:</span><br><span class="line">    <span class="comment"># ç”»å›¾å†³ç­–è¾¹ç•Œ</span></span><br><span class="line">    split_plot()</span><br><span class="line">    x_test = [[-<span class="number">4</span>], [<span class="number">3</span>]]</span><br><span class="line">    <span class="comment"># è¿™é‡Œws[0],ws[1],ws[2]æ»¡è¶³ws[0]+ws[1]*x+ws[2]*y = 0</span></span><br><span class="line">    <span class="comment"># è€Œè¿™æ¡çº¿å°±æ˜¯ä¸¤ä¸ªç±»åˆ«çš„åˆ†ç•Œçº¿</span></span><br><span class="line">    y_test = (-ws[<span class="number">0</span>] - x_test * ws[<span class="number">1</span>]) / ws[<span class="number">2</span>]</span><br><span class="line">    plt.plot(x_test, y_test, <span class="string">&#x27;k&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾ losså€¼çš„å˜åŒ–</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10000</span>, <span class="number">201</span>)</span><br><span class="line">plt.plot(x, costList, c=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Train&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Epochs&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Cost&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„æµ‹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span>(<span class="params">x_data, ws</span>):</span></span><br><span class="line">    <span class="keyword">if</span> scale == <span class="literal">True</span>:</span><br><span class="line">        x_data = preprocessing.scale(x_data)</span><br><span class="line">    xMat = np.mat(x_data)</span><br><span class="line">    ws = np.mat(ws)</span><br><span class="line">    <span class="keyword">return</span> [<span class="number">1</span> <span class="keyword">if</span> x &gt;= <span class="number">0.5</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> sigmoid(xMat * ws)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">predictions = predict(X_data, ws)</span><br><span class="line">print(classification_report(y_data, predictions))</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ul>
<li>å‚è€ƒï¼š <a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=26">https://www.bilibili.com/video/BV1Rt411q7WJ?p=26</a></li>
</ul>
<h5 id="sklearnè§£å†³é€»è¾‘å›å½’"><a href="#sklearnè§£å†³é€»è¾‘å›å½’" class="headerlink" title="sklearnè§£å†³é€»è¾‘å›å½’"></a>sklearnè§£å†³é€»è¾‘å›å½’</h5><ul>
<li>æ¯”è¾ƒæ–¹ä¾¿</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/6</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression  <span class="comment"># å¯¼å…¥é€»è¾‘å›å½’æ¨¡å‹</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report  <span class="comment"># ç”¨æ¥å¯¹æ¨¡å‹çš„é¢„æµ‹æ•ˆæœåšè¯„ä¼°</span></span><br><span class="line"></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;LR-testSet.csv&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">x_data = data[:, :-<span class="number">1</span>]</span><br><span class="line">y_data = data[:, -<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡åˆ†æœ‰æ•ˆæ•°æ®ï¼Œå¯ä»¥ç”»å‡ºæ•£ç‚¹å›¾</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_scatter</span>():</span></span><br><span class="line">    x0 = []</span><br><span class="line">    x1 = []</span><br><span class="line">    y0 = []</span><br><span class="line">    y1 = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x_data)):</span><br><span class="line">        <span class="keyword">if</span> y_data[i] == <span class="number">0</span>:</span><br><span class="line">            x0.append(x_data[i, <span class="number">0</span>])</span><br><span class="line">            y0.append(x_data[i, <span class="number">1</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            x1.append(x_data[i, <span class="number">0</span>])</span><br><span class="line">            y1.append(x_data[i, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># plt.plot(x0, y0, &#x27;b.&#x27;)</span></span><br><span class="line">    <span class="comment"># plt.plot(x1, y1, &#x27;rx&#x27;)</span></span><br><span class="line">    <span class="comment"># plt.show()</span></span><br><span class="line">    <span class="comment"># ç”»å‡ºæ•£ç‚¹å›¾</span></span><br><span class="line">    scatter0 = plt.scatter(x0, y0, c=<span class="string">&#x27;b&#x27;</span>, marker=<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">    scatter1 = plt.scatter(x1, y1, c=<span class="string">&#x27;r&#x27;</span>, marker=<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    <span class="comment"># ç”»å›¾ä¾‹</span></span><br><span class="line">    plt.legend(handles=[scatter0, scatter1], labels=[<span class="string">&#x27;label0&#x27;</span>, <span class="string">&#x27;label1&#x27;</span>], loc=<span class="string">&#x27;best&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆæŠŠæ•£ç‚¹å›¾ç”»å‡ºæ¥çœ‹çœ‹</span></span><br><span class="line">show_scatter()</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># å»ºæ¨¡ï¼Œæ‹Ÿåˆ</span></span><br><span class="line">model = LogisticRegression()</span><br><span class="line">model.fit(x_data, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºå†³ç­–è¾¹ç•Œ,æ•°æ®æ— æ ‡å‡†åŒ–</span></span><br><span class="line">show_scatter()</span><br><span class="line">x_test = np.array([[-<span class="number">4</span>], [<span class="number">3</span>]])</span><br><span class="line">y_test = (-model.intercept_ - x_test * model.coef_[<span class="number">0</span>][<span class="number">0</span>]) / model.coef_[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">plt.plot(x_test, y_test, <span class="string">&#x27;k&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœè¦æŠŠè¿™ä¸ªæ¨¡å‹æ‹¿æ¥é¢„æµ‹ï¼Œå¯ä»¥è¿™æ ·åš</span></span><br><span class="line">prediction = model.predict(x_data)</span><br><span class="line">print(prediction)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹é¢„æµ‹æ¨¡å‹è¿›è¡Œè¯„ä¼°</span></span><br><span class="line">print(classification_report(y_data, prediction))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823205837795-316602647.png"></p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823205842132-861892572.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[<span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span></span><br><span class="line"> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span></span><br><span class="line"> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span></span><br><span class="line"> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span></span><br><span class="line"> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">         <span class="number">0.0</span>       <span class="number">0.96</span>      <span class="number">0.94</span>      <span class="number">0.95</span>        <span class="number">47</span></span><br><span class="line">         <span class="number">1.0</span>       <span class="number">0.94</span>      <span class="number">0.96</span>      <span class="number">0.95</span>        <span class="number">53</span></span><br><span class="line"></span><br><span class="line">    accuracy                           <span class="number">0.95</span>       <span class="number">100</span></span><br><span class="line">   macro avg       <span class="number">0.95</span>      <span class="number">0.95</span>      <span class="number">0.95</span>       <span class="number">100</span></span><br><span class="line">weighted avg       <span class="number">0.95</span>      <span class="number">0.95</span>      <span class="number">0.95</span>       <span class="number">100</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><p>ç”±äºä¸Šé¢çš„show_scatteræ˜¯é’ˆå¯¹äºåªæœ‰ä¸¤åˆ—ç‰¹å¾çš„ï¼Œå¦‚æœæ˜¯å¤šåˆ—ç‰¹å¾çš„è¯ï¼Œè¿˜è¦ç»§ç»­åˆ‡åˆ†ï¼Œé“ç†ä¸€æ ·çš„</p>
</li>
<li><p>model.coef_é‡Œé¢åŒ…å«äº†æ‰€æœ‰å¸¦xå’Œyé¡¹çš„ç³»æ•°</p>
</li>
<li><p>model.intercept_æ˜¯ä¸ªå¸¸æ•°</p>
</li>
</ul>
<h4 id="éçº¿æ€§é€»è¾‘å›å½’"><a href="#éçº¿æ€§é€»è¾‘å›å½’" class="headerlink" title="éçº¿æ€§é€»è¾‘å›å½’"></a>éçº¿æ€§é€»è¾‘å›å½’</h4><ul>
<li><p>æ•°æ®çš„æ‰å¹³åŒ–ï¼š</p>
</li>
<li><p>egï¼š[[1, 2], [3, 4]]â€”â€”â€”â€”&gt;æ‰å¹³åŒ–å¾—åˆ°ï¼š[1, 2, 3, 4]</p>
</li>
<li><p>éçº¿æ€§é€»è¾‘å›å½’å¯ä»¥ç”¨æ¢¯åº¦ä¸‹é™æ³•æˆ–è€…sklearnå®ç°</p>
<ul>
<li>æ¢¯åº¦ä¸‹é™æ³•ï¼š <a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=28">https://www.bilibili.com/video/BV1Rt411q7WJ?p=28</a> </li>
</ul>
</li>
<li><p>sklearnï¼šä¼šæ›´åŠ æ–¹ä¾¿äº›</p>
</li>
</ul>
<h5 id="sklearnéçº¿æ€§é€»è¾‘å›å½’åˆ†ç±»"><a href="#sklearnéçº¿æ€§é€»è¾‘å›å½’åˆ†ç±»" class="headerlink" title="sklearnéçº¿æ€§é€»è¾‘å›å½’åˆ†ç±»"></a>sklearnéçº¿æ€§é€»è¾‘å›å½’åˆ†ç±»</h5><ul>
<li><p>æœ‰ä¸ªæ›´åŠ æ–¹ä¾¿çš„äº§ç”Ÿæ•°æ®çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>æ ·æœ¬çš„n_samplesï¼Œn_featuresï¼Œn_classeså¯ä»¥è‡ªå·±è®¾</p>
</li>
<li><p>ç›¸åº”åœ°ï¼Œç”»å›¾æ—¶ï¼Œx_data[:, 0], x_data[0:, 1]ä¹Ÿç›¸åº”çš„ä¿®æ”¹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_gaussian_quantiles  <span class="comment"># ç”¨äºäº§ç”Ÿæ•°æ®é›†</span></span><br><span class="line"><span class="comment"># ç”Ÿæˆæ•°æ®é›†ï¼Œç”Ÿæˆçš„æ˜¯2ç»´æ­£æ€åˆ†å¸ƒï¼Œå¯ä»¥è‡ªå·±è®¾ç½®ç±»åˆ«</span></span><br><span class="line"><span class="comment"># è¿™é‡Œè®¾ä¸º500ä¸ªæ ·æœ¬ï¼Œ2ä¸ªæ ·æœ¬ç‰¹å¾ï¼Œç±»åˆ«æ˜¯2ç±»ï¼Œä¹Ÿå¯ä»¥è®¾ä¸ºå¤šç±»</span></span><br><span class="line">x_data, y_data = make_gaussian_quantiles(n_samples=<span class="number">500</span>, n_features=<span class="number">2</span>, n_classes=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ä»¥ç”»å‡ºæ¥çœ‹çœ‹,åˆ†ç±»ä¼ åˆ°é¢œè‰²c</span></span><br><span class="line">plt.scatter(x_data[:, <span class="number">0</span>], x_data[<span class="number">0</span>:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>åœ¨ä½¿ç”¨model = LogisticRegression()å’Œmodel.fit(x_poly, y_data)å»ºæ¨¡ä¹‹å‰ï¼Œè¦äº§ç”Ÿéçº¿æ€§ç‰¹å¾ï¼š</p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰å¤šé¡¹å¼å›å½’ï¼Œç”¨degreeæ¥è°ƒèŠ‚å¤šé¡¹å¼ç‰¹å¾</span></span><br><span class="line">poly_reg = PolynomialFeatures(degree=<span class="number">5</span>)</span><br><span class="line"><span class="comment"># ç‰¹å¾å¤„ç†</span></span><br><span class="line">x_poly = poly_reg.fit_transform(x_data)</span><br></pre></td></tr></table></figure></li>
<li><p>æ¨¡å‹è¯„ä¼°å¯ä»¥ä½¿ç”¨model.score(x_poly, y_data)ï¼Œè®°ä½æ˜¯ä¼ x_poly</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/7</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_gaussian_quantiles  <span class="comment"># ç”¨äºäº§ç”Ÿæ•°æ®é›†</span></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> PolynomialFeatures</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆæ•°æ®é›†ï¼Œç”Ÿæˆçš„æ˜¯2ç»´æ­£æ€åˆ†å¸ƒï¼Œå¯ä»¥è‡ªå·±è®¾ç½®ç±»åˆ«</span></span><br><span class="line"><span class="comment"># è¿™é‡Œè®¾ä¸º500ä¸ªæ ·æœ¬ï¼Œ2ä¸ªæ ·æœ¬ç‰¹å¾ï¼Œç±»åˆ«æ˜¯2ç±»ï¼Œä¹Ÿå¯ä»¥è®¾ä¸ºå¤šç±»</span></span><br><span class="line">x_data, y_data = make_gaussian_quantiles(n_samples=<span class="number">500</span>, n_features=<span class="number">2</span>, n_classes=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ä»¥ç”»å‡ºæ¥çœ‹çœ‹,åˆ†ç±»ä¼ åˆ°é¢œè‰²c</span></span><br><span class="line">plt.scatter(x_data[:, <span class="number">0</span>], x_data[<span class="number">0</span>:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;å› ä¸ºæ˜¯éçº¿æ€§çš„ï¼Œæ‰€ä»¥éœ€è¦äº§ç”Ÿéçº¿æ€§ç‰¹å¾&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰å¤šé¡¹å¼å›å½’ï¼Œç”¨degreeæ¥è°ƒèŠ‚å¤šé¡¹å¼ç‰¹å¾</span></span><br><span class="line">poly_reg = PolynomialFeatures(degree=<span class="number">5</span>)</span><br><span class="line"><span class="comment"># ç‰¹å¾å¤„ç†</span></span><br><span class="line">x_poly = poly_reg.fit_transform(x_data)</span><br><span class="line"><span class="comment"># å»ºæ¨¡æ‹Ÿåˆ</span></span><br><span class="line">model = LogisticRegression()</span><br><span class="line">model.fit(x_poly, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯„ä¼°</span></span><br><span class="line">print(<span class="string">&#x27;score: &#x27;</span>, model.score(x_poly, y_data))</span><br><span class="line"><span class="comment"># é¢„æµ‹æµ‹è¯•</span></span><br><span class="line">print(<span class="string">&#x27;åŸæ¥çš„åˆ†ç±»ç»“æœï¼š\n&#x27;</span>, y_data)</span><br><span class="line">print(<span class="string">&#x27;é¢„æµ‹ç¬¬5è¡Œçš„ç»“æœæ˜¯&#x27;</span>, model.predict(x_poly)[<span class="number">5</span>])</span><br><span class="line">print(<span class="string">&#x27;æ‰€æœ‰çš„é¢„æµ‹ç»“æœï¼š \n&#x27;</span>, model.predict(x_poly))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;ä¸Šé¢å·²ç»å»ºå¥½æ¨¡å‹äº†ï¼Œå¯ä»¥ç›´æ¥å»é¢„æµ‹äº†ï¼Œæ¥ä¸‹æ¥æ˜¯ç”»å›¾&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ•°æ®å€¼æ‰€åœ¨çš„èŒƒå›´,è¿™é‡Œæ˜¯ç¡®å®šå›¾çš„è¾¹æ¡†èŒƒå›´</span></span><br><span class="line">x_min, x_max = x_data[:, <span class="number">0</span>].<span class="built_in">min</span>() - <span class="number">1</span>, x_data[:, <span class="number">0</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line">y_min, y_max = x_data[:, <span class="number">1</span>].<span class="built_in">min</span>() - <span class="number">1</span>, x_data[:, <span class="number">1</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆç½‘æ ¼çŸ©é˜µï¼Œå³å¾ˆå¤šç‚¹æ„æˆçš„èƒŒæ™¯å›¾ï¼Œå°½é‡å¯†é›†äº›</span></span><br><span class="line">xx, yy = np.meshgrid(np.arange(x_min, x_max, <span class="number">0.02</span>),</span><br><span class="line">                     np.arange(y_min, y_max, <span class="number">0.02</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„æµ‹,ravelä¸flattenç±»ä¼¼ï¼Œå¤šç»´æ•°æ®è½¬ä¸€ç»´ã€‚flattenä¸ä¼šæ”¹å˜åŸå§‹æ•°æ®ï¼Œravelä¼šæ”¹å˜åŸå§‹æ•°æ®</span></span><br><span class="line">z = model.predict(poly_reg.fit_transform(np.c_[xx.ravel(), yy.ravel()]))</span><br><span class="line">z = z.reshape(xx.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­‰é«˜çº¿å›¾</span></span><br><span class="line">cs = plt.contourf(xx, yy, z)</span><br><span class="line"><span class="comment"># æ•£ç‚¹å›¾</span></span><br><span class="line">plt.scatter(x_data[:, <span class="number">0</span>], x_data[<span class="number">0</span>:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823205953143-1711336089.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823205956382-1384872502.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">score:  <span class="number">0.988</span></span><br><span class="line">åŸæ¥çš„åˆ†ç±»ç»“æœï¼š</span><br><span class="line"> [<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">é¢„æµ‹ç¬¬<span class="number">5</span>è¡Œçš„ç»“æœæ˜¯ <span class="number">1</span></span><br><span class="line">æ‰€æœ‰çš„é¢„æµ‹ç»“æœï¼š </span><br><span class="line"> [<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>æ··æ·†çŸ©é˜µçš„ç†è§£</title>
    <url>/2020/08/24/confusion_matrix/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šæœºå™¨å­¦ä¹ æ··æ·†çŸ©é˜µï¼Œæ¨¡å‹è¯„ä¼°</p>
<a id="more"></a>

<h1 id="ä»¥æ‰‹å†™æ•°å­—è¯†åˆ«ä¸ºä¾‹"><a href="#ä»¥æ‰‹å†™æ•°å­—è¯†åˆ«ä¸ºä¾‹" class="headerlink" title="ä»¥æ‰‹å†™æ•°å­—è¯†åˆ«ä¸ºä¾‹"></a>ä»¥æ‰‹å†™æ•°å­—è¯†åˆ«ä¸ºä¾‹</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/9/7</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.neural_network <span class="keyword">import</span> MLPClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_digits</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler  <span class="comment"># å‡å»å¹³å‡å€¼å†é™¤ä»¥æ–¹å·®</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report, confusion_matrix</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"></span><br><span class="line">    digits_data = load_digits()</span><br><span class="line">    x_data = digits_data.data</span><br><span class="line">    y_data = digits_data.target</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–</span></span><br><span class="line">    sc = StandardScaler()</span><br><span class="line">    x_data = sc.fit_transform(x_data)</span><br><span class="line">    <span class="comment"># åˆ‡åˆ†æ•°æ®</span></span><br><span class="line">    x_train, x_test, y_train, y_test = train_test_split(x_data, y_data)</span><br><span class="line">    <span class="comment"># å»ºæ¨¡</span></span><br><span class="line">    model = MLPClassifier(hidden_layer_sizes=(<span class="number">100</span>, <span class="number">50</span>), max_iter=<span class="number">100</span>)</span><br><span class="line">    model.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¢„æµ‹</span></span><br><span class="line">    prediction = model.predict(x_test)</span><br><span class="line">    <span class="comment"># è¯„ä¼°</span></span><br><span class="line">    print(classification_report(prediction, y_test))</span><br><span class="line">    print(confusion_matrix(y_test, prediction))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           0       1.00      1.00      1.00        44</span><br><span class="line">           1       1.00      0.96      0.98        50</span><br><span class="line">           2       0.98      0.98      0.98        48</span><br><span class="line">           3       0.97      0.97      0.97        35</span><br><span class="line">           4       0.98      0.98      0.98        42</span><br><span class="line">           5       0.96      1.00      0.98        48</span><br><span class="line">           6       1.00      1.00      1.00        43</span><br><span class="line">           7       1.00      0.98      0.99        45</span><br><span class="line">           8       0.96      1.00      0.98        49</span><br><span class="line">           9       0.98      0.96      0.97        46</span><br><span class="line"></span><br><span class="line">    accuracy                           0.98       450</span><br><span class="line">   macro avg       0.98      0.98      0.98       450</span><br><span class="line">weighted avg       0.98      0.98      0.98       450</span><br><span class="line"></span><br><span class="line">[[44  0  0  0  0  0  0  0  0  0]</span><br><span class="line"> [ 0 48  0  0  0  0  0  0  0  0]</span><br><span class="line"> [ 0  1 47  0  0  0  0  0  0  0]</span><br><span class="line"> [ 0  0  0 34  0  0  0  1  0  0]</span><br><span class="line"> [ 0  0  0  0 41  0  0  0  0  1]</span><br><span class="line"> [ 0  0  0  0  1 48  0  0  0  1]</span><br><span class="line"> [ 0  0  0  0  0  0 43  0  0  0]</span><br><span class="line"> [ 0  0  0  0  0  0  0 44  0  0]</span><br><span class="line"> [ 0  1  1  0  0  0  0  0 49  0]</span><br><span class="line"> [ 0  0  0  1  0  0  0  0  0 44]]</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="confusion-matrixç†è§£"><a href="#confusion-matrixç†è§£" class="headerlink" title="confusion_matrixç†è§£"></a>confusion_matrixç†è§£</h1><ul>
<li>å¦‚ä¸‹<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[[44  0  0  0  0  0  0  0  0  0]</span><br><span class="line"> [ 0 48  0  0  0  0  0  0  0  0]</span><br><span class="line"> [ 0  1 47  0  0  0  0  0  0  0]</span><br><span class="line"> [ 0  0  0 34  0  0  0  1  0  0]</span><br><span class="line"> [ 0  0  0  0 41  0  0  0  0  1]</span><br><span class="line"> [ 0  0  0  0  1 48  0  0  0  1]</span><br><span class="line"> [ 0  0  0  0  0  0 43  0  0  0]</span><br><span class="line"> [ 0  0  0  0  0  0  0 44  0  0]</span><br><span class="line"> [ 0  1  1  0  0  0  0  0 49  0]</span><br><span class="line"> [ 0  0  0  1  0  0  0  0  0 44]]</span><br></pre></td></tr></table></figure></li>
<li>å¯¹è§’çº¿è¶Šå¤§è¶Šå¥½ï¼Œ æœ€ç†æƒ³çš„æƒ…å†µæ˜¯åªæœ‰å¯¹è§’çº¿æœ‰å€¼</li>
<li>å…¶ä»–åœ°æ–¹å‡ºç°å€¼ä»£è¡¨è¯¥åˆ†ç±»è¢«è¯†åˆ«æˆå…¶ä»–çš„ç±»åˆ«</li>
<li>æ¯”å¦‚ä¸Šé¢ç¬¬0ã€1è¡Œå¾ˆå®Œç¾ï¼Œè¯´æ˜éƒ½è¯†åˆ«æ­£ç¡®äº†</li>
<li>ä½†æ˜¯ç¬¬2è¡Œå¯¹è§’çº¿æœ‰ä¸ª1ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªå›¾ç‰‡æœ¬æ¥æ˜¯2çš„ï¼Œå´è¯†åˆ«æˆäº†1</li>
<li>å…¶ä»–åŒç†</li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡æ•°æ’åº</title>
    <url>/2020/10/29/countSort/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šè®¡æ•°æ’åºï¼Œå°‘ç§ç±»</p>
<a id="more"></a>

<h1 id="counting-sort"><a href="#counting-sort" class="headerlink" title="counting sort"></a>counting sort</h1><ul>
<li>é€‚ç”¨äºæ•°æ®é‡å¤§ï¼Œä½†æ˜¯æ•°æ®çš„èŒƒå›´è¾ƒå°çš„æƒ…å†µ</li>
<li>æ—¶é—´å¤æ‚åº¦æ˜¯O(1),ç©ºé—´å¤æ‚åº¦æ˜¯O(n)</li>
</ul>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/10/29</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_sort</span>(<span class="params">array: <span class="built_in">list</span></span>):</span></span><br><span class="line">    max_val = <span class="built_in">max</span>(array)</span><br><span class="line">    cnt = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(max_val + <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> array:</span><br><span class="line">        cnt[i] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    print(cnt)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(cnt)):</span><br><span class="line">        print(<span class="built_in">str</span>(i) * cnt[i], end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    test = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split()))</span><br><span class="line">    count_sort(test)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">2 3 4 1 2 2 4</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ç»“æœ <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2 3 4 1 2 2 4</span><br><span class="line">[0, 1, 3, 1, 2]</span><br><span class="line">1222344</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>OJ</tag>
      </tags>
  </entry>
  <entry>
    <title>å†³ç­–æ ‘</title>
    <url>/2020/08/23/decisionTree/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<h1 id="å†³ç­–æ ‘ã€åˆ†ç±»"><a href="#å†³ç­–æ ‘ã€åˆ†ç±»" class="headerlink" title="å†³ç­–æ ‘ã€åˆ†ç±»"></a>å†³ç­–æ ‘ã€åˆ†ç±»</h1><a id="more"></a>

<h3 id="å†³ç­–æ ‘"><a href="#å†³ç­–æ ‘" class="headerlink" title="å†³ç­–æ ‘"></a>å†³ç­–æ ‘</h3><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823214016728-1137440775.png" style="zoom:67%;">


<ul>
<li> <a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=45">https://www.bilibili.com/video/BV1Rt411q7WJ?p=45</a> </li>
</ul>
<table>
<thead>
<tr>
<th>RID</th>
<th>age</th>
<th>income</th>
<th>student</th>
<th>credit_rating</th>
<th align="center">class_buys_computer</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>youth</td>
<td>high</td>
<td>no</td>
<td>fair</td>
<td align="center">no</td>
</tr>
<tr>
<td>2</td>
<td>youth</td>
<td>high</td>
<td>no</td>
<td>excellent</td>
<td align="center">no</td>
</tr>
<tr>
<td>3</td>
<td>middle_aged</td>
<td>high</td>
<td>no</td>
<td>fair</td>
<td align="center">yes</td>
</tr>
<tr>
<td>4</td>
<td>senior</td>
<td>medium</td>
<td>no</td>
<td>fair</td>
<td align="center">yes</td>
</tr>
<tr>
<td>5</td>
<td>senior</td>
<td>low</td>
<td>yes</td>
<td>fair</td>
<td align="center">yes</td>
</tr>
<tr>
<td>6</td>
<td>senior</td>
<td>low</td>
<td>yes</td>
<td>excellent</td>
<td align="center">no</td>
</tr>
<tr>
<td>7</td>
<td>middle_aged</td>
<td>low</td>
<td>yes</td>
<td>excellent</td>
<td align="center">yes</td>
</tr>
<tr>
<td>8</td>
<td>youth</td>
<td>medium</td>
<td>no</td>
<td>fair</td>
<td align="center">no</td>
</tr>
<tr>
<td>9</td>
<td>youth</td>
<td>low</td>
<td>yes</td>
<td>fair</td>
<td align="center">yes</td>
</tr>
<tr>
<td>10</td>
<td>senior</td>
<td>medium</td>
<td>yes</td>
<td>fair</td>
<td align="center">yes</td>
</tr>
<tr>
<td>11</td>
<td>youth</td>
<td>medium</td>
<td>yes</td>
<td>excellent</td>
<td align="center">yes</td>
</tr>
<tr>
<td>12</td>
<td>middle_aged</td>
<td>medium</td>
<td>no</td>
<td>excellent</td>
<td align="center">yes</td>
</tr>
<tr>
<td>13</td>
<td>middle_aged</td>
<td>high</td>
<td>yes</td>
<td>fair</td>
<td align="center">yes</td>
</tr>
<tr>
<td>14</td>
<td>senior</td>
<td>medium</td>
<td>no</td>
<td>excellent</td>
<td align="center">no</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/3</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction <span class="keyword">import</span> DictVectorizer  <span class="comment"># æŠŠå­—ç¬¦æ•°æ®è½¬åŒ–æˆ0å’Œ1</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> tree  <span class="comment"># å¯¼å…¥å†³ç­–æ ‘</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å…¥æ•°æ®</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">r&#x27;AllElectronics.csv&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">reader = csv.reader(f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–csvæ–‡ä»¶ç¬¬ä¸€è¡Œæ•°æ®ï¼Œå³ç‰¹å¾</span></span><br><span class="line">header = reader.__next__()</span><br><span class="line"><span class="comment"># print(header)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ç‰¹å¾å’Œæ ‡ç­¾åˆ—è¡¨</span></span><br><span class="line">feature_list = []</span><br><span class="line">label_list = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–1-6åˆ—æœ‰æ•ˆæ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">    <span class="comment"># print(row)</span></span><br><span class="line">    <span class="comment"># æŠŠlabelå­˜å…¥list</span></span><br><span class="line">    label_list.append(row[-<span class="number">1</span>])</span><br><span class="line">    row_dict = &#123;&#125;</span><br><span class="line">    <span class="comment"># ç¬¬0åˆ—æ•°æ®æ˜¯åºå·ï¼Œæ²¡æœ‰ç”¨çš„ï¼Œæ‰€ä»¥ä¸è¦ï¼Œæœ€åä¸€åˆ—ä¹Ÿä¸å–</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(row) - <span class="number">1</span>):</span><br><span class="line">        row_dict[header[i]] = row[i]</span><br><span class="line">    <span class="comment"># å¾—åˆ°æœ‰æ•ˆçš„ç‰¹å¾æ•°æ®</span></span><br><span class="line">    feature_list.append(row_dict)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;feature_list :\n&#x27;</span>, feature_list)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠæ•°æ®è½¬åŒ–æˆ01,å…ˆå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">vec = DictVectorizer()</span><br><span class="line">x_data = vec.fit_transform(feature_list).toarray()</span><br><span class="line">print(<span class="string">&#x27;x_data : \n&#x27;</span>, x_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç‰¹å¾åç§°</span></span><br><span class="line">print(vec.get_feature_names())</span><br><span class="line"><span class="comment"># æ‰“å°æ ‡ç­¾åˆ—è¡¨</span></span><br><span class="line">print(label_list)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠæ ‡ç­¾ä¹Ÿè½¬æ¢ä¸º01</span></span><br><span class="line">label = preprocessing.LabelBinarizer()</span><br><span class="line">y_data = label.fit_transform(label_list)</span><br><span class="line">print(<span class="string">&#x27;y_data : \n&#x27;</span>, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå†³ç­–æ ‘æ¨¡å‹,åˆ†ç±»å™¨æ˜¯å±æ€§ä¸ºentropyçš„åˆ†ç±»å™¨</span></span><br><span class="line">tree_model = tree.DecisionTreeClassifier(criterion=<span class="string">&#x27;entropy&#x27;</span>)</span><br><span class="line"><span class="comment"># è¾“å…¥æ•°æ®å»ºç«‹æ¨¡å‹</span></span><br><span class="line">tree_model.fit(x_data, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆæ‹¿ä¸ªè®­ç»ƒæ•°æ®æ¥æµ‹è¯•ä¸€ä¸‹</span></span><br><span class="line">x_test = x_data[<span class="number">0</span>]</span><br><span class="line">print(<span class="string">&#x27;x_test:&#x27;</span>, x_test)</span><br><span class="line"><span class="comment"># print(x_test.reshape(1, -1))</span></span><br><span class="line"><span class="comment"># reshape(1, -1)æ˜¯æŠŠx_testä»ä¸€ç»´å˜æˆäºŒç»´ï¼Œpredicté‡Œé¢è¦æ±‚ä¼ äºŒç»´æ•°æ®</span></span><br><span class="line">prediction = tree_model.predict(x_test.reshape(<span class="number">1</span>, -<span class="number">1</span>))</span><br><span class="line">print(<span class="string">&#x27;é¢„æµ‹ç»“æœæ˜¯ï¼š&#x27;</span>, prediction)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">feature_list :</span><br><span class="line"> [&#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;youth&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;high&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;fair&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;youth&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;high&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;excellent&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;middle_aged&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;high&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;fair&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;senior&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;medium&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;fair&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;senior&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;low&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;fair&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;senior&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;low&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;excellent&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;middle_aged&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;low&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;excellent&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;youth&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;medium&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;fair&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;youth&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;low&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;fair&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;senior&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;medium&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;fair&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;youth&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;medium&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;excellent&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;middle_aged&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;medium&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;excellent&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;middle_aged&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;high&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;fair&#x27;</span>&#125;, &#123;<span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;senior&#x27;</span>, <span class="string">&#x27;income&#x27;</span>: <span class="string">&#x27;medium&#x27;</span>, <span class="string">&#x27;student&#x27;</span>: <span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;credit_rating&#x27;</span>: <span class="string">&#x27;excellent&#x27;</span>&#125;]</span><br><span class="line">x_data : </span><br><span class="line"> [[<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span>]]</span><br><span class="line">[<span class="string">&#x27;age=middle_aged&#x27;</span>, <span class="string">&#x27;age=senior&#x27;</span>, <span class="string">&#x27;age=youth&#x27;</span>, <span class="string">&#x27;credit_rating=excellent&#x27;</span>, <span class="string">&#x27;credit_rating=fair&#x27;</span>, <span class="string">&#x27;income=high&#x27;</span>, <span class="string">&#x27;income=low&#x27;</span>, <span class="string">&#x27;income=medium&#x27;</span>, <span class="string">&#x27;student=no&#x27;</span>, <span class="string">&#x27;student=yes&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;no&#x27;</span>, <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;yes&#x27;</span>, <span class="string">&#x27;no&#x27;</span>]</span><br><span class="line">y_data : </span><br><span class="line"> [[<span class="number">0</span>]</span><br><span class="line"> [<span class="number">0</span>]</span><br><span class="line"> [<span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span>]</span><br><span class="line"> [<span class="number">0</span>]</span><br><span class="line"> [<span class="number">1</span>]</span><br><span class="line"> [<span class="number">0</span>]</span><br><span class="line"> [<span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span>]</span><br><span class="line"> [<span class="number">0</span>]]</span><br><span class="line">x_test: [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line">é¢„æµ‹ç»“æœæ˜¯ï¼š [<span class="number">0</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>reshape(1, -1)æ˜¯æŠŠx_testä»ä¸€ç»´å˜æˆäºŒç»´ï¼Œpredicté‡Œé¢è¦æ±‚ä¼ äºŒç»´æ•°æ®</li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>layuiä¸­æ–‡ä¹±ç è§£å†³</title>
    <url>/2021/01/16/layuiProblem/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šjspé¡µé¢æ˜¾ç¤ºçš„layuiä¸­æ–‡ä¹±ç é—®é¢˜è§£å†³</p>
<a id="more"></a>

<h1 id="layuiä¸­æ–‡ä¹±ç è§£å†³"><a href="#layuiä¸­æ–‡ä¹±ç è§£å†³" class="headerlink" title="layuiä¸­æ–‡ä¹±ç è§£å†³"></a>layuiä¸­æ–‡ä¹±ç è§£å†³</h1><ul>
<li>åŸæ¥æ˜¯è¿™æ ·çš„<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210116151352562-1945800077.png"></li>
</ul>
<ul>
<li><p>jspé¡µé¢æœ€ä¸Šé¢åŠ ä¸Šè¿™å¥</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210116151330093-895384780.png"></p>
</li>
<li><p>å°±å®Œç¾è§£å†³äº†</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Solution</category>
      </categories>
      <tags>
        <tag>è§£å†³æ–¹æ¡ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±æœdfsæ±‚è§£è¿·å®«é—®é¢˜</title>
    <url>/2020/10/05/dfsMaze/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šdfsæ±‚è§£è¿·å®«é—®é¢˜</p>
<a id="more"></a>

<h1 id="æ·±æœdfsæ±‚è§£è¿·å®«é—®é¢˜"><a href="#æ·±æœdfsæ±‚è§£è¿·å®«é—®é¢˜" class="headerlink" title="æ·±æœdfsæ±‚è§£è¿·å®«é—®é¢˜"></a>æ·±æœdfsæ±‚è§£è¿·å®«é—®é¢˜</h1><ul>
<li>éœ€è¦ç¡®å®šèµ·ç‚¹å’Œç»ˆç‚¹<br><img src="https://img2020.cnblogs.com/blog/2134757/202010/2134757-20201005224558705-514784224.png"></li>
</ul>
<h1 id="åŸºæœ¬æ¨¡æ¿"><a href="#åŸºæœ¬æ¨¡æ¿" class="headerlink" title="åŸºæœ¬æ¨¡æ¿"></a>åŸºæœ¬æ¨¡æ¿</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/10/5</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># è¿·å®«äºŒç»´åˆ—è¡¨ nè¡Œmåˆ— ï¼š[[0 for i in range(m)] for j in range(n)]</span></span><br><span class="line"><span class="comment"># å‡è®¾1 æ˜¯ç©ºåœ°ï¼Œ2 æ˜¯éšœç¢ç‰©</span></span><br><span class="line">a = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="comment"># æ ‡å¿—æ˜¯å¦è®¿é—®, 0æ˜¯æœªè®¿é—®ï¼Œ1æ˜¯å·²ç»è®¿é—®</span></span><br><span class="line">flag = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="comment"># ç›®æ ‡åæ ‡</span></span><br><span class="line"><span class="comment"># p, q = 0, 0</span></span><br><span class="line"><span class="comment"># è®¾æœ€çŸ­è·¯å¾„é•¿åº¦</span></span><br><span class="line">min_dis = <span class="number">99999999</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x, y, step</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x == p <span class="keyword">and</span> y == q:</span><br><span class="line">        <span class="keyword">global</span> min_dis</span><br><span class="line">        <span class="keyword">if</span> step &lt; min_dis:</span><br><span class="line">            min_dis = step</span><br><span class="line">        <span class="comment"># å›é€€</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;é¡ºæ—¶é’ˆè¯•æ¢&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># å³è¾¹</span></span><br><span class="line">    <span class="keyword">if</span> a[x][y + <span class="number">1</span>] == <span class="number">1</span> <span class="keyword">and</span> flag[x][y + <span class="number">1</span>] == <span class="number">0</span>:</span><br><span class="line">        flag[x][y + <span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">        dfs(x, y + <span class="number">1</span>, step + <span class="number">1</span>)</span><br><span class="line">        flag[x][y + <span class="number">1</span>] = <span class="number">0</span></span><br><span class="line">    <span class="comment"># ä¸‹</span></span><br><span class="line">    <span class="keyword">if</span> a[x + <span class="number">1</span>][y] == <span class="number">1</span> <span class="keyword">and</span> flag[x + <span class="number">1</span>][y] == <span class="number">0</span>:</span><br><span class="line">        flag[x + <span class="number">1</span>][y] = <span class="number">1</span></span><br><span class="line">        dfs(x + <span class="number">1</span>, y, step + <span class="number">1</span>)</span><br><span class="line">        flag[x + <span class="number">1</span>][y] = <span class="number">0</span></span><br><span class="line">    <span class="comment"># å·¦</span></span><br><span class="line">    <span class="keyword">if</span> a[x][y - <span class="number">1</span>] == <span class="number">1</span> <span class="keyword">and</span> flag[x][y - <span class="number">1</span>] == <span class="number">0</span>:</span><br><span class="line">        flag[x][y - <span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">        dfs(x, y - <span class="number">1</span>, step + <span class="number">1</span>)</span><br><span class="line">        flag[x][y - <span class="number">1</span>] = <span class="number">0</span></span><br><span class="line">    <span class="comment"># ä¸Š</span></span><br><span class="line">    <span class="keyword">if</span> a[x - <span class="number">1</span>][y] == <span class="number">1</span> <span class="keyword">and</span> flag[x - <span class="number">1</span>][y] == <span class="number">0</span>:</span><br><span class="line">        flag[x - <span class="number">1</span>][y] = <span class="number">1</span></span><br><span class="line">        dfs(x - <span class="number">1</span>, y, step + <span class="number">1</span>)</span><br><span class="line">        flag[x - <span class="number">1</span>][y] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># è¾“å…¥mè¡Œnåˆ—</span></span><br><span class="line">    m, n = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">    <span class="comment"># ç»™åœ°å›¾èµ‹å€¼,ç©ºåœ°ã€éšœç¢ç‰©</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, m):</span><br><span class="line">        temp = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split()))</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, n):</span><br><span class="line">            <span class="comment"># a[i][j] = int(input())</span></span><br><span class="line">            a[i][j] = temp[j]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¾“å…¥èµ·ç‚¹å’Œç»ˆç‚¹åæ ‡</span></span><br><span class="line">    start_x, start_y = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">    <span class="comment"># global p, q</span></span><br><span class="line">    p, q = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä»èµ·ç‚¹å¼€å§‹ï¼Œæ‰€ä»¥èµ·ç‚¹è®¾ç½®ä¸ºå·²ç»è®¿é—®çŠ¶æ€</span></span><br><span class="line">    flag[start_x][start_y] = <span class="number">1</span></span><br><span class="line">    dfs(start_x, start_y, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    print(min_dis)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">5 4</span></span><br><span class="line"><span class="string">1 1 2 1</span></span><br><span class="line"><span class="string">1 1 1 1</span></span><br><span class="line"><span class="string">1 1 2 1</span></span><br><span class="line"><span class="string">1 2 1 1</span></span><br><span class="line"><span class="string">1 1 1 2</span></span><br><span class="line"><span class="string">0 0</span></span><br><span class="line"><span class="string">3 2</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ä¼˜åŒ–åçš„æ¨¡æ¿"><a href="#ä¼˜åŒ–åçš„æ¨¡æ¿" class="headerlink" title="ä¼˜åŒ–åçš„æ¨¡æ¿"></a>ä¼˜åŒ–åçš„æ¨¡æ¿</h1><ul>
<li>æ·»åŠ æ–¹å‘æ•°ç»„</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/10/5</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># è¿·å®«äºŒç»´åˆ—è¡¨ nè¡Œmåˆ— ï¼š[[0 for i in range(m)] for j in range(n)]</span></span><br><span class="line"><span class="comment"># å‡è®¾1 æ˜¯ç©ºåœ°ï¼Œ2 æ˜¯éšœç¢ç‰©</span></span><br><span class="line">a = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]</span><br><span class="line"><span class="comment"># æ ‡å¿—æ˜¯å¦è®¿é—®, 0æ˜¯æœªè®¿é—®ï¼Œ1æ˜¯å·²ç»è®¿é—®</span></span><br><span class="line">flag = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]</span><br><span class="line"><span class="comment"># æ–¹å‘æ•°ç»„</span></span><br><span class="line">dx = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>]</span><br><span class="line">dy = [<span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾æœ€çŸ­è·¯å¾„é•¿åº¦</span></span><br><span class="line">min_dis = <span class="number">99999999</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x, y, step</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x == p <span class="keyword">and</span> y == q:</span><br><span class="line">        <span class="keyword">global</span> min_dis</span><br><span class="line">        <span class="keyword">if</span> step &lt; min_dis:</span><br><span class="line">            min_dis = step</span><br><span class="line">        <span class="comment"># å›é€€</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;é¡ºæ—¶é’ˆè¯•æ¢&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">4</span>):</span><br><span class="line">        tx = x + dx[i]</span><br><span class="line">        ty = y + dy[i]</span><br><span class="line">        <span class="keyword">if</span> a[tx][ty] == <span class="number">1</span> <span class="keyword">and</span> flag[tx][ty] == <span class="number">0</span>:</span><br><span class="line">            flag[tx][ty] = <span class="number">1</span></span><br><span class="line">            dfs(tx, ty, step + <span class="number">1</span>)</span><br><span class="line">            flag[tx][ty] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># è¾“å…¥mè¡Œnåˆ—</span></span><br><span class="line">    m, n = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">    <span class="comment"># ç»™åœ°å›¾èµ‹å€¼,ç©ºåœ°ã€éšœç¢ç‰©</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, m):</span><br><span class="line">        temp = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split()))</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, n):</span><br><span class="line">            <span class="comment"># a[i][j] = int(input())</span></span><br><span class="line">            a[i][j] = temp[j]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¾“å…¥èµ·ç‚¹å’Œç»ˆç‚¹åæ ‡</span></span><br><span class="line">    start_x, start_y = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">    <span class="comment"># global p, q</span></span><br><span class="line">    p, q = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä»èµ·ç‚¹å¼€å§‹ï¼Œæ‰€ä»¥èµ·ç‚¹è®¾ç½®ä¸ºå·²ç»è®¿é—®çŠ¶æ€</span></span><br><span class="line">    flag[start_x][start_y] = <span class="number">1</span></span><br><span class="line">    dfs(start_x, start_y, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    print(min_dis)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">5 4</span></span><br><span class="line"><span class="string">1 1 2 1</span></span><br><span class="line"><span class="string">1 1 1 1</span></span><br><span class="line"><span class="string">1 1 2 1</span></span><br><span class="line"><span class="string">1 2 1 1</span></span><br><span class="line"><span class="string">1 1 1 2</span></span><br><span class="line"><span class="string">0 0</span></span><br><span class="line"><span class="string">3 2</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">5 4</span><br><span class="line">1 1 2 1</span><br><span class="line">1 1 1 1</span><br><span class="line">1 1 2 1</span><br><span class="line">1 2 1 1</span><br><span class="line">1 1 1 2</span><br><span class="line">0 0</span><br><span class="line">3 2</span><br><span class="line">7</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>OJ</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³hexo init ä¸€ç›´åœåœ¨&quot;checking installable status&quot;çš„é—®é¢˜</title>
    <url>/2021/01/28/hexoInitProblem/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šnpmã€hexo init</p>
<a id="more"></a>

<h1 id="åŸå› ï¼š"><a href="#åŸå› ï¼š" class="headerlink" title="åŸå› ï¼š"></a>åŸå› ï¼š</h1><ul>
<li>æ—§çš„npmç¼“å­˜ä¸é¡¹ç›®å†²çª</li>
</ul>
<h1 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h1><ul>
<li>æ­¥éª¤ä¸€<br><code>sudo npm cache clean</code></li>
<li>å¦‚æœæ˜¯winä¸‹çš„cmdå°±ç›´æ¥<code>npm cache clean</code>å°±è¡Œäº†</li>
<li>æ­¥éª¤äºŒ<br><code>npm config set registry https://registry.npm.taobao.org</code></li>
<li>å®æµ‹æœ‰æ•ˆï¼Œä¹‹åå°±å†æ¬¡æ‰§è¡Œ<code>hexo init xxx</code>å°±å®Œç¾è§£å†³äº†</li>
</ul>
<h2 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h2><ul>
<li><a href="https://blog.csdn.net/nicai_xiaoqinxi/article/details/86322578">https://blog.csdn.net/nicai_xiaoqinxi/article/details/86322578</a></li>
</ul>
]]></content>
      <categories>
        <category>Solution</category>
      </categories>
      <tags>
        <tag>è§£å†³æ–¹æ¡ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoåšå®¢æ­å»º</title>
    <url>/2021/01/28/first-test/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  
hexo+githubæ­å»ºåšå®¢

<a id="more"></a>

<h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ul>
<li>git</li>
<li>githubè´¦å·<ul>
<li>åˆ›å»ºä»“åº“ï¼šç”¨æˆ·å.github.io</li>
</ul>
</li>
<li>node.js</li>
<li>npmå¯é€‰æ‹©é…ç½®ä¸€ä¸‹æ·˜å®é•œåƒ</li>
</ul>
<h2 id="æ­å»º"><a href="#æ­å»º" class="headerlink" title="æ­å»º"></a>æ­å»º</h2><ul>
<li>github Pages + Hexo</li>
<li>Hexo ä½¿ç”¨ nexTä¸»é¢˜</li>
</ul>
<h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><h3 id="ç½‘ç»œå›¾ç‰‡æ˜¾ç¤ºé—®é¢˜"><a href="#ç½‘ç»œå›¾ç‰‡æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="ç½‘ç»œå›¾ç‰‡æ˜¾ç¤ºé—®é¢˜"></a>ç½‘ç»œå›¾ç‰‡æ˜¾ç¤ºé—®é¢˜</h3><ul>
<li><p>åœ¨mdæ–‡ç« çš„å‰é¢æ·»åŠ ä¸€å¥è¯å°±å¯ä»¥äº†</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;referrer&quot;</span> <span class="attr">content</span>=<span class="string">&quot;no-referrer&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210129144652737-506864194.png" style="zoom:70%;">

</li>
</ul>
<h3 id="ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜"><a href="#ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜"></a>ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜</h3><ul>
<li>æœ€æ–°ç‰ˆçš„nextä¸»é¢˜è®¾ä¸ºï¼š<code>zh-CN</code>ï¼Œè¿™ä¸ªäº²æµ‹æœ‰æ•ˆ</li>
<li>è€ç‰ˆæœ¬è®¾ä¸ºï¼š<code>zh-Hans</code></li>
</ul>
<h3 id="æ¯æ¬¡hexo-déƒ½è¦è¾“å…¥è´¦å·å’Œå¯†ç é—®é¢˜"><a href="#æ¯æ¬¡hexo-déƒ½è¦è¾“å…¥è´¦å·å’Œå¯†ç é—®é¢˜" class="headerlink" title="æ¯æ¬¡hexo déƒ½è¦è¾“å…¥è´¦å·å’Œå¯†ç é—®é¢˜"></a>æ¯æ¬¡hexo déƒ½è¦è¾“å…¥è´¦å·å’Œå¯†ç é—®é¢˜</h3><ul>
<li>å°†é…ç½®æ–‡ä»¶çš„repoä½¿ç”¨sshé“¾æ¥ï¼Œä¸è¦ç”¨htmlé“¾æ¥ï¼Œå°±å¯ä»¥æ¯æ¬¡éƒ½ä¸ç”¨è¾“å…¥è´¦å·å’Œå¯†ç äº†ï¼Œä½¿ç”¨htmlé“¾æ¥è¿˜ä¼šå‡ºç°ç™»å½•å¤±è´¥çš„æƒ…å†µï¼Œç„¶åè¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥ä½¿ç”¨SSHæ›´åŠ æ–¹ä¾¿ã€‚</li>
</ul>
<h3 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h3><ul>
<li>ç½‘ä¸ŠåŸºæœ¬éƒ½å¯ä»¥æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ</li>
</ul>
<h1 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h1><ul>
<li>å¯ä»¥ä½¿ç”¨cdnåŠ é€Ÿ(å‚è€ƒç½‘ä¸Š)</li>
<li>èƒŒæ™¯å›¾ç‰‡è¿‡å¤§çš„è¯ï¼ŒåŠ è½½é€Ÿåº¦æ…¢</li>
<li>å°½é‡ä¸è¦æå¾—å¤ªèŠ±é‡Œèƒ¡å“¨çš„ï¼Œå½±å“é˜…è¯»ï¼Œè€Œä¸”å½±å“åŠ è½½é€Ÿåº¦</li>
</ul>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li>ç½‘ä¸Šé…ç½®ç¾åŒ–ä¸»é¢˜çš„èµ„æ–™å¾ˆå¤š</li>
<li><a href="https://www.bilibili.com/video/BV16W411t7mq?p=18">Bç«™æ•™ç¨‹</a>ï¼Œä½†æ˜¯æ³¨æ„ä¸€ä¸‹ç‰ˆæœ¬é—®é¢˜ï¼Œä¸ªåˆ«é…ç½®è¿˜æ˜¯æœ‰å·®å¼‚çš„</li>
</ul>
]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>å¯¼èˆª</tag>
        <tag>åˆ†äº«</tag>
      </tags>
  </entry>
  <entry>
    <title>PCAä¸»æˆåˆ†åˆ†æ</title>
    <url>/2020/08/24/pca/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šPCAé™ç»´ï¼Œå¯ä»¥å¤„ç†å¤šæ ‡ç­¾é—®é¢˜ï¼ŒæŠŠå¤šä¸ªæ ‡ç­¾é™ç»´åˆ°å‡ ä¸ªå½±å“ç¨‹åº¦æ¯”è¾ƒå¤§çš„æ ‡ç­¾ï¼Œå†å»ºæ¨¡æ¥è§£å†³é—®é¢˜ã€‚</p>
<a id="more"></a>

<h2 id="PCAä¸»æˆåˆ†åˆ†æ"><a href="#PCAä¸»æˆåˆ†åˆ†æ" class="headerlink" title="PCAä¸»æˆåˆ†åˆ†æ"></a>PCAä¸»æˆåˆ†åˆ†æ</h2><h4 id="æ˜¯ä¸€ç§é™ç»´ç®—æ³•"><a href="#æ˜¯ä¸€ç§é™ç»´ç®—æ³•" class="headerlink" title="æ˜¯ä¸€ç§é™ç»´ç®—æ³•"></a>æ˜¯ä¸€ç§é™ç»´ç®—æ³•</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/21</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.neural_network <span class="keyword">import</span> MLPClassifier  <span class="comment"># å¾…ä¼šç”¨ç¥ç»ç½‘ç»œé¢„æµ‹é™ç»´åçš„æ•°æ®</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_digits  <span class="comment"># æ‰‹å†™æ•°æ®é›†</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA  <span class="comment"># å¯¼å…¥PCAæ¨¡å‹</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report, confusion_matrix</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># from mpl_toolkits.mplot3d import Axes3D</span></span><br><span class="line"></span><br><span class="line">digits = load_digits()</span><br><span class="line">x_data = digits.data  <span class="comment"># æ•°æ®</span></span><br><span class="line">y_data = digits.target  <span class="comment"># æ ‡ç­¾</span></span><br><span class="line"><span class="comment"># åˆ‡åˆ†æ•°æ®</span></span><br><span class="line">x_train, x_test, y_train, y_text = train_test_split(x_data, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹ç¥ç»ç½‘ç»œæ¨¡å‹,åŒ…å«ä¸¤ä¸ªéšè—å±‚ï¼Œåˆ†åˆ«æœ‰100å’Œ50ä¸ªç¥ç»å…ƒ</span></span><br><span class="line">model = MLPClassifier(hidden_layer_sizes=(<span class="number">100</span>, <span class="number">50</span>), max_iter=<span class="number">500</span>)</span><br><span class="line">model.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯„ä¼°</span></span><br><span class="line">prediction = model.predict(x_test)</span><br><span class="line">print(prediction)</span><br><span class="line">print(classification_report(prediction, y_text))</span><br><span class="line">print(confusion_matrix(prediction, y_text))</span><br><span class="line"><span class="comment"># è¿›è¡Œpcaé™ç»´,è¿™é‡Œn_componentsæ˜¯é™æˆ2ç»´</span></span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># ç›´æ¥è¿”å›é™ç»´åçš„æ•°æ®,å¦‚æœä¸è¿”å›æ–°æ•°æ®ï¼Œå°±ç”¨fit</span></span><br><span class="line">new_data = pca.fit_transform(x_data)</span><br><span class="line">print(new_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºé™ç»´åçš„æ•°æ®</span></span><br><span class="line">new_x_data = new_data[:, <span class="number">0</span>]</span><br><span class="line">new_y_data = new_data[:, <span class="number">1</span>]</span><br><span class="line">plt.scatter(new_x_data, new_y_data, c=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™é‡Œçš„æ˜¯åªæ‹Ÿåˆï¼Œä¸è¿”å›é‡æ„çš„æ–°æ•°æ®</span></span><br><span class="line">pca = model.fit(x_train, y_train)</span><br><span class="line">pred = model.predict(x_data)</span><br><span class="line">print(classification_report(pred, y_data))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºé¢„æµ‹çš„èšç±»å›¾</span></span><br><span class="line">plt.scatter(new_x_data, new_y_data, c=pred)</span><br><span class="line"><span class="comment"># plt.scatter(new_x_data, new_y_data, c=y_data)</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;é™æˆ3ä¸ªç»´åº¦&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pca = PCA(n_components=<span class="number">3</span>)</span><br><span class="line">new_data = pca.fit_transform(x_data)</span><br><span class="line"><span class="comment"># ç”»å‡ºé™ç»´åçš„æ•°æ®</span></span><br><span class="line">new_x_data = new_data[:, <span class="number">0</span>]</span><br><span class="line">new_y_data = new_data[:, <span class="number">1</span>]</span><br><span class="line">new_z_data = new_data[:, <span class="number">2</span>]</span><br><span class="line">ax = plt.figure().add_subplot(<span class="number">111</span>, projection=<span class="string">&#x27;3d&#x27;</span>)</span><br><span class="line">ax.scatter(new_x_data, new_y_data, new_z_data, c=pred, s=<span class="number">10</span>)</span><br><span class="line"><span class="comment"># ax.scatter(new_x_data, new_y_data, new_z_data, c=y_data, s=10)</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><p>è¿è¡Œç»“æœ<br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823010327643-1524522678.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823010332560-359279175.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823010337798-75088185.png"></p>
</li>
<li><p>è¾“å‡ºç»“æœ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[<span class="number">4</span> <span class="number">8</span> <span class="number">4</span> <span class="number">9</span> <span class="number">7</span> <span class="number">8</span> <span class="number">5</span> <span class="number">7</span> <span class="number">0</span> <span class="number">4</span> <span class="number">4</span> <span class="number">2</span> <span class="number">6</span> <span class="number">3</span> <span class="number">6</span> <span class="number">4</span> <span class="number">5</span> <span class="number">8</span> <span class="number">4</span> <span class="number">1</span> <span class="number">8</span> <span class="number">7</span> <span class="number">4</span> <span class="number">5</span> <span class="number">4</span> <span class="number">5</span> <span class="number">7</span> <span class="number">6</span> <span class="number">4</span> <span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">5</span> <span class="number">7</span> <span class="number">0</span> <span class="number">1</span> <span class="number">5</span></span><br><span class="line"> <span class="number">3</span> <span class="number">4</span> <span class="number">8</span> <span class="number">3</span> <span class="number">5</span> <span class="number">4</span> <span class="number">6</span> <span class="number">3</span> <span class="number">9</span> <span class="number">3</span> <span class="number">8</span> <span class="number">0</span> <span class="number">1</span> <span class="number">7</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">4</span> <span class="number">8</span> <span class="number">0</span> <span class="number">4</span> <span class="number">2</span> <span class="number">8</span> <span class="number">9</span> <span class="number">6</span> <span class="number">7</span> <span class="number">9</span> <span class="number">4</span> <span class="number">6</span> <span class="number">2</span> <span class="number">5</span> <span class="number">7</span> <span class="number">5</span> <span class="number">8</span> <span class="number">6</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"> <span class="number">8</span> <span class="number">8</span> <span class="number">3</span> <span class="number">0</span> <span class="number">6</span> <span class="number">7</span> <span class="number">6</span> <span class="number">8</span> <span class="number">5</span> <span class="number">0</span> <span class="number">0</span> <span class="number">9</span> <span class="number">4</span> <span class="number">8</span> <span class="number">4</span> <span class="number">3</span> <span class="number">9</span> <span class="number">8</span> <span class="number">9</span> <span class="number">8</span> <span class="number">4</span> <span class="number">0</span> <span class="number">7</span> <span class="number">2</span> <span class="number">0</span> <span class="number">3</span> <span class="number">8</span> <span class="number">5</span> <span class="number">4</span> <span class="number">2</span> <span class="number">6</span> <span class="number">5</span> <span class="number">9</span> <span class="number">2</span> <span class="number">0</span> <span class="number">6</span> <span class="number">3</span></span><br><span class="line"> <span class="number">8</span> <span class="number">1</span> <span class="number">1</span> <span class="number">7</span> <span class="number">5</span> <span class="number">4</span> <span class="number">3</span> <span class="number">4</span> <span class="number">6</span> <span class="number">7</span> <span class="number">5</span> <span class="number">8</span> <span class="number">7</span> <span class="number">5</span> <span class="number">1</span> <span class="number">8</span> <span class="number">1</span> <span class="number">8</span> <span class="number">4</span> <span class="number">2</span> <span class="number">7</span> <span class="number">4</span> <span class="number">2</span> <span class="number">5</span> <span class="number">8</span> <span class="number">9</span> <span class="number">8</span> <span class="number">9</span> <span class="number">2</span> <span class="number">5</span> <span class="number">5</span> <span class="number">9</span> <span class="number">6</span> <span class="number">1</span> <span class="number">7</span> <span class="number">7</span> <span class="number">6</span></span><br><span class="line"> <span class="number">7</span> <span class="number">0</span> <span class="number">4</span> <span class="number">4</span> <span class="number">9</span> <span class="number">3</span> <span class="number">2</span> <span class="number">4</span> <span class="number">4</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">6</span> <span class="number">5</span> <span class="number">5</span> <span class="number">4</span> <span class="number">4</span> <span class="number">4</span> <span class="number">0</span> <span class="number">3</span> <span class="number">1</span> <span class="number">7</span> <span class="number">6</span> <span class="number">9</span> <span class="number">2</span> <span class="number">9</span> <span class="number">8</span> <span class="number">5</span> <span class="number">9</span> <span class="number">8</span> <span class="number">8</span> <span class="number">9</span> <span class="number">4</span> <span class="number">0</span> <span class="number">9</span> <span class="number">3</span> <span class="number">3</span></span><br><span class="line"> <span class="number">6</span> <span class="number">4</span> <span class="number">1</span> <span class="number">8</span> <span class="number">5</span> <span class="number">9</span> <span class="number">6</span> <span class="number">6</span> <span class="number">5</span> <span class="number">8</span> <span class="number">0</span> <span class="number">8</span> <span class="number">1</span> <span class="number">2</span> <span class="number">9</span> <span class="number">8</span> <span class="number">1</span> <span class="number">5</span> <span class="number">5</span> <span class="number">0</span> <span class="number">1</span> <span class="number">3</span> <span class="number">7</span> <span class="number">2</span> <span class="number">7</span> <span class="number">9</span> <span class="number">0</span> <span class="number">3</span> <span class="number">0</span> <span class="number">1</span> <span class="number">8</span> <span class="number">7</span> <span class="number">5</span> <span class="number">9</span> <span class="number">5</span> <span class="number">1</span> <span class="number">9</span></span><br><span class="line"> <span class="number">3</span> <span class="number">6</span> <span class="number">5</span> <span class="number">1</span> <span class="number">1</span> <span class="number">8</span> <span class="number">7</span> <span class="number">7</span> <span class="number">2</span> <span class="number">0</span> <span class="number">7</span> <span class="number">3</span> <span class="number">7</span> <span class="number">1</span> <span class="number">1</span> <span class="number">7</span> <span class="number">4</span> <span class="number">4</span> <span class="number">1</span> <span class="number">9</span> <span class="number">9</span> <span class="number">3</span> <span class="number">2</span> <span class="number">0</span> <span class="number">8</span> <span class="number">2</span> <span class="number">4</span> <span class="number">7</span> <span class="number">9</span> <span class="number">2</span> <span class="number">5</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">0</span> <span class="number">4</span></span><br><span class="line"> <span class="number">3</span> <span class="number">0</span> <span class="number">6</span> <span class="number">5</span> <span class="number">0</span> <span class="number">7</span> <span class="number">4</span> <span class="number">3</span> <span class="number">6</span> <span class="number">5</span> <span class="number">9</span> <span class="number">9</span> <span class="number">6</span> <span class="number">1</span> <span class="number">6</span> <span class="number">9</span> <span class="number">9</span> <span class="number">5</span> <span class="number">1</span> <span class="number">4</span> <span class="number">5</span> <span class="number">3</span> <span class="number">5</span> <span class="number">8</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">8</span> <span class="number">5</span> <span class="number">3</span> <span class="number">0</span> <span class="number">2</span> <span class="number">6</span> <span class="number">6</span> <span class="number">2</span> <span class="number">9</span> <span class="number">3</span></span><br><span class="line"> <span class="number">7</span> <span class="number">3</span> <span class="number">0</span> <span class="number">0</span> <span class="number">4</span> <span class="number">3</span> <span class="number">3</span> <span class="number">2</span> <span class="number">4</span> <span class="number">7</span> <span class="number">6</span> <span class="number">8</span> <span class="number">5</span> <span class="number">5</span> <span class="number">9</span> <span class="number">2</span> <span class="number">9</span> <span class="number">0</span> <span class="number">7</span> <span class="number">2</span> <span class="number">0</span> <span class="number">9</span> <span class="number">8</span> <span class="number">2</span> <span class="number">3</span> <span class="number">6</span> <span class="number">5</span> <span class="number">1</span> <span class="number">8</span> <span class="number">7</span> <span class="number">5</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">9</span> <span class="number">3</span> <span class="number">6</span></span><br><span class="line"> <span class="number">4</span> <span class="number">2</span> <span class="number">8</span> <span class="number">4</span> <span class="number">1</span> <span class="number">3</span> <span class="number">0</span> <span class="number">2</span> <span class="number">9</span> <span class="number">6</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span> <span class="number">1</span> <span class="number">8</span> <span class="number">5</span> <span class="number">1</span> <span class="number">4</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">3</span> <span class="number">3</span> <span class="number">7</span> <span class="number">0</span> <span class="number">8</span> <span class="number">0</span> <span class="number">8</span> <span class="number">6</span> <span class="number">5</span> <span class="number">8</span> <span class="number">7</span> <span class="number">6</span> <span class="number">2</span> <span class="number">8</span> <span class="number">8</span></span><br><span class="line"> <span class="number">1</span> <span class="number">4</span> <span class="number">3</span> <span class="number">5</span> <span class="number">8</span> <span class="number">5</span> <span class="number">5</span> <span class="number">6</span> <span class="number">9</span> <span class="number">9</span> <span class="number">5</span> <span class="number">8</span> <span class="number">4</span> <span class="number">9</span> <span class="number">7</span> <span class="number">2</span> <span class="number">9</span> <span class="number">6</span> <span class="number">3</span> <span class="number">6</span> <span class="number">5</span> <span class="number">7</span> <span class="number">5</span> <span class="number">9</span> <span class="number">8</span> <span class="number">9</span> <span class="number">6</span> <span class="number">9</span> <span class="number">0</span> <span class="number">0</span> <span class="number">4</span> <span class="number">4</span> <span class="number">4</span> <span class="number">1</span> <span class="number">6</span> <span class="number">4</span> <span class="number">3</span></span><br><span class="line"> <span class="number">2</span> <span class="number">9</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">9</span> <span class="number">2</span> <span class="number">5</span> <span class="number">8</span> <span class="number">5</span> <span class="number">2</span> <span class="number">4</span> <span class="number">2</span> <span class="number">0</span> <span class="number">3</span> <span class="number">1</span> <span class="number">0</span> <span class="number">4</span> <span class="number">5</span> <span class="number">8</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">6</span> <span class="number">2</span> <span class="number">5</span> <span class="number">7</span> <span class="number">0</span> <span class="number">3</span> <span class="number">3</span> <span class="number">6</span> <span class="number">7</span> <span class="number">3</span> <span class="number">7</span></span><br><span class="line"> <span class="number">8</span> <span class="number">2</span> <span class="number">3</span> <span class="number">8</span> <span class="number">4</span> <span class="number">8</span>]</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           <span class="number">0</span>       <span class="number">1.00</span>      <span class="number">1.00</span>      <span class="number">1.00</span>        <span class="number">40</span></span><br><span class="line">           <span class="number">1</span>       <span class="number">0.97</span>      <span class="number">1.00</span>      <span class="number">0.99</span>        <span class="number">37</span></span><br><span class="line">           <span class="number">2</span>       <span class="number">0.97</span>      <span class="number">0.97</span>      <span class="number">0.97</span>        <span class="number">38</span></span><br><span class="line">           <span class="number">3</span>       <span class="number">0.98</span>      <span class="number">0.93</span>      <span class="number">0.96</span>        <span class="number">46</span></span><br><span class="line">           <span class="number">4</span>       <span class="number">1.00</span>      <span class="number">0.96</span>      <span class="number">0.98</span>        <span class="number">55</span></span><br><span class="line">           <span class="number">5</span>       <span class="number">0.97</span>      <span class="number">0.95</span>      <span class="number">0.96</span>        <span class="number">59</span></span><br><span class="line">           <span class="number">6</span>       <span class="number">1.00</span>      <span class="number">1.00</span>      <span class="number">1.00</span>        <span class="number">40</span></span><br><span class="line">           <span class="number">7</span>       <span class="number">0.97</span>      <span class="number">1.00</span>      <span class="number">0.99</span>        <span class="number">39</span></span><br><span class="line">           <span class="number">8</span>       <span class="number">0.93</span>      <span class="number">1.00</span>      <span class="number">0.96</span>        <span class="number">52</span></span><br><span class="line">           <span class="number">9</span>       <span class="number">1.00</span>      <span class="number">0.98</span>      <span class="number">0.99</span>        <span class="number">44</span></span><br><span class="line"></span><br><span class="line">    accuracy                           <span class="number">0.98</span>       <span class="number">450</span></span><br><span class="line">   macro avg       <span class="number">0.98</span>      <span class="number">0.98</span>      <span class="number">0.98</span>       <span class="number">450</span></span><br><span class="line">weighted avg       <span class="number">0.98</span>      <span class="number">0.98</span>      <span class="number">0.98</span>       <span class="number">450</span></span><br><span class="line"></span><br><span class="line">[[<span class="number">40</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span> <span class="number">37</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span> <span class="number">37</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">1</span>  <span class="number">1</span> <span class="number">43</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span> <span class="number">53</span>  <span class="number">1</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">0</span> <span class="number">56</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">2</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span> <span class="number">40</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span> <span class="number">39</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span> <span class="number">52</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">0</span> <span class="number">43</span>]]</span><br><span class="line">[[ -<span class="number">1.25946953</span>  <span class="number">21.2748899</span> ]</span><br><span class="line"> [  <span class="number">7.95760889</span> -<span class="number">20.76869375</span>]</span><br><span class="line"> [  <span class="number">6.99192912</span>  -<span class="number">9.95599846</span>]</span><br><span class="line"> ...</span><br><span class="line"> [ <span class="number">10.80128058</span>  -<span class="number">6.9602433</span> ]</span><br><span class="line"> [ -<span class="number">4.87210255</span>  <span class="number">12.42397333</span>]</span><br><span class="line"> [ -<span class="number">0.34439116</span>   <span class="number">6.36555361</span>]]</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           <span class="number">0</span>       <span class="number">1.00</span>      <span class="number">1.00</span>      <span class="number">1.00</span>       <span class="number">178</span></span><br><span class="line">           <span class="number">1</span>       <span class="number">0.99</span>      <span class="number">0.99</span>      <span class="number">0.99</span>       <span class="number">183</span></span><br><span class="line">           <span class="number">2</span>       <span class="number">1.00</span>      <span class="number">0.99</span>      <span class="number">1.00</span>       <span class="number">178</span></span><br><span class="line">           <span class="number">3</span>       <span class="number">0.99</span>      <span class="number">0.99</span>      <span class="number">0.99</span>       <span class="number">182</span></span><br><span class="line">           <span class="number">4</span>       <span class="number">0.99</span>      <span class="number">0.99</span>      <span class="number">0.99</span>       <span class="number">182</span></span><br><span class="line">           <span class="number">5</span>       <span class="number">0.99</span>      <span class="number">0.98</span>      <span class="number">0.99</span>       <span class="number">183</span></span><br><span class="line">           <span class="number">6</span>       <span class="number">1.00</span>      <span class="number">1.00</span>      <span class="number">1.00</span>       <span class="number">181</span></span><br><span class="line">           <span class="number">7</span>       <span class="number">0.99</span>      <span class="number">1.00</span>      <span class="number">1.00</span>       <span class="number">178</span></span><br><span class="line">           <span class="number">8</span>       <span class="number">0.97</span>      <span class="number">0.98</span>      <span class="number">0.98</span>       <span class="number">172</span></span><br><span class="line">           <span class="number">9</span>       <span class="number">0.99</span>      <span class="number">0.99</span>      <span class="number">0.99</span>       <span class="number">180</span></span><br><span class="line"></span><br><span class="line">    accuracy                           <span class="number">0.99</span>      <span class="number">1797</span></span><br><span class="line">   macro avg       <span class="number">0.99</span>      <span class="number">0.99</span>      <span class="number">0.99</span>      <span class="number">1797</span></span><br><span class="line">weighted avg       <span class="number">0.99</span>      <span class="number">0.99</span>      <span class="number">0.99</span>      <span class="number">1797</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>MNIST æ•°æ®é›†ç®€å•è¯†åˆ«ç¨‹åº</title>
    <url>/2020/09/21/minist/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  
æ‘˜è¦ï¼šPytorchæ·±åº¦å­¦ä¹ ã€Ministæ•°æ®é›†

<a id="more"></a>

<h1 id="MNIST-æ•°æ®é›†ç®€å•è¯†åˆ«ç¨‹åº"><a href="#MNIST-æ•°æ®é›†ç®€å•è¯†åˆ«ç¨‹åº" class="headerlink" title="MNIST æ•°æ®é›†ç®€å•è¯†åˆ«ç¨‹åº"></a>MNIST æ•°æ®é›†ç®€å•è¯†åˆ«ç¨‹åº</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/10/20</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn, optim</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets, transforms</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Net</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(Net, self).__init__()</span><br><span class="line">        <span class="comment"># ç»“æ„ä¸­åªæœ‰è¾“å…¥å’Œè¾“å‡ºå±‚</span></span><br><span class="line">        self.fc1 = nn.Linear(<span class="number">784</span>, <span class="number">10</span>)</span><br><span class="line">        <span class="comment"># ç»™ä¸€ä¸ªæ¿€æ´»å‡½æ•°,dim=1æ˜¯ç¬¬ä¸€ä¸ªç»´åº¦ï¼Œå³è¾“å‡ºç¬¬ä¸€ä¸ªç»´åº¦çš„æ¦‚ç‡</span></span><br><span class="line">        self.softmax = nn.Softmax(dim=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        <span class="comment"># å…¨è¿æ¥å±‚æŠŠ(64, 1, 28, 28)è½¬æ¢ä¸ºäºŒç»´(64, 784),viewç›¸å½“äºreshape,784=1*28*28</span></span><br><span class="line">        x = x.view(x.size()[<span class="number">0</span>], -<span class="number">1</span>)</span><br><span class="line">        x = self.fc1(x)</span><br><span class="line">        x = self.softmax(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># è®­ç»ƒé›†</span></span><br><span class="line">    train_data = datasets.MNIST(root=<span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">                                train=<span class="literal">True</span>,</span><br><span class="line">                                transform=transforms.ToTensor(),</span><br><span class="line">                                download=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># æµ‹è¯•é›†</span></span><br><span class="line">    test_data = datasets.MNIST(root=<span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">                               train=<span class="literal">False</span>,</span><br><span class="line">                               transform=transforms.ToTensor(),</span><br><span class="line">                               download=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‰¹æ¬¡å¤§å°ï¼Œå³ä¸€æ¬¡åŠ è½½å¤šå°‘æ•°æ®</span></span><br><span class="line">    batch_size = <span class="number">64</span></span><br><span class="line">    <span class="comment"># è£…è½½è®­ç»ƒé›†ï¼Œshuffle=Trueå°†æ•°æ®æ‰“ä¹±</span></span><br><span class="line">    train_load = DataLoader(dataset=train_data,</span><br><span class="line">                            batch_size=batch_size,</span><br><span class="line">                            shuffle=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># è£…è½½æµ‹è¯•é›†ï¼Œå°†æ•°æ®æ‰“ä¹±</span></span><br><span class="line">    test_load = DataLoader(dataset=test_data,</span><br><span class="line">                           batch_size=batch_size,</span><br><span class="line">                           shuffle=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># for i, data in enumerate(train_load):</span></span><br><span class="line">    <span class="comment">#     inputs, labels = data</span></span><br><span class="line">    <span class="comment">#     print(inputs.shape)</span></span><br><span class="line">    <span class="comment">#     print(labels.shape)</span></span><br><span class="line">    <span class="comment">#     print(labels)</span></span><br><span class="line">    <span class="comment">#     break</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä¹‰æ¨¡å‹,æŸå¤±å‡½æ•°ï¼Œä¼˜åŒ–å™¨</span></span><br><span class="line">    model = Net()</span><br><span class="line">    mse_loss = nn.MSELoss()</span><br><span class="line">    opt = optim.SGD(model.parameters(), lr=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">train</span>():</span></span><br><span class="line">        <span class="keyword">for</span> i, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_load):</span><br><span class="line">            <span class="comment"># æ¯ä¸€æ¬¡è¿­ä»£éƒ½è¿”å›ä¸€ç»„è¾“å…¥æ•°æ®å’Œæ ‡ç­¾</span></span><br><span class="line">            input_data, labels = data</span><br><span class="line">            <span class="comment"># è·å¾—æ¨¡å‹çš„ç»“æœ</span></span><br><span class="line">            out = model(input_data)</span><br><span class="line">            <span class="comment"># (64)â€”â€”&gt;(64, 1)</span></span><br><span class="line">            labels = labels.reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">            <span class="comment"># è½¬æ¢ä¸ºç‹¬çƒ­ç¼–ç </span></span><br><span class="line">            one_hot = torch.zeros(input_data.shape[<span class="number">0</span>], <span class="number">10</span>).scatter(<span class="number">1</span>, labels, <span class="number">1</span>)</span><br><span class="line">            <span class="comment"># è®¡ç®—loss,out, one_hotçš„shapeè¦ä¸€è‡´</span></span><br><span class="line">            loss = mse_loss(out, one_hot)</span><br><span class="line">            <span class="comment"># æ¢¯åº¦æ¸…é›¶</span></span><br><span class="line">            opt.zero_grad()</span><br><span class="line">            <span class="comment"># è®¡ç®—æ¢¯åº¦</span></span><br><span class="line">            loss.backward()</span><br><span class="line">            <span class="comment"># ä¿®æ”¹æƒå€¼</span></span><br><span class="line">            opt.step()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä¹‰ä¸€ä¸ªæµ‹è¯•æ•°æ®çš„å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>():</span></span><br><span class="line">        correct = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(test_load):</span><br><span class="line">            <span class="comment"># æ¯ä¸€æ¬¡è¿­ä»£éƒ½è¿”å›ä¸€ç»„è¾“å…¥æ•°æ®å’Œæ ‡ç­¾</span></span><br><span class="line">            input_data, labels = data</span><br><span class="line">            <span class="comment"># è·å¾—æ¨¡å‹çš„ç»“æœ</span></span><br><span class="line">            out = model(input_data)</span><br><span class="line">            <span class="comment"># è·å¾—ç¬¬ä¸€ä¸ªç»´åº¦çš„æœ€å¤§å€¼ï¼Œä»¥åŠæœ€å¤§å€¼æ‰€åœ¨çš„ä½ç½®</span></span><br><span class="line">            max_value, pred_index = torch.<span class="built_in">max</span>(out, <span class="number">1</span>)</span><br><span class="line">            <span class="comment"># ç”¨è¿™64ä¸ªé¢„æµ‹æ•°æ®ä¸æ ‡ç­¾åšä¸€ä¸ªå¯¹æ¯”ï¼Œç»Ÿè®¡é¢„æµ‹æ­£ç¡®çš„æ•°é‡</span></span><br><span class="line">            correct += (pred_index == labels).<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line">        print(<span class="string">&#x27;å‡†ç¡®ç‡ï¼š&#123;0&#125;&#x27;</span>.<span class="built_in">format</span>(correct.item() / <span class="built_in">len</span>(test_data)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®­ç»ƒå’Œæµ‹è¯•10ä¸ªå‘¨æœŸ</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        print(i, <span class="string">&#x27;:&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        train()</span><br><span class="line">        test()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>ç»“æœï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> :å‡†ç¡®ç‡ï¼š<span class="number">0.8881</span></span><br><span class="line"><span class="number">1</span> :å‡†ç¡®ç‡ï¼š<span class="number">0.9025</span></span><br><span class="line"><span class="number">2</span> :å‡†ç¡®ç‡ï¼š<span class="number">0.9067</span></span><br><span class="line"><span class="number">3</span> :å‡†ç¡®ç‡ï¼š<span class="number">0.9104</span></span><br><span class="line"><span class="number">4</span> :å‡†ç¡®ç‡ï¼š<span class="number">0.9147</span></span><br><span class="line"><span class="number">5</span> :å‡†ç¡®ç‡ï¼š<span class="number">0.9159</span></span><br><span class="line"><span class="number">6</span> :å‡†ç¡®ç‡ï¼š<span class="number">0.9165</span></span><br><span class="line"><span class="number">7</span> :å‡†ç¡®ç‡ï¼š<span class="number">0.9184</span></span><br><span class="line"><span class="number">8</span> :å‡†ç¡®ç‡ï¼š<span class="number">0.9187</span></span><br><span class="line"><span class="number">9</span> :å‡†ç¡®ç‡ï¼š<span class="number">0.9199</span></span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Pytorch</category>
      </categories>
      <tags>
        <tag>äººå·¥æ™ºèƒ½</tag>
        <tag>Pythonæ·±åº¦å­¦ä¹ </tag>
        <tag>æœºå™¨è§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorch GPUç‰ˆæœ¬çš„å®‰è£…</title>
    <url>/2021/01/21/pytorchGPU/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼špytorch gpuç‰ˆçš„å®‰è£…</p>
<a id="more"></a>

<h1 id="å…ˆæŸ¥çœ‹è‡ªå·±ç”µè„‘è‹±ä¼Ÿè¾¾CUDAæ”¯æŒçš„ç‰ˆæœ¬ä¿¡æ¯"><a href="#å…ˆæŸ¥çœ‹è‡ªå·±ç”µè„‘è‹±ä¼Ÿè¾¾CUDAæ”¯æŒçš„ç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="å…ˆæŸ¥çœ‹è‡ªå·±ç”µè„‘è‹±ä¼Ÿè¾¾CUDAæ”¯æŒçš„ç‰ˆæœ¬ä¿¡æ¯"></a>å…ˆæŸ¥çœ‹è‡ªå·±ç”µè„‘è‹±ä¼Ÿè¾¾CUDAæ”¯æŒçš„ç‰ˆæœ¬ä¿¡æ¯</h1><ul>
<li>ç‚¹å¸®åŠ©â€”â€”ç³»ç»Ÿä¿¡æ¯ï¼š<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118204602900-1331583185.png"></li>
<li>æˆ–è€…cmdæŸ¥ä¸€ä¸‹<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118225052201-1965735017.png"></li>
</ul>
<h1 id="ä¸‹è½½ç›¸å…³CUDAé©±åŠ¨"><a href="#ä¸‹è½½ç›¸å…³CUDAé©±åŠ¨" class="headerlink" title="ä¸‹è½½ç›¸å…³CUDAé©±åŠ¨"></a>ä¸‹è½½ç›¸å…³CUDAé©±åŠ¨</h1><ul>
<li>CUDAä¸‹è½½ï¼š<a href="https://developer.nvidia.com/cuda-toolkit-archive">https://developer.nvidia.com/cuda-toolkit-archive</a> </li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118210106416-585840722.png"></p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118210047866-246321417.png"></p>
<ul>
<li>CUDNNä¸‹è½½ï¼š<a href="https://developer.nvidia.com/rdp/cudnn-download">https://developer.nvidia.com/rdp/cudnn-download</a> </li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118211043029-1654699330.png"></p>
<ul>
<li><p>ç™»å½•åä¸‹è½½<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118211849079-1353660430.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118212120967-1201392807.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118214624942-709353672.png"></p>
</li>
<li><p>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå®‰è£…<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118214826818-1403326827.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118215008009-552130242.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118215109849-725365987.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118215131944-969395178.png"></p>
</li>
<li><p>å¦‚æœå½“å‰ç‰ˆæœ¬æ¯”æ–°ç‰ˆæœ¬å°ï¼Œé‚£å°±æ‰“å‹¾ç»§ç»­ä¸‹ä¸€æ­¥ï¼Œå¦åˆ™æŠŠå‹¾å»æ‰ï¼š<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118215302971-1969854070.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118215543506-68127787.png"><br>ç»§ç»­å®‰è£…<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118215741057-291972430.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118231944042-241593146.png"></p>
</li>
<li><p>æµ‹è¯•ä¸€ä¸‹å®‰è£…æˆåŠŸæ²¡<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118221039591-275765290.png"><br>æœ‰è¿™ä¸ªç‰ˆæœ¬å°±æˆåŠŸäº†</p>
</li>
</ul>
<h1 id="cudnn"><a href="#cudnn" class="headerlink" title="cudnn"></a>cudnn</h1><ul>
<li>æŠŠå¦ä¸€ä¸ªå‹ç¼©åŒ…è§£å‹ï¼Œç‚¹è¿›å»é‡å‘½å<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118221558772-746508545.png"></li>
<li>ç„¶åå¤åˆ¶åˆ°åˆšåˆšå®‰è£…çš„è¿™ä¸ªv10.2é‡Œé¢<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118232846140-562493373.png"></li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118232725905-1252139530.png"></p>
<ul>
<li>é…ç½®ç¯å¢ƒå˜é‡<br>åŠ è¿™ä¸¤ä¸ªå°±è¡Œäº†<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118232549717-1989083141.png"></li>
</ul>
<h1 id="pytorch-GPUç‰ˆæœ¬çš„å®‰è£…"><a href="#pytorch-GPUç‰ˆæœ¬çš„å®‰è£…" class="headerlink" title="pytorch GPUç‰ˆæœ¬çš„å®‰è£…"></a>pytorch GPUç‰ˆæœ¬çš„å®‰è£…</h1><ul>
<li><p>pytorchä¸‹è½½ï¼špytorch.org<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210118235908456-2112798044.png"></p>
</li>
<li><p>å¤åˆ¶å‘½ä»¤æ‰§è¡Œå³å¯ï¼Œè¦æ˜¯é€Ÿåº¦æ…¢æˆ–è€…ä¸­é—´æŠ¥é”™ï¼Œå°±åŠ ä¸ªé•œåƒæºç»™ä»–<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210119000125485-1385846789.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210119000144317-1878799838.png"></p>
</li>
<li><p>å®‰è£…åæµ‹è¯•ä¸€ä¸‹<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210119000439226-1220171770.png"></p>
</li>
<li><p>è¯´æ˜¯å°‘è¿™ä¸ªï¼Œé‚£å°±è£…ä¸€ä¸‹ï¼Œä¸€èˆ¬éƒ½æ²¡æœ‰æç¤ºè¿™ä¸ªçš„ï¼Œåº”è¯¥æ˜¯æˆ‘é‡è£…ç³»ç»Ÿåè¿™ä¸ªä¸œè¥¿æ²¡æœ‰äº†<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210119000414587-2046218832.png"></p>
</li>
<li><p>é‡å¯<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210119000647785-656121443.png"><br>å¦‚æœè¾“å‡ºTrueï¼Œé‚£å°±æ˜¯å®‰è£…æˆåŠŸä¸”å¯ä»¥ä½¿ç”¨gpuåŠ é€Ÿäº†</p>
</li>
<li><p>å¦‚æœæ˜¯ç”¨condaå®‰è£…ï¼ŒåŠ é€Ÿå¯ä»¥å‚è€ƒä¸‹é¢é“¾æ¥</p>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/144575524">https://zhuanlan.zhihu.com/p/144575524</a></li>
<li><a href="https://blog.csdn.net/qq_41936559/article/details/102699082">https://blog.csdn.net/qq_41936559/article/details/102699082</a></li>
</ul>
</li>
<li><p>ç»“æœ<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210119004428917-1846753032.png"><br>å¦‚æœè¾“å‡ºTrueï¼Œé‚£å°±æ˜¯å®‰è£…æˆåŠŸä¸”å¯ä»¥ä½¿ç”¨gpuåŠ é€Ÿäº†<br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210119004537229-1763915927.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210119004615924-641044948.png"></p>
</li>
</ul>
<h3 id="å®Œç¾"><a href="#å®Œç¾" class="headerlink" title="=====å®Œç¾====="></a>=====å®Œç¾=====</h3>]]></content>
      <categories>
        <category>Pytorch</category>
      </categories>
      <tags>
        <tag>äººå·¥æ™ºèƒ½</tag>
        <tag>Pythonæ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorchå®ç°ç¥ç»ç½‘ç»œæ¨¡å‹æ±‚è§£çº¿æ€§å›å½’</title>
    <url>/2020/09/14/pytorchLinear/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  
æ‘˜è¦ï¼šPytorchæ·±åº¦å­¦ä¹ 

<a id="more"></a>

<h2 id="autograd-åŠVariable"><a href="#autograd-åŠVariable" class="headerlink" title="autograd åŠVariable"></a>autograd åŠVariable</h2><h3 id="Autograd-è‡ªåŠ¨å¾®åˆ†"><a href="#Autograd-è‡ªåŠ¨å¾®åˆ†" class="headerlink" title="Autograd: è‡ªåŠ¨å¾®åˆ†"></a><strong>Autograd: è‡ªåŠ¨å¾®åˆ†</strong></h3><p>autogradåŒ…æ˜¯PyTorchä¸­ç¥ç»ç½‘ç»œçš„æ ¸å¿ƒ, å®ƒå¯ä»¥ä¸ºåŸºäºtensorçš„çš„æ‰€æœ‰æ“ä½œæä¾›è‡ªåŠ¨å¾®åˆ†çš„åŠŸèƒ½, è¿™æ˜¯ä¸€ä¸ªé€ä¸ªè¿è¡Œçš„æ¡†æ¶, æ„å‘³ç€åå‘ä¼ æ’­æ˜¯æ ¹æ®ä½ çš„ä»£ç æ¥è¿è¡Œçš„, å¹¶ä¸”æ¯ä¸€æ¬¡çš„è¿­ä»£è¿è¡Œéƒ½å¯èƒ½ä¸åŒ.</p>
<h3 id="Variable"><a href="#Variable" class="headerlink" title="Variable"></a><strong>Variable</strong></h3><p>tensoræ˜¯ç¡¬å¸çš„è¯ï¼Œé‚£Variableå°±æ˜¯é’±åŒ…ï¼Œå®ƒè®°å½•ç€é‡Œé¢çš„é’±çš„å¤šå°‘ï¼Œå’Œé’±çš„æµå‘</p>
<ul>
<li>è¯¦ç»†è§<a href="https://zhuanlan.zhihu.com/p/34298983">https://zhuanlan.zhihu.com/p/34298983</a></li>
</ul>
<h2 id="çº¿æ€§å›å½’"><a href="#çº¿æ€§å›å½’" class="headerlink" title="çº¿æ€§å›å½’"></a>çº¿æ€§å›å½’</h2><ul>
<li><a href="https://www.bilibili.com/video/BV1iv41117Zg?p=9">https://www.bilibili.com/video/BV1iv41117Zg?p=9</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/9/14</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn, optim</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">os.environ[<span class="string">&#x27;KMP_DUPLICATE_LIB_OK&#x27;</span>] = <span class="string">&#x27;True&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»ºç¥ç»ç½‘ç»œæ¨¡å‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinearRegression</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="comment"># å®šä¹‰ç½‘ç»œç»“æ„</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()  <span class="comment"># åˆå§‹åŒ–çˆ¶ç±»</span></span><br><span class="line">        <span class="comment"># å…¨è¿æ¥å±‚</span></span><br><span class="line">        self.fc = nn.Linear(<span class="number">1</span>, <span class="number">1</span>)  <span class="comment"># è¾“å…¥1ä¸ªï¼Œè¾“å‡º1ä¸ª</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä¹‰ç½‘ç»œè®¡ç®—ï¼Œ(å‰å‘çš„è®¡ç®—)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        <span class="comment"># x æ˜¯æ•´ä¸ªç½‘ç»œçš„è¾“å…¥,ä¼ ç»™å…¨è¿æ¥å±‚åšè®¡ç®—</span></span><br><span class="line">        output = self.fc(x)</span><br><span class="line">        <span class="keyword">return</span> output  <span class="comment"># è¿”å›è¾“å‡ºå€¼</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># éšæœºç”Ÿæˆ0-1å†…çš„100ä¸ªæ•°æ®</span></span><br><span class="line">    x_data = np.random.rand(<span class="number">100</span>)</span><br><span class="line">    <span class="comment"># 0-0.01å†…çš„å™ªç‚¹æ•°æ®ï¼Œå°ºå¯¸å’Œx_dataä¸€æ ·</span></span><br><span class="line">    noise = np.random.normal(<span class="number">0</span>, <span class="number">0.01</span>, x_data.shape)</span><br><span class="line">    <span class="comment"># print(noise.shape,x_data.shape)</span></span><br><span class="line">    <span class="comment"># å› å˜é‡</span></span><br><span class="line">    y_data = x_data * <span class="number">0.1</span> + <span class="number">0.2</span> + noise</span><br><span class="line">    print(y_data.shape)</span><br><span class="line"></span><br><span class="line">    plt.scatter(x_data, y_data)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è½¬æˆ2ç»´</span></span><br><span class="line">    x_data = x_data.reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">    y_data = y_data.reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æŠŠnumpyç±»å‹è½¬æˆtensor</span></span><br><span class="line">    x_data = torch.FloatTensor(x_data)</span><br><span class="line">    y_data = torch.FloatTensor(y_data)</span><br><span class="line">    <span class="comment"># è½¬æ¢æˆpytorchç¯å¢ƒé‡Œé¢çš„å˜é‡</span></span><br><span class="line">    inputs = Variable(x_data)</span><br><span class="line">    target = Variable(y_data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å»ºæ¨¡,ç¥ç»ç½‘ç»œæ¨¡å‹</span></span><br><span class="line">    model = LinearRegression()</span><br><span class="line">    <span class="comment"># å®šä¹‰ä»£ä»·å‡½æ•°,å–å‡æ–¹å·®ä»£ä»·å‡½æ•°</span></span><br><span class="line">    loss = nn.MSELoss()</span><br><span class="line">    <span class="comment"># å®šä¹‰ä¼˜åŒ–å™¨ï¼Œå–æ¢¯åº¦ä¸‹é™æ³•,ä¼ å…¥æ¨¡å‹å‚æ•°å’Œå­¦ä¹ ç‡</span></span><br><span class="line">    optimizer = optim.SGD(model.parameters(), lr=<span class="number">0.1</span>)</span><br><span class="line">    <span class="comment"># for name, param in model.named_parameters():</span></span><br><span class="line">    <span class="comment">#     print(name,param)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®­ç»ƒæ¨¡å‹1000æ¬¡</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        out = model(inputs)</span><br><span class="line">        <span class="comment"># è®¡ç®—loss</span></span><br><span class="line">        mse_loss = loss(out, target)</span><br><span class="line">        <span class="comment"># æ¢¯åº¦æ¸…é›¶</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        <span class="comment"># è®¡ç®—æ¢¯åº¦</span></span><br><span class="line">        mse_loss.backward()</span><br><span class="line">        <span class="comment"># ä¿®æ”¹æƒå€¼</span></span><br><span class="line">        optimizer.step()</span><br><span class="line">        <span class="keyword">if</span> i % <span class="number">200</span> == <span class="number">0</span>:</span><br><span class="line">            print(i, mse_loss.item())</span><br><span class="line"></span><br><span class="line">    predict = model(inputs)</span><br><span class="line">    plt.scatter(x_data, y_data)</span><br><span class="line">    plt.plot(x_data, predict.data.numpy(), <span class="string">&#x27;r-&#x27;</span>, lw=<span class="number">3</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">D:\Anaconda\Anaconda3\python.exe D:&#x2F;Appication&#x2F;PyCharm&#x2F;Git&#x2F;computer-vision&#x2F;PytorchLearning&#x2F;LinearRegression&#x2F;linear_regression.py</span><br><span class="line">(100,)</span><br><span class="line">0 0.1716347187757492</span><br><span class="line">200 0.00019752216758206487</span><br><span class="line">400 0.00011990861094091088</span><br><span class="line">600 0.00011977301619481295</span><br><span class="line">800 0.00011977282701991498</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img src="https://img2020.cnblogs.com/blog/2134757/202009/2134757-20200915003840100-1459674930.png"></p>
]]></content>
      <categories>
        <category>Pytorch</category>
      </categories>
      <tags>
        <tag>äººå·¥æ™ºèƒ½</tag>
        <tag>Pythonæ·±åº¦å­¦ä¹ </tag>
        <tag>æœºå™¨è§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu åˆ›å»ºWebStormå¿«æ·æ–¹å¼</title>
    <url>/2020/12/02/ubuntuWebstorm/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šwebstormå¿«æ·æ–¹å¼</p>
<a id="more"></a>

<h1 id="Ubuntu20-åˆ›å»ºWebStormå¿«æ·æ–¹å¼"><a href="#Ubuntu20-åˆ›å»ºWebStormå¿«æ·æ–¹å¼" class="headerlink" title="Ubuntu20 åˆ›å»ºWebStormå¿«æ·æ–¹å¼"></a>Ubuntu20 åˆ›å»ºWebStormå¿«æ·æ–¹å¼</h1><ul>
<li>åœ¨<code>/usr/share/applications</code>ä¸­åˆ›å»º<code>webstorm.desktop</code>æ–‡ä»¶ï¼Œ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo gedit webstorm.desktop</span><br></pre></td></tr></table></figure>


<p>æŠŠä¸‹é¢æ‹·è´è¿›å»ï¼Œå¹¶ä¿å­˜ã€‚<br>æ³¨æ„ï¼šéœ€è¦æŠŠ [/home/â€¦/WebStorm-2020.3/WebStorm-203.5981.135/bin] æ¢æˆè‡ªå·±çš„è·¯å¾„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Name &#x3D; WebStorm</span><br><span class="line">Comment&#x3D; WebStorm</span><br><span class="line">Exec&#x3D;&#x2F;home&#x2F;...&#x2F;WebStorm-2020.3&#x2F;WebStorm-203.5981.135&#x2F;bin&#x2F;webstorm.sh</span><br><span class="line">Icon&#x3D;&#x2F;home&#x2F;...&#x2F;WebStorm-2020.3&#x2F;WebStorm-203.5981.135&#x2F;bin&#x2F;webstorm.png</span><br><span class="line">Terminal&#x3D;false</span><br><span class="line">Type&#x3D;Application</span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202012/2134757-20201201194057217-787796834.png"></p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202012/2134757-20201201194116100-520028535.png"></p>
<ul>
<li>æŒæ¡è¿™ç§æ–¹æ³•ï¼Œè®¾ç½®å…¶ä»–è½¯ä»¶çš„å›¾æ ‡ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>webstorm</tag>
      </tags>
  </entry>
  <entry>
    <title>vueåœ¨win10ä¸­çš„å®‰è£…ï¼Œåˆ›å»ºé¡¹ç›®</title>
    <url>/2020/11/28/vueSetupInWin10/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼švue.js</p>
<a id="more"></a>

<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><ul>
<li><p>Bç«™æœ‰ä¸ªè®²çš„ä¸é”™çš„</p>
<ul>
<li><p><a href="https://www.bilibili.com/video/BV1if4y1X7BS?from=search&amp;seid=13331891292206694699">https://www.bilibili.com/video/BV1if4y1X7BS?from=search&amp;seid=13331891292206694699</a></p>
</li>
<li><p>win10ç¯å¢ƒä¸‹æ³¨æ„å°½é‡ç”¨ç®¡ç†å‘˜èº«ä»½æ“ä½œå‘½ä»¤</p>
</li>
</ul>
</li>
<li><p>Bç«™çœ‹äº†ä¸€ä¸‹ä¸Šé¢é‚£ä¸ªæ•™ç¨‹ï¼Œåœ¨win10ä¸Šè¿˜æ˜¯å¾ˆæœ‰ç”¨çš„</p>
</li>
<li><p>åˆ›å»ºé¡¹ç›®<br><code>vue create test</code><br><code>cd test</code><br><code>npm run serve</code></p>
</li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202011/2134757-20201128124714612-2060254054.png"></p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202011/2134757-20201128124738236-282890014.png"></p>
<ul>
<li>ç„¶ååœ¨æ‰“å¼€è¿™ä¸ª8080ç«¯å£å°±æœ‰äº†<br><img src="https://img2020.cnblogs.com/blog/2134757/202011/2134757-20201128124949279-25565746.png"></li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Scrapyçš„åŸºæœ¬ä½¿ç”¨</title>
    <url>/2020/08/27/useScrapy/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šé¡¹ç›®åˆ›å»ºã€å¯åŠ¨ã€åŸºæœ¬ä¾‹å­çš„è¿è¡Œ</p>
<a id="more"></a>

<h1 id="åˆ›å»ºä¸€ä¸ªscrapyé¡¹ç›®"><a href="#åˆ›å»ºä¸€ä¸ªscrapyé¡¹ç›®" class="headerlink" title="åˆ›å»ºä¸€ä¸ªscrapyé¡¹ç›®"></a>åˆ›å»ºä¸€ä¸ªscrapyé¡¹ç›®</h1><ul>
<li><p>åœ¨ç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scrapy startproject &lt;é¡¹ç›®å&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200827155958476-199784315.png"></p>
</li>
<li><p>æ¥ä¸‹å¯ä»¥ç”¨pycharmæ‰“å¼€<br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200827160204027-388362013.png"></p>
<h1 id="å†™çˆ¬è™«ä»£ç "><a href="#å†™çˆ¬è™«ä»£ç " class="headerlink" title="å†™çˆ¬è™«ä»£ç "></a>å†™çˆ¬è™«ä»£ç </h1></li>
<li><p>åœ¨æ–‡ä»¶å¤¹spidersé‡Œé¢å†™è‡ªå·±çš„çˆ¬è™«ä»£ç </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MassageSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;msg_crawl&#x27;</span>  <span class="comment"># çˆ¬è™«çš„åå­—ï¼Œä¸€å®šè¦ç»™</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;http://www.cae.cn/cae/html/main/col48/column_48_1.html&#x27;</span>]  <span class="comment"># èµ·å§‹çš„url</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹çˆ¬åˆ°çš„ç½‘é¡µè¿›è¡Œè§£æ</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response, **kwargs</span>):</span></span><br><span class="line">        print(response.url)</span><br></pre></td></tr></table></figure></li>
<li><p>responseä¼šè‡ªåŠ¨å»è·å–start_urlsé‡Œé¢çš„url</p>
</li>
<li><p>å¯åŠ¨çˆ¬è™«ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scrapy crawl &lt;çˆ¬è™«çš„åå­—&gt;</span><br></pre></td></tr></table></figure>
<p>eg</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">scrapy crawl msg_crawl</span><br></pre></td></tr></table></figure>
<p><code>è®°å¾—åˆ‡æ¢åˆ°æ ¹ç›®å½•</code><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200827174153464-1659126069.png"></p>
</li>
</ul>
<h1 id="çˆ¬å–ä¸­ç§‘é™¢é™¢å£«ä¿¡æ¯ä¸ºä¾‹"><a href="#çˆ¬å–ä¸­ç§‘é™¢é™¢å£«ä¿¡æ¯ä¸ºä¾‹" class="headerlink" title="çˆ¬å–ä¸­ç§‘é™¢é™¢å£«ä¿¡æ¯ä¸ºä¾‹"></a>çˆ¬å–ä¸­ç§‘é™¢é™¢å£«ä¿¡æ¯ä¸ºä¾‹</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/27</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MassageSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;msg_crawl&#x27;</span>  <span class="comment"># çˆ¬è™«çš„åå­—ï¼Œä¸€å®šè¦ç»™</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;http://www.cae.cn/cae/html/main/col48/column_48_1.html&#x27;</span>]  <span class="comment"># èµ·å§‹çš„url</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹çˆ¬åˆ°çš„ç½‘é¡µè¿›è¡Œè§£æ</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response, **kwargs</span>):</span></span><br><span class="line">        soup = BeautifulSoup(response.body, <span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line">        nodes = soup.find_all(<span class="string">&#x27;li&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;name_list&#x27;</span>&#125;)</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> nodes:</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            people_name = node.find(<span class="string">&#x27;a&#x27;</span>).text</span><br><span class="line">            link = <span class="string">&#x27;http://www.cae.cn/&#x27;</span> + node.find(<span class="string">&#x27;a&#x27;</span>)[<span class="string">&#x27;href&#x27;</span>]</span><br><span class="line">            print(<span class="string">&#x27;&#123;&#125;. &#123;&#125;: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(i, people_name, link))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><p>ç»“æœå¦‚ä¸‹ï¼š<br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200827180139794-2102099363.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200827180158997-2057957749.png"></p>
</li>
<li><p>æ‰€ä»¥åŸºæœ¬ä¸Šå¤„ç†ç½‘é¡µå°±æ˜¯åœ¨<code> def parse(self, response, **kwargs)</code> è¿™é‡Œäº†</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Scrapyç½‘ç»œçˆ¬è™«</category>
      </categories>
      <tags>
        <tag>äººå·¥æ™ºèƒ½</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>SVMæ”¯æŒå‘é‡æœºåŸºç¡€</title>
    <url>/2020/08/24/svm/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šSVMæ”¯æŒå‘é‡æœºï¼šåŸºç¡€ä½¿ç”¨ã€å¤„ç†éçº¿æ€§é—®é¢˜ï¼Œä½ç»´æ˜ å°„åˆ°é«˜ç»´ã€æ ¸å‡½æ•°ã€æ¨å¯¼</p>
<a id="more"></a>

<h1 id="SVM"><a href="#SVM" class="headerlink" title="SVM"></a>SVM</h1><ul>
<li>ç”¨äºå›¾åƒè¯†åˆ«ã€äººè„¸è¯†åˆ«ç­‰å¤æ‚çš„åˆ†ç±»æƒ…å†µ</li>
<li>ä½†æ˜¯æ•ˆæœæ²¡æœ‰æ·±åº¦å­¦ä¹ å¥½ï¼Œæ‰€ä»¥ç°åœ¨SVMçš„å¾ˆå¤šé¢†åŸŸè¢«æ·±åº¦å­¦ä¹ å–ä»£äº†</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/21</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC  <span class="comment"># å¯¼å…¥svmçš„åˆ†ç±»å™¨SVC</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># äºŒç»´çš„æƒ…å†µ</span></span><br><span class="line">x = [[<span class="number">3</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">1</span>]]</span><br><span class="line">y = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>]  <span class="comment"># åˆ†ç±»æ ‡ç­¾ï¼Œ2ä¸ªç±»</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºæ¨¡, æ ¸å‡½æ•°ä¸ºçº¿æ€§</span></span><br><span class="line">model = SVC(kernel=<span class="string">&#x27;linear&#x27;</span>)</span><br><span class="line">model.fit(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°æ”¯æŒå‘é‡</span></span><br><span class="line">print(<span class="string">&#x27;æ”¯æŒå‘é‡ï¼š\n&#x27;</span>, model.support_vectors_)</span><br><span class="line"><span class="comment"># çœ‹çœ‹å“ªå‡ ä¸ªç‚¹æ˜¯æ”¯æŒå‘é‡ï¼Œæ‰“å°å‡ºæ¥æ˜¯ç¬¬2å’Œç¬¬0ä¸ª</span></span><br><span class="line">print(<span class="string">&#x27;ç¬¬å‡ ä¸ªç‚¹æ˜¯æ”¯æŒå‘é‡ï¼š\n&#x27;</span>, model.support_)</span><br><span class="line"><span class="comment"># æ”¯æŒå‘é‡çš„åˆ†å¸ƒæƒ…å†µï¼Œåœ¨åˆ†ç•Œçº¿ä¸¤ç«¯,è¿™é‡Œæ‰“å‡ºæ¥æ˜¯å„æœ‰1ä¸ª</span></span><br><span class="line">print(<span class="string">&#x27;æ”¯æŒå‘é‡åœ¨åˆ†ç•Œçº¿ä¸¤ç«¯çš„åˆ†å¸ƒæƒ…å†µ\n&#x27;</span>, model.n_support_)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„æµ‹ç±»åˆ«</span></span><br><span class="line">print(<span class="string">&#x27;é¢„æµ‹åæ ‡(%d, %d)çš„ç±»åˆ«æ˜¯ï¼š&#x27;</span> % (-<span class="number">8</span>, <span class="number">3</span>), model.predict([[-<span class="number">8</span>, <span class="number">3</span>]]))</span><br><span class="line">print(<span class="string">&#x27;é¢„æµ‹åæ ‡(%d, %d)çš„ç±»åˆ«æ˜¯ï¼š&#x27;</span> % (<span class="number">4</span>, <span class="number">3</span>), model.predict([[<span class="number">4</span>, <span class="number">3</span>]]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># çœ‹çœ‹ç³»æ•°å’Œæˆªè·</span></span><br><span class="line">print(<span class="string">&#x27;ç³»æ•°ï¼š\n&#x27;</span>, model.coef_)</span><br><span class="line">print(<span class="string">&#x27;æˆªè·:\n&#x27;</span>, model.intercept_)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ”¯æŒå‘é‡ï¼š</span><br><span class="line"> [[1. 1.]</span><br><span class="line"> [3. 3.]]</span><br><span class="line">ç¬¬å‡ ä¸ªç‚¹æ˜¯æ”¯æŒå‘é‡ï¼š</span><br><span class="line"> [2 0]</span><br><span class="line">æ”¯æŒå‘é‡åœ¨åˆ†ç•Œçº¿ä¸¤ç«¯çš„åˆ†å¸ƒæƒ…å†µ</span><br><span class="line"> [1 1]</span><br><span class="line">é¢„æµ‹åæ ‡(-8, 3)çš„ç±»åˆ«æ˜¯ï¼š [0]</span><br><span class="line">é¢„æµ‹åæ ‡(4, 3)çš„ç±»åˆ«æ˜¯ï¼š [1]</span><br><span class="line">ç³»æ•°ï¼š</span><br><span class="line"> [[0.5 0.5]]</span><br><span class="line">æˆªè·:</span><br><span class="line"> [-2.]</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="svmå¤„ç†éçº¿æ€§é—®é¢˜ï¼Œä½ç»´æ˜ å°„åˆ°é«˜ç»´"><a href="#svmå¤„ç†éçº¿æ€§é—®é¢˜ï¼Œä½ç»´æ˜ å°„åˆ°é«˜ç»´" class="headerlink" title="svmå¤„ç†éçº¿æ€§é—®é¢˜ï¼Œä½ç»´æ˜ å°„åˆ°é«˜ç»´"></a>svmå¤„ç†éçº¿æ€§é—®é¢˜ï¼Œä½ç»´æ˜ å°„åˆ°é«˜ç»´</h1><ul>
<li>å¦‚2ç»´è½¬3ç»´ï¼Œæ‰¾åˆ°åˆ‡å¹³é¢ï¼Œåœ¨æŠ•å½±åˆ°2ç»´å¹³é¢ï¼Œå¯èƒ½æ˜¯ä¸ªåœ†æˆ–è€…æ¤­åœ†çš„åˆ†ç•Œçº¿</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/22</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;ç”¨äºè§£å†³éçº¿æ€§é—®é¢˜&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¶é€ æ•°æ®</span></span><br><span class="line">x_data, y_data = datasets.make_circles(n_samples=<span class="number">500</span>, factor=<span class="number">0.3</span>, noise=<span class="number">0.1</span>)</span><br><span class="line"><span class="comment"># ç”»å‡ºæ¥çœ‹çœ‹</span></span><br><span class="line">plt.scatter(x_data[:, <span class="number">0</span>], x_data[:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;æ¥ä¸‹æ¥æŠŠ2ç»´æ˜ å°„åˆ°3ç»´&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">z_data = x_data[:, <span class="number">0</span>] ** <span class="number">2</span> + x_data[:, <span class="number">1</span>] ** <span class="number">2</span></span><br><span class="line"><span class="comment"># ç”»3då›¾</span></span><br><span class="line">ax = plt.figure().add_subplot(<span class="number">111</span>, projection=<span class="string">&#x27;3d&#x27;</span>)</span><br><span class="line">ax.scatter(x_data[:, <span class="number">0</span>], x_data[:, <span class="number">1</span>], z_data, c=y_data, s=<span class="number">10</span>)  <span class="comment"># sæ˜¯å¤§å°</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823004743724-1988786159.png"></p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823004757923-1357665534.png"></p>
<h2 id="æŠ•å½±åˆ°äºŒç»´å¹³é¢"><a href="#æŠ•å½±åˆ°äºŒç»´å¹³é¢" class="headerlink" title="æŠ•å½±åˆ°äºŒç»´å¹³é¢"></a>æŠ•å½±åˆ°äºŒç»´å¹³é¢</h2><p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823004822810-1981330144.png"></p>
<h1 id="æ ¸å‡½æ•°"><a href="#æ ¸å‡½æ•°" class="headerlink" title="æ ¸å‡½æ•°"></a>æ ¸å‡½æ•°</h1><p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823222419733-960063708.png"></p>
<h1 id="svmæ¨å¯¼è¿‡ç¨‹"><a href="#svmæ¨å¯¼è¿‡ç¨‹" class="headerlink" title="svmæ¨å¯¼è¿‡ç¨‹"></a>svmæ¨å¯¼è¿‡ç¨‹</h1><ul>
<li>æ¨å¯¼è¿‡ç¨‹ç†è§£èµ·æ¥è¾ƒä¸ºå¤æ‚ï¼Œè§å…¶ä»–æœºå™¨å­¦ä¹ æ•™ææˆ–è€…ç›¸å…³èµ„æ–™</li>
</ul>
<h1 id="svmå¤„ç†å¤šåˆ†ç±»é—®é¢˜"><a href="#svmå¤„ç†å¤šåˆ†ç±»é—®é¢˜" class="headerlink" title="svmå¤„ç†å¤šåˆ†ç±»é—®é¢˜"></a>svmå¤„ç†å¤šåˆ†ç±»é—®é¢˜</h1><ul>
<li>ä¸€èˆ¬svmæ˜¯å¤„ç†äºŒå€¼åˆ†ç±»é—®é¢˜çš„ï¼Œå¦‚æœå¤„ç†å¤šä¸ªç±»åˆ«çš„ï¼Œä½¿ç”¨ä¸‹é¢ä¸‰ç§æ–¹æ³•</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">model &#x3D; svm.SVC(decision_function_shape&#x3D;&#39;ovo&#39;)</span><br><span class="line">model &#x3D; svm.SVC(decision_function_shape&#x3D;&#39;ovr&#39;)</span><br><span class="line">model &#x3D; svm.SVC(probability&#x3D;True)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>ä»¥ä¸‹æ˜¯å…ˆç”¨pcaé™ç»´åï¼Œå†ç”¨svmè¿›è¡Œåˆ†ç±»çš„ä¾‹å­</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/30</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;data/wine.csv&#x27;</span>)</span><br><span class="line">y_data = data.iloc[:, <span class="number">0</span>]</span><br><span class="line">x_data = data.iloc[:, <span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(x_data, y_data)</span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">new_data = pca.fit_transform(x_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºæ¥çœ‹ä¸€ä¸‹</span></span><br><span class="line">plt.scatter(new_data[:, <span class="number">0</span>], new_data[:, <span class="number">1</span>], c=y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºæ¨¡é¢„æµ‹,å¤šåˆ†ç±»çš„ä¸‰ç§æ–¹æ³•ï¼Œæœ‰æ—¶å€™ä¼šè­¦å‘Š,ä¸å½±å“</span></span><br><span class="line"><span class="comment"># model = svm.SVC(decision_function_shape=&#x27;ovo&#x27;)</span></span><br><span class="line">model = svm.SVC(decision_function_shape=<span class="string">&#x27;ovr&#x27;</span>)</span><br><span class="line"><span class="comment"># model = svm.SVC(probability=True)</span></span><br><span class="line">model.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line">prediction = model.predict(x_data)</span><br><span class="line"></span><br><span class="line">print(model.score(x_test, y_test))</span><br><span class="line">print(classification_report(y_data, prediction))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºé¢„æµ‹çš„</span></span><br><span class="line">plt.scatter(new_data[:, <span class="number">0</span>], new_data[<span class="number">0</span>:, <span class="number">1</span>], c=prediction)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></li>
<li><p>ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0.6888888888888889</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           1       0.89      0.85      0.87        59</span><br><span class="line">           2       0.70      0.72      0.71        71</span><br><span class="line">           3       0.49      0.50      0.49        48</span><br><span class="line"></span><br><span class="line">    accuracy                           0.70       178</span><br><span class="line">   macro avg       0.69      0.69      0.69       178</span><br><span class="line">weighted avg       0.71      0.70      0.70       178</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li>
<li><p><strong>åŸå§‹çš„</strong><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200830170449831-780268746.png"></p>
</li>
<li><p><strong>é¢„æµ‹çš„</strong><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200830170513507-1029056927.png"></p>
</li>
<li><p>æ”¹è¿›<br>ä¸Šé¢è¿™ä¸ªé¢˜ç”¨éšæœºæ£®æ—çš„æ•ˆæœä¼šæ›´å¥½ï¼Œæ— è®ºé™åˆ°2/3/5ç»´ï¼Œé¢„æµ‹æ•ˆæœå‡ ä¹å®Œç¾<br><code>model = RandomForestClassifier(n_estimators=100)</code></p>
</li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>CppLearning</title>
    <url>/2021/01/05/CppLearning/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šé¢å‘å¯¹è±¡</p>
<a id="more"></a>



<h1 id="é˜²å«å¼å¤´æ–‡ä»¶"><a href="#é˜²å«å¼å¤´æ–‡ä»¶" class="headerlink" title="é˜²å«å¼å¤´æ–‡ä»¶"></a>é˜²å«å¼å¤´æ–‡ä»¶</h1><ul>
<li><p>åœ¨å¤´æ–‡ä»¶å‰ååŠ </p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ALGORITHM_COMPETITION_TRAINING_GUARD_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ALGORITHM_COMPETITION_TRAINING_GUARD_H</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">    </span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//ALGORITHM_COMPETITION_TRAINING_GUARD_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>ALGORITHM_COMPETITION_TRAINING_GUARD_Håå­—éšä¾¿å–</li>
</ul>
</li>
</ul>
<h1 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h1><ul>
<li>ç±»åˆ†ä¸¤ç§<ul>
<li>ä¸€ç§å¸¦æŒ‡é’ˆï¼Œå¤§å¤šæ˜¯éœ€è¦å†™ææ„å‡½æ•°çš„</li>
<li>ä¸€ç§ä¸å¸¦æŒ‡é’ˆï¼Œä¸€èˆ¬(ä¹æˆä»¥ä¸Š)æ˜¯ä¸ç”¨åœ¨ç±»å†…å†™ææ„å‡½æ•°çš„</li>
</ul>
</li>
</ul>
<h1 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h1><ul>
<li><p>é«˜çº§çš„å†™æ³•</p>
<ul>
<li><p>èµ‹å€¼æ—¶ï¼Œä½¿ç”¨åˆ—è¡¨å‚æ•°</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> re, im;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Complex(<span class="keyword">double</span> r = <span class="number">0</span>, <span class="keyword">double</span> i = <span class="number">0</span>) : re(r), im(i) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li><p>ä¸Šé¢å†™æ³•ç­‰ä»·äºï¼š</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Complex(<span class="keyword">double</span> r = <span class="number">0</span>, <span class="keyword">double</span> i = <span class="number">0</span>) &#123;</span><br><span class="line">      re = r;</span><br><span class="line">      im = i;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>  ä¸¤è€…çš„åŒºåˆ«æ˜¯ç¬¬ä¸€ç§æ›´åŠ é«˜æ•ˆã€‚</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>é‡è½½</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> re, im;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Complex(<span class="keyword">double</span> r, <span class="keyword">double</span> i) : re(r), im(i) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Complex() : re(<span class="number">0</span>), im(<span class="number">0</span>) &#123;&#125;<span class="comment">//ä¸ä¸Šé¢å†²çª</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>ç”±äºå¸¦å‚çš„æ„é€ å‡½æ•°æ˜¯æœ‰é»˜è®¤å‚æ•°çš„ï¼Œæ‰€ä»¥<code>Complex() : re(0), im(0) &#123;&#125;</code>ä¼šå‘ç”Ÿå†²çªã€‚å› ä¸ºå¦‚æœç±»å¤–å®šä¹‰äº†ä¸€ä¸ª<code>Complex c1;</code> é‚£ä¹ˆå®ƒä¼šå»æ‰¾æ„é€ å‡½æ•°ï¼Œå‘ç°ä¸¤ä¸ªæ„é€ å‡½æ•°éƒ½å¯ä»¥ï¼Œå°±ä¸çŸ¥é“è¦å“ªä¸€ä¸ªï¼Œæ‰€ä»¥æŠ¥é”™</li>
</ul>
</li>
<li><p><a href="https://www.bilibili.com/video/BV1gb411g7pa?p=3">https://www.bilibili.com/video/BV1gb411g7pa?p=3</a></p>
</li>
<li><p>æ„é€ å‡½æ•°å¦‚æœæ”¾åœ¨ç§æœ‰é‡Œé¢ï¼Œåˆ™å¤–é¢æ˜¯æ— æ³•åˆ›å»ºå¯¹è±¡è°ƒç”¨çš„</p>
</li>
</ul>
<h1 id="const"><a href="#const" class="headerlink" title="const"></a>const</h1><ul>
<li><p>å¯¹äºä¸æ”¹å˜å‡½æ•°é‡Œé¢çš„æ•°æ®çš„ï¼ŒåŠ ä¸Šconstï¼Œå¥½ä¹ æƒ¯</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> re, im;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Complex(<span class="keyword">double</span> r, <span class="keyword">double</span> i) : re(r), im(i) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">real</span><span class="params">()</span> <span class="keyword">const</span></span>&#123;<span class="comment">//ä¸æ”¹å˜å‡½æ•°é‡Œé¢çš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> re;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">imag</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="comment">//ä¸æ”¹å˜å‡½æ•°é‡Œé¢çš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> im;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ¯”å¦‚åœ¨è®¾è®¡ä¸€ä¸ªç±»æ—¶ï¼Œæœ‰äº›æ–¹æ³•æ˜¯æ‹¿æ•°æ®å‡ºæ¥è€Œä¸æ”¹å˜æ•°æ®ï¼Œå°±åŠ ä¸Šconst</li>
<li>å¦‚æœä¸åŠ constï¼Œé‚£ä¹ˆåœ¨ç±»å¤–ç”¨<code>const Complex complex(2, 1);</code>ä¼šæŠ¥é”™</li>
</ul>
</li>
</ul>
<h1 id="æ“ä½œç¬¦é‡è½½"><a href="#æ“ä½œç¬¦é‡è½½" class="headerlink" title="æ“ä½œç¬¦é‡è½½"></a>æ“ä½œç¬¦é‡è½½</h1><ul>
<li><p>æ‰€æœ‰çš„æˆå‘˜å‡½æ•°éƒ½æœ‰thiså‚æ•°ï¼Œåªæ˜¯æ²¡å†™å‡ºæ¥</p>
</li>
<li><p>è°è°ƒç”¨æ”¹æˆå‘˜å‡½æ•°ï¼Œè°å°±æ˜¯this</p>
</li>
<li><p><a href="https://www.bilibili.com/video/BV1gb411g7pa?p=5">https://www.bilibili.com/video/BV1gb411g7pa?p=5</a></p>
</li>
</ul>
<ul>
<li><p>ç±»å¤–å®šä¹‰çš„ï¼Œå¿…å®šä¸ç”¨è¿”å›å¼•ç”¨ç±»å‹ï¼Œå› ä¸ºå‡½æ•°è°ƒç”¨å·²ç»“æŸæ‰€æœ‰å±€éƒ¨å˜é‡å°±æ¶ˆå¤±äº†ï¼Œæ‰€ä»¥è¿”å›çš„æ˜¯å€¼</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">inline</span> Complex <span class="keyword">operator</span> + (<span class="keyword">const</span> Complex &amp;x, <span class="keyword">const</span> Complex &amp;y) &#123;</span><br><span class="line">    <span class="keyword">return</span> Complex(x.real() + y.real(), x.imag() + y.imag());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Complex <span class="keyword">operator</span>+(<span class="keyword">const</span> Complex &amp;x, <span class="keyword">const</span> <span class="keyword">double</span> y) &#123;</span><br><span class="line">    <span class="keyword">return</span> Complex(x.real() + y, x.imag());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Complex <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">double</span> x, <span class="keyword">const</span> Complex &amp;y) &#123;</span><br><span class="line">    <span class="keyword">return</span> Complex(y.real() + x, y.imag());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Complex <span class="keyword">operator</span>+(<span class="keyword">const</span> Complex &amp;x) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Complex <span class="keyword">operator</span>-(<span class="keyword">const</span> Complex &amp;x) &#123;</span><br><span class="line">    <span class="keyword">return</span> Complex(-x.real(), -x.imag());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å¦‚æœè¿”å›å¼•ç”¨ç±»å‹ï¼Œè¯´æ˜å¾—åˆ°çš„ç»“æœä¼šæ”¾åœ¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å˜é‡é‡Œé¢ï¼Œå¦‚ä¸‹æ˜¯this</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> re, im;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Complex(<span class="keyword">double</span> r, <span class="keyword">double</span> i) : re(r), im(i) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Complex() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">real</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> re;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">imag</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> im;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">fun</span><span class="params">(<span class="keyword">const</span> Complex &amp;c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> c.re + c.im;</span><br><span class="line">    &#125;</span><br><span class="line">    Complex&amp; <span class="keyword">operator</span> += (<span class="keyword">const</span> Complex&amp;);<span class="comment">//å£°æ˜</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Complex&amp; Complex::<span class="keyword">operator</span> += (<span class="keyword">const</span> Complex&amp; <span class="built_in">complex</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;re += <span class="built_in">complex</span>.re;</span><br><span class="line">    <span class="keyword">this</span>-&gt;im += <span class="built_in">complex</span>.im;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;<span class="comment">//è¿”å›å¼•ç”¨ç±»å‹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡º&lt;&lt;é‡è½½è§<a href="https://www.bilibili.com/video/BV1gb411g7pa?p=5">https://www.bilibili.com/video/BV1gb411g7pa?p=5</a></p>
</li>
</ul>
<h1 id="æ‹·è´å’Œææ„"><a href="#æ‹·è´å’Œææ„" class="headerlink" title="æ‹·è´å’Œææ„"></a>æ‹·è´å’Œææ„</h1><ul>
<li><p>æ‹·è´æ„é€ </p>
<p>  æ„é€ å‡½æ•°çš„å‚æ•°æ˜¯è¯¥ç±»çš„ç±»å‹</p>
</li>
<li><p>æ‹·è´èµ‹å€¼</p>
</li>
<li><p>å¦‚æœç±»ä¸­æœ‰æŒ‡é’ˆæˆå‘˜ï¼Œé‚£ä¹ˆä¸€å®šè¦å†™æ‹·è´æ„é€ å’Œæ‹·è´èµ‹å€¼ï¼Œæ‹·è´æ„é€ å³æ·±æ‹·è´</p>
<p>  ä¸å†™çš„è¯æ˜¯æµ…æ‹·è´ï¼Œä¼šé€ æˆå†…å­˜æ³„æ¼</p>
  <img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210109225140965-101007426.png" style="zoom:80%;">

</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MakeString</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span> *data1;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">char</span> *data;</span><br><span class="line">    MakeString(<span class="keyword">const</span> <span class="keyword">char</span> *str);</span><br><span class="line"></span><br><span class="line">    MakeString(<span class="keyword">const</span> MakeString &amp;str);<span class="comment">//æ‹·è´æ„é€ </span></span><br><span class="line">    MakeString&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> MakeString &amp;str);<span class="comment">//æ‹·è´èµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">    ~MakeString();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="title">MakeString::MakeString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *str)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str) &#123;</span><br><span class="line">        data = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(data, str);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;<span class="comment">//æœªæŒ‡å®šåˆå€¼</span></span><br><span class="line">        data = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1</span>];</span><br><span class="line">        *data = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·±æ‹·è´</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="title">MakeString::MakeString</span><span class="params">(<span class="keyword">const</span> MakeString &amp;str)</span> </span>&#123;</span><br><span class="line">    data = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str.data) + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">strcpy</span>(data, str.data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MakeString &amp;MakeString::<span class="keyword">operator</span>=(<span class="keyword">const</span> MakeString &amp;str) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == &amp;str) &#123;<span class="comment">//æ£€æµ‹è‡ªæˆ‘èµ‹å€¼ï¼Œä¸€å®šè¦å†™</span></span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span>[] data;</span><br><span class="line">    data = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str.data) + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">strcpy</span>(data, str.data);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MakeString::~MakeString() &#123;</span><br><span class="line">    <span class="keyword">delete</span>[] data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//test MakeString</span></span><br><span class="line"> MakeString *m1 = <span class="keyword">new</span> MakeString(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"> <span class="function">MakeString <span class="title">m2</span><span class="params">(<span class="string">&quot;&quot;</span>)</span></span>;</span><br><span class="line"> <span class="function">MakeString <span class="title">m3</span><span class="params">(<span class="string">&quot;world&quot;</span>)</span></span>;</span><br><span class="line"> <span class="built_in">cout</span>&lt;&lt;m3.data&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"> <span class="built_in">cout</span>&lt;&lt;m1-&gt;data&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"> m2 = m3;</span><br><span class="line"> <span class="built_in">cout</span>&lt;&lt;m2.data&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"> <span class="function">MakeString <span class="title">m4</span><span class="params">(m3)</span></span>;</span><br><span class="line"> <span class="built_in">cout</span>&lt;&lt;m4.data&lt;&lt;<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">world</span><br><span class="line">hello</span><br><span class="line">world</span><br><span class="line">world</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210109232032233-943600339.png" style="zoom: 67%;">

<h1 id="å †æ ˆ"><a href="#å †æ ˆ" class="headerlink" title="å †æ ˆ"></a>å †æ ˆ</h1><p>â€‹        <img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210110152821109-820912770.png" style="zoom:80%;"></p>
<ul>
<li><p>åªè¦ç”¨åˆ°array newï¼Œ å°±ä¸€å®šè¦ç”¨array delete</p>
  <img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210110200447951-291187031.png" style="zoom:80%;">

</li>
</ul>
<h1 id="Static"><a href="#Static" class="headerlink" title="Static"></a>Static</h1><ul>
<li><p>ç±»å†…åŠ äº†staticçš„å˜é‡æ˜¯æ‰€æœ‰ç±»å†…æˆå‘˜å‡½æ•°å…±äº«çš„</p>
</li>
<li><p>é™æ€å‡½æ•°å’Œä¸€èˆ¬çš„æˆå‘˜å‡½æ•°çš„åŒºåˆ«æ˜¯ï¼šé™æ€å‡½æ•°æ²¡æœ‰thisæŒ‡é’ˆ</p>
<ul>
<li>æ‰€ä»¥é™æ€å‡½æ•°åªèƒ½å­˜å–å¤„ç†é™æ€æ•°æ®</li>
</ul>
</li>
<li><p>å®šä¹‰äº†é™æ€æ•°æ®åï¼Œä¸€å®šè¦åœ¨ç±»å¤–åŠ ä¸€è¡Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Account</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">double</span> rate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">set_rate</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;x)</span> </span>&#123;</span><br><span class="line">        rate = x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> Account::rate = <span class="number">5.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Account account;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;Account::rate&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    account.set_rate(<span class="number">9</span>);<span class="comment">//Account::set_rate(9);</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;Account::rate&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">5</span><br><span class="line">9</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<ul>
<li>é™æ€å˜é‡å¯ä»¥é€šè¿‡å¯¹è±¡æˆ–è€…ç±»åè°ƒç”¨</li>
</ul>
</li>
<li><p>static <a href="https://www.bilibili.com/video/BV1gb411g7pa?p=10">https://www.bilibili.com/video/BV1gb411g7pa?p=10</a></p>
</li>
</ul>
<h1 id="æ¨¡æ¿ç±»"><a href="#æ¨¡æ¿ç±»" class="headerlink" title="æ¨¡æ¿ç±»"></a>æ¨¡æ¿ç±»</h1><h2 id="class-templateç±»æ¨¡æ¿"><a href="#class-templateç±»æ¨¡æ¿" class="headerlink" title="class templateç±»æ¨¡æ¿"></a>class templateç±»æ¨¡æ¿</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    T a, b;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    People(T a1, T b1) : a(a1), b(b1) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T <span class="title">function</span><span class="params">(T a1, T b1)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a1 * b1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">People&lt;<span class="keyword">int</span>&gt; <span class="title">people1</span><span class="params">(<span class="number">2</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line">    <span class="function">People&lt;<span class="keyword">double</span>&gt; <span class="title">people2</span><span class="params">(<span class="number">1.2</span>, <span class="number">3.4</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="function-templateå‡½æ•°æ¨¡æ¿"><a href="#function-templateå‡½æ•°æ¨¡æ¿" class="headerlink" title="function templateå‡½æ•°æ¨¡æ¿"></a>function templateå‡½æ•°æ¨¡æ¿</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å‡½æ•°æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span><span class="comment">//æˆ–è€…template&lt;typename T&gt;</span></span><br><span class="line"><span class="function">T &amp;<span class="title">min</span><span class="params">(T &amp;a1, T &amp;b1)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a1 &lt; b1 ? a1 : b1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">9</span>, b = <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">float</span> c = <span class="number">1</span>, d = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; min(a, b) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; min(c, d) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="namespace"><a href="#namespace" class="headerlink" title="namespace"></a>namespace</h1><ul>
<li><p>æ ‡å‡†åº“çš„æ‰€æœ‰ä¸œè¥¿éƒ½æ”¾åœ¨namespace stdé‡Œé¢</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="built_in">std</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ä¸‰ç§ä½¿ç”¨æ–¹å¼</p>
<ul>
<li><p>ç¬¬ä¸€ç§æœ€å¸¸ç”¨</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &lt;&lt; ...;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ...;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &lt;&lt; ...;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ...;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &lt;&lt; ;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; ...;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<h1 id="å‡ ç§å…³ç³»"><a href="#å‡ ç§å…³ç³»" class="headerlink" title="å‡ ç§å…³ç³»"></a>å‡ ç§å…³ç³»</h1><h2 id="ç»„åˆ"><a href="#ç»„åˆ" class="headerlink" title="ç»„åˆ"></a>ç»„åˆ</h2><ul>
<li><p>ä¸€ä¸ªç±»é‡Œé¢çš„æ•°æ®ç±»å‹æ˜¯å¦ä¸€ä¸ªç±»</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>&#123;</span></span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line">  B &lt;T&gt; data;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ„é€ é¡ºåºæ˜¯ç”±å†…åˆ°å¤–ï¼Œå¦‚ä¸Šæ˜¯å…ˆè°ƒç”¨Bçš„æ„é€ å‡½æ•°ï¼Œå†Açš„</p>
</li>
<li><p>ææ„é¡ºåºæ˜¯ç”±å¤–åˆ°å†…</p>
</li>
</ul>
<h2 id="å§”æ‰˜"><a href="#å§”æ‰˜" class="headerlink" title="å§”æ‰˜"></a>å§”æ‰˜</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StringRep</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">String</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    String();</span><br><span class="line">    String(<span class="keyword">const</span> <span class="keyword">char</span>* s);</span><br><span class="line">    String(<span class="keyword">const</span> String&amp; s);</span><br><span class="line">    String &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> String&amp; s);</span><br><span class="line">    ~String();</span><br><span class="line">    . . . .</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    StringRep* rep; <span class="comment">// pimpl</span></span><br><span class="line">&#125;;	</span><br></pre></td></tr></table></figure>
<p>ç„¶åæŠŠå…·ä½“çš„å®ç°æ”¾åœ¨StringRepç±»é‡Œé¢</p>
<h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><ul>
<li><p>å…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå†å­ç±»çš„(æ„é€ ç”±å†…åˆ°å¤–)</p>
</li>
<li><p>å…ˆå®šä¹‰å­ç±»çš„ææ„å‡½æ•°ï¼Œå†çˆ¶ç±»çš„(ææ„ç”±å¤–åˆ°å†…)</p>
</li>
<li><p>çˆ¶ç±»çš„ææ„å‡½æ•°å¿…é¡»æ˜¯virtualçš„//å…»æˆè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯</p>
</li>
<li><p>ç»§æ‰¿æ­é…è™šå‡½æ•°ä½¿ç”¨æ›´å¥½</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">( )</span> <span class="keyword">const</span> </span>= <span class="number">0</span>;<span class="comment">//çº¯è™šå‡½æ•°åé¢å¸¦const = 0ï¼Œä¸€å®šè¦é‡å†™</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">error</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; msg)</span></span>;<span class="comment">//å¯ä»¥è¢«é‡å†™</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">objectID</span><span class="params">( )</span> <span class="keyword">const</span></span>;<span class="comment">//ä¸å¯è¢«é‡å†™</span></span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span> <span class="keyword">public</span> Shape &#123; ... &#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ellipse</span>:</span> <span class="keyword">public</span> Shape &#123; ... &#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>å¦‚æœæ˜¯çˆ¶ç±»ä¸­æƒ³è¦å­ç±»è¢«é‡å†™çš„å‡½æ•°ï¼Œå°±åŠ virtual</li>
</ul>
</li>
</ul>
<ul>
<li><p>ç»§æ‰¿+ç»„åˆ</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    A(<span class="keyword">int</span> age1) : age(age1) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;age birth is &quot;</span> &lt;&lt; age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~A() &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;over A class\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dad</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dad(<span class="built_in">string</span> str) : name(str) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;father is &quot;</span> &lt;&lt; name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~Dad() &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;over father\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span> <span class="keyword">public</span> Dad &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    A age;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Son(<span class="keyword">const</span> <span class="built_in">string</span> &amp;str, <span class="keyword">const</span> <span class="built_in">string</span> &amp;name1, <span class="keyword">const</span> A &amp;age1) : Dad(str), name(name1), age(age1) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;son is &quot;</span> &lt;&lt; name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~Son() &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;over son\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Son(<span class="string">&quot;Nick&quot;</span>, <span class="string">&quot;Tom&quot;</span>, <span class="number">20</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">age birth is 20</span><br><span class="line">father is Nick</span><br><span class="line">son is Tom</span><br><span class="line">over son</span><br><span class="line">over A class</span><br><span class="line">over father</span><br><span class="line">over A class</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>è°ƒç”¨æ„é€ å‡½æ•°çš„é¡ºåºæ˜¯ï¼šå…ˆAç±»ï¼Œå†çˆ¶ç±»ï¼Œå†å­ç±»</li>
<li>ææ„çš„é¡ºåºä¸æ„é€ ç›¸å</li>
</ul>
</li>
</ul>
<h1 id="STLåŸºç¡€"><a href="#STLåŸºç¡€" class="headerlink" title="STLåŸºç¡€"></a>STLåŸºç¡€</h1><h2 id="string"><a href="#string" class="headerlink" title="string"></a>string</h2><h3 id="è¾“å…¥è¾“å‡ºå­—ç¬¦ä¸²"><a href="#è¾“å…¥è¾“å‡ºå­—ç¬¦ä¸²" class="headerlink" title="è¾“å…¥è¾“å‡ºå­—ç¬¦ä¸²"></a>è¾“å…¥è¾“å‡ºå­—ç¬¦ä¸²</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//    string s = &quot;12312hello world...&quot;;</span></span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    getline(<span class="built_in">cin</span>, s);<span class="comment">//è¾“å…¥å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">21314 hello woefsdcsd</span><br><span class="line">21314 hello woefsdcsd</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦ä¸²æ‹¼å‡‘"><a href="#å­—ç¬¦ä¸²æ‹¼å‡‘" class="headerlink" title="å­—ç¬¦ä¸²æ‹¼å‡‘"></a>å­—ç¬¦ä¸²æ‹¼å‡‘</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//    string s = &quot;12312hello world...&quot;;</span></span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    s += <span class="string">&quot;shda s&quot;</span>;</span><br><span class="line">    s += <span class="string">&quot;shda s&quot;</span>;</span><br><span class="line">    s += <span class="string">&#x27;5&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">shda sshda s5</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">&quot;1523525431873&quot;</span>;</span><br><span class="line">    sort(s.begin(), s.end());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1122333455578</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<ul>
<li><code>s.begin(), s.end()</code>æ˜¯è¿­ä»£å™¨ï¼Œå¯ä»¥çœ‹æˆæ˜¯æŒ‡é’ˆ</li>
<li>å¦‚æœè¦è®¿é—®æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œåº”è¯¥æ˜¯<code>*(--s.end())</code></li>
</ul>
<h3 id="eraseåˆ é™¤"><a href="#eraseåˆ é™¤" class="headerlink" title="eraseåˆ é™¤"></a>eraseåˆ é™¤</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">&quot;1523525431873&quot;</span>;</span><br><span class="line">    s.erase(s.begin());</span><br><span class="line">    s.erase(--s.end());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">52352543187</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="substrå–å­ä¸²"><a href="#substrå–å­ä¸²" class="headerlink" title="substrå–å­ä¸²"></a>substrå–å­ä¸²</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">&quot;1523525431873&quot;</span>;</span><br><span class="line">    s = s.substr(<span class="number">2</span>, <span class="number">3</span>);<span class="comment">//ä»ç´¢å¼•ä¸º2å¼€å§‹å–ï¼Œå¾€åå–ä¸‰ä¸ª</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s;</span><br><span class="line">    s = <span class="string">&quot;1523525431873&quot;</span>;</span><br><span class="line">    s = s.substr(<span class="number">6</span>, <span class="number">-1</span>);<span class="comment">//ä»ç´¢å¼•ä¸º6å¼€å§‹å–ï¼Œç›´åˆ°æœ€åä¸€ä¸ª</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">235</span><br><span class="line">5431873</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="å‡ ç§å¾ªç¯æ–¹å¼"><a href="#å‡ ç§å¾ªç¯æ–¹å¼" class="headerlink" title="å‡ ç§å¾ªç¯æ–¹å¼"></a>å‡ ç§å¾ªç¯æ–¹å¼</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">&quot;1523525431873&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); ++i)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; s[i];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">string</span>::iterator iter = s.begin(); iter != s.end(); iter++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *iter;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : s)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1523525431873</span><br><span class="line">1523525431873</span><br><span class="line">1523525431873</span><br><span class="line">1523525431873</span><br><span class="line">Process finished with exit code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h2><h3 id="åˆå§‹åŒ–ã€æ‰“å°"><a href="#åˆå§‹åŒ–ã€æ‰“å°" class="headerlink" title="åˆå§‹åŒ–ã€æ‰“å°"></a>åˆå§‹åŒ–ã€æ‰“å°</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v</span><span class="params">(<span class="number">3</span>, <span class="number">1</span>)</span></span>;<span class="comment">//åˆå§‹åŒ–3ä¸ª1</span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v1</span><span class="params">(<span class="number">3</span>)</span></span>;<span class="comment">//åˆå§‹åŒ–3ä¸ª0</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v)<span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v1)<span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v2)<span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">111</span><br><span class="line">000</span><br><span class="line">12345</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="å–å…ƒç´ -æˆ–è€…at"><a href="#å–å…ƒç´ -æˆ–è€…at" class="headerlink" title="å–å…ƒç´  []æˆ–è€…at()"></a>å–å…ƒç´  []æˆ–è€…at()</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    <span class="comment">//å–æŸä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;v[<span class="number">2</span>];<span class="comment">//å–ç´¢å¼•ä¸º2 å…ƒç´ </span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;v.at(<span class="number">4</span>);<span class="comment">//å–ç´¢å¼•ä¸º4çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¿½åŠ push-back"><a href="#è¿½åŠ push-back" class="headerlink" title="è¿½åŠ push_back"></a>è¿½åŠ push_back</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12345777</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="resizeé‡ç½®å¤§å°ï¼Œåé¢è¡¥0"><a href="#resizeé‡ç½®å¤§å°ï¼Œåé¢è¡¥0" class="headerlink" title="resizeé‡ç½®å¤§å°ï¼Œåé¢è¡¥0"></a>resizeé‡ç½®å¤§å°ï¼Œåé¢è¡¥0</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    v.resize(<span class="number">20</span>);<span class="comment">//è¿›è¡Œé‡ç½®å¤§å°ï¼Œåé¢è¡¥0</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12345777</span><br><span class="line">12345777000000000000</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="eraseåˆ é™¤ï¼Œåœ¨vectorä¸­çš„å¤æ‚åº¦ä¸ºO-n"><a href="#eraseåˆ é™¤ï¼Œåœ¨vectorä¸­çš„å¤æ‚åº¦ä¸ºO-n" class="headerlink" title="eraseåˆ é™¤ï¼Œåœ¨vectorä¸­çš„å¤æ‚åº¦ä¸ºO(n)"></a>eraseåˆ é™¤ï¼Œåœ¨vectorä¸­çš„å¤æ‚åº¦ä¸ºO(n)</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//åˆ é™¤,åœ¨è¿™é‡Œçš„å¤æ‚åº¦ä¸ºO(n)</span></span><br><span class="line">    v.erase(v.begin());</span><br><span class="line">    v.erase(--v.end());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12345777</span><br><span class="line">234577</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="front-back"><a href="#front-back" class="headerlink" title="front(),back()"></a>front(),back()</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//å–å…ƒç´ </span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v.front() &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; v.back() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *v.begin() &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; *(--v.end()) &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; v[v.size() - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12345777</span><br><span class="line">1 7</span><br><span class="line">1 7 7</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="æ’åºsort"><a href="#æ’åºsort" class="headerlink" title="æ’åºsort"></a>æ’åºsort</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">55</span>, <span class="number">15</span>, <span class="number">4</span>, <span class="number">25</span>&#125;;<span class="comment">//åˆå§‹åŒ–5ä¸ªæ•°</span></span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    v.push_back(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    sort(v.begin(), v.end());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    sort(v.rbegin(), v.rend());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:v) <span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1 55 15 4 25 7 7 7</span><br><span class="line">1 4 7 7 7 15 25 55</span><br><span class="line">55 25 15 7 7 7 4 1</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<ul>
<li><p>ä»å¤§åˆ°å°è¿˜å¯ä»¥ç”¨<br><code>sort(v.begin(), v.end(), greater&lt;&gt;());</code></p>
<h3 id="å¾ªç¯ä¸stringçš„ç±»ä¼¼"><a href="#å¾ªç¯ä¸stringçš„ç±»ä¼¼" class="headerlink" title="å¾ªç¯ä¸stringçš„ç±»ä¼¼"></a>å¾ªç¯ä¸stringçš„ç±»ä¼¼</h3></li>
<li><p>ç”¨çš„è¾ƒå¤šçš„æ˜¯<code>for (auto x:v) cout &lt;&lt; x &lt;&lt; &#39; &#39;;</code></p>
</li>
</ul>
<h2 id="stack"><a href="#stack" class="headerlink" title="stack"></a>stack</h2><h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><ul>
<li>ä¸€èˆ¬åˆ·ç®—æ³•é¢˜éƒ½ç›´æ¥è¿™æ ·å†™<code> stack&lt;int&gt; s;</code></li>
<li>å¦‚æœä¸ç”¨<code>&lt;bits/stdc++.h&gt;</code>,é‚£è¦ç”¨<code>&lt;stack&gt;</code><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="push-pop-top"><a href="#push-pop-top" class="headerlink" title="push, pop, top"></a>push, pop, top</h3></li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">    s.push(<span class="number">2</span>);</span><br><span class="line">    s.push(<span class="number">1</span>);</span><br><span class="line">    s.push(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s.top();</span><br><span class="line">    s.pop();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s.top();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">31</span><br></pre></td></tr></table></figure>
<ul>
<li>push å…¥æ ˆ</li>
<li>popå‡ºæ ˆ</li>
<li>topå–æ ˆé¡¶</li>
<li>sizeå–é•¿åº¦</li>
<li><code>cout &lt;&lt; s.empty();</code> æ˜¯ç©ºå°±è¿”å›1ï¼Œå¦åˆ™ä¸º0<h3 id="åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"><a href="#åè¿›åˆ¶è½¬äºŒè¿›åˆ¶" class="headerlink" title="åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"></a>åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</h3></li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tenToTwo</span><span class="params">(<span class="keyword">int</span> decimal)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (decimal != <span class="number">0</span>) &#123;</span><br><span class="line">        s.push(decimal % <span class="number">2</span>);</span><br><span class="line">        decimal /= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!s.empty()) &#123;</span><br><span class="line">        res = res * <span class="number">10</span> + s.top();</span><br><span class="line">        s.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; tenToTwo(<span class="number">11</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1011</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="é€†åºè¾“å‡ºå¥å­å•è¯"><a href="#é€†åºè¾“å‡ºå¥å­å•è¯" class="headerlink" title="é€†åºè¾“å‡ºå¥å­å•è¯"></a>é€†åºè¾“å‡ºå¥å­å•è¯</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stringstream</span> ss;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    getline(<span class="built_in">cin</span>, str);</span><br><span class="line">    ss &lt;&lt; str;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="built_in">string</span>&gt; s;</span><br><span class="line">    <span class="keyword">while</span> (ss &gt;&gt; str) &#123;</span><br><span class="line">        s.push(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!s.empty()) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; s.top();</span><br><span class="line">        <span class="keyword">if</span> (s.size() != <span class="number">1</span>) <span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        s.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">we are young man</span><br><span class="line">man young are we</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—"><a href="#å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—" class="headerlink" title="å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—"></a>å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—</h3><h4 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h4><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stringstream</span> ss;</span><br><span class="line">    <span class="built_in">string</span> str = <span class="string">&quot;12455&quot;</span>;</span><br><span class="line">    <span class="comment">//æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—</span></span><br><span class="line">    ss &lt;&lt; str;<span class="comment">//å…ˆæŠŠâ€œ12345â€æµå…¥ss</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    ss &gt;&gt; num;<span class="comment">//å†ä»ssæµå…¥æ•´å‹num</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; num;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12455</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h4 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h4><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stringstream</span> ss;</span><br><span class="line">    <span class="built_in">string</span> str = <span class="string">&quot;12455&quot;</span>;</span><br><span class="line">    <span class="comment">//æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—</span></span><br><span class="line">    <span class="keyword">int</span> num = stoi(str);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; num;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12455</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²"><a href="#æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²" class="headerlink" title="æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²"></a>æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²</h3><h4 id="æ–¹æ³•ä¸€-1"><a href="#æ–¹æ³•ä¸€-1" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h4><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stringstream</span> ss;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="comment">//æ•°å­—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">12556</span>;</span><br><span class="line">    ss &lt;&lt; num;</span><br><span class="line">    ss &gt;&gt; str;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; str;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12556</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h4 id="æ–¹æ³•äºŒ-1"><a href="#æ–¹æ³•äºŒ-1" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h4><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stringstream</span> ss;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="comment">//æ•°å­—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">12556</span>;</span><br><span class="line">    str = to_string(num);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; str;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12556</span><br></pre></td></tr></table></figure>
<h2 id="queue"><a href="#queue" class="headerlink" title="queue"></a>queue</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    q.push(<span class="number">4</span>);</span><br><span class="line">    q.push(<span class="number">3</span>);</span><br><span class="line">    q.push(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;q.size()&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;q.front();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">3 4</span><br></pre></td></tr></table></figure>
<h2 id="map-å’Œ-unordered-map"><a href="#map-å’Œ-unordered-map" class="headerlink" title="map å’Œ unordered_map"></a>map å’Œ unordered_map</h2><ul>
<li>map: æœ‰åºçš„ï¼Œåº•å±‚æ˜¯æ ‘çŠ¶ç»“æ„<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; dict;</span><br><span class="line">    dict[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">    dict[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">    dict[<span class="number">4</span>] = <span class="number">12</span>;</span><br><span class="line">    <span class="comment">//æ‰“å°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> item: dict)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; item.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; item.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//å¦ä¸€ç§æ‰“å°æ–¹å¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iterator = dict.begin(); iterator != dict.end(); iterator++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; iterator-&gt;first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; iterator-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1 2</span><br><span class="line">2 0</span><br><span class="line">4 12</span><br><span class="line">1 2</span><br><span class="line">2 0</span><br><span class="line">4 12</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li>
<li>unorderedâ€”â€”mapï¼šæ— åºçš„ï¼Œåº•å±‚æ˜¯å“ˆå¸Œç»“æ„</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; dict;</span><br><span class="line">    dict[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">    dict[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">    dict[<span class="number">4</span>] = <span class="number">12</span>;</span><br><span class="line">    <span class="comment">//æ‰“å°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> item: dict)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; item.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; item.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//å¦ä¸€ç§æ‰“å°æ–¹å¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iterator = dict.begin(); iterator != dict.end(); iterator++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; iterator-&gt;first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; iterator-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4 12</span><br><span class="line">1 2</span><br><span class="line">2 0</span><br><span class="line">4 12</span><br><span class="line">1 2</span><br><span class="line">2 0</span><br><span class="line">Process finished with exit code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>æ‰“å°å‡ºæ¥æ˜¯æ— åºçš„<h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2></li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"><span class="comment">//    set&lt;int&gt; s;</span></span><br><span class="line">    s.insert(<span class="number">2</span>);</span><br><span class="line">    s.insert(<span class="number">2</span>);</span><br><span class="line">    s.insert(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s.size();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i:s)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">232</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="deque"><a href="#deque" class="headerlink" title="deque"></a>deque</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">deque</span>;</span><br><span class="line">    <span class="built_in">deque</span>.push_back(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_back(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_front(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_front(<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">deque</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    <span class="built_in">deque</span>.pop_back();</span><br><span class="line">    <span class="built_in">deque</span>.pop_front();</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">deque</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4312</span><br><span class="line">31</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="å¯ä»¥æ’åº"><a href="#å¯ä»¥æ’åº" class="headerlink" title="å¯ä»¥æ’åº"></a>å¯ä»¥æ’åº</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">deque</span>;</span><br><span class="line">    <span class="built_in">deque</span>.push_back(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_back(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_front(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">deque</span>.push_front(<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">deque</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    sort(<span class="built_in">deque</span>.begin(), <span class="built_in">deque</span>.end());</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">deque</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4312</span><br><span class="line">1234</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="list"><a href="#list" class="headerlink" title="list"></a>list</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>;</span><br><span class="line">    <span class="built_in">list</span>.push_front(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">list</span>.push_front(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">list</span>.push_back(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">list</span>.push_back(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">list</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//æ’å…¥</span></span><br><span class="line">    <span class="built_in">list</span>.insert(++<span class="built_in">list</span>.begin(), <span class="number">99</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">list</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//é‡Œé¢çš„å€¼</span></span><br><span class="line">    <span class="built_in">list</span>.remove(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: <span class="built_in">list</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">3 2 4 1</span><br><span class="line">3 99 2 4 1</span><br><span class="line">99 2 4 1</span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>










]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title>å›å½’</title>
    <url>/2020/08/23/regression/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

  <meta name="referrer" content="no-referrer"> 



<h1 id="å›å½’åˆ†æ"><a href="#å›å½’åˆ†æ" class="headerlink" title="å›å½’åˆ†æ"></a>å›å½’åˆ†æ</h1><a id="more"></a>

<h1 id="ä¸€å…ƒçº¿æ€§å›å½’"><a href="#ä¸€å…ƒçº¿æ€§å›å½’" class="headerlink" title="ä¸€å…ƒçº¿æ€§å›å½’"></a>ä¸€å…ƒçº¿æ€§å›å½’</h1><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823200844549-1429657003.png" style="zoom: 67%;">


<ul>
<li>è¢«é¢„æµ‹çš„å˜é‡æ˜¯å› å˜é‡ï¼Œå³è¾“å‡º</li>
<li>ç”¨æ¥è¿›è¡Œé¢„æµ‹çš„å˜é‡æ˜¯è‡ªå˜é‡ï¼Œå³è¾“å…¥</li>
<li>ä¸€å…ƒçº¿æ€§å›å½’åŒ…æ‹¬ä¸€ä¸ªè‡ªå˜é‡ï¼Œä¸€ä¸ªå› å˜é‡</li>
<li>å¦‚æœæ˜¯å¤šå…ƒçº¿æ€§å›å½’ï¼Œé‚£å°±æœ‰å¤šä¸ªè‡ªå˜é‡</li>
</ul>
<h1 id="ä»£ä»·å‡½æ•°ï¼ˆæŸå¤±å‡½æ•°ï¼‰"><a href="#ä»£ä»·å‡½æ•°ï¼ˆæŸå¤±å‡½æ•°ï¼‰" class="headerlink" title="ä»£ä»·å‡½æ•°ï¼ˆæŸå¤±å‡½æ•°ï¼‰"></a>ä»£ä»·å‡½æ•°ï¼ˆæŸå¤±å‡½æ•°ï¼‰</h1><ul>
<li>mæ˜¯æœ‰mä¸ªæ ·æœ¬</li>
<li>1/2æ˜¯ä¸ºäº†æ±‚å¯¼æ—¶å€™å½¢å¼å¥½çœ‹ä¸€äº›ï¼Œå…¶å®å¯æœ‰å¯æ— </li>
<li>Î¸0å’ŒÎ¸1æ˜¯æˆªè·å’Œæ–œç‡</li>
<li>å‚è€ƒï¼š <a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=5">https://www.bilibili.com/video/BV1Rt411q7WJ?p=5</a> </li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823201137966-1372018192.png"></p>
<ul>
<li>ä»£ä»·å‡½æ•°çš„å½¢å¼æ˜¯å¤šç§å¤šæ ·çš„ï¼Œä½†æ˜¯å«ä¹‰æ˜¯å·®ä¸å¤šçš„ï¼Œä¸Šé¢æ˜¯ä¸€å…ƒçº¿æ€§å›å½’çš„ä»£ä»·å‡½æ•°</li>
</ul>
<h1 id="æ¢¯åº¦ä¸‹é™æ³•"><a href="#æ¢¯åº¦ä¸‹é™æ³•" class="headerlink" title="æ¢¯åº¦ä¸‹é™æ³•"></a>æ¢¯åº¦ä¸‹é™æ³•</h1><h2 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823201329222-1139416992.png"></p>
<ul>
<li>ç›®çš„æ˜¯æ‰¾åˆ°å…¨å±€æœ€å°å€¼</li>
<li>ç¼ºç‚¹ï¼Œå¯èƒ½æ‰¾åˆ°çš„æ˜¯å±€éƒ¨æœ€å°å€¼ï¼Œä¸æ˜¯å…¨å±€</li>
<li>æ‰€ä»¥è¦ä¸æ–­è¿­ä»£ï¼Œç›´åˆ°æ‰¾åˆ°å…¨å±€æœ€å°å€¼<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¸‹é¢æ˜¯æ‰¾åˆ°å…¨å±€æœ€å°å€¼</span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823203833877-1941502730.png"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¸‹é¢æ˜¯æ‰¾åˆ°å±€éƒ¨æœ€å°å€¼</span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823203911608-1682273060.png"></p>
<h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823201740248-732371951.png"></p>
<ul>
<li><p>å­¦ä¹ ç‡çš„å¤§å°æ˜¯æœ‰è®²ç©¶çš„</p>
<ul>
<li><p>å­¦ä¹ ç‡ä¸èƒ½å¤ªå°ï¼Œä¹Ÿä¸èƒ½å¤ªå¤§ï¼Œå¯ä»¥å¤šå°è¯•ä¸€äº›å€¼ </p>
<p>  0.1,0.03,0.01,0.003,0.001,0.0003,0.0001â€¦</p>
</li>
</ul>
</li>
<li><p>çº¿æ€§å›å½’çš„ä»£ä»·å‡½æ•°æ˜¯å‡¸å‡½æ•°</p>
</li>
</ul>
<h2 id="ç”¨æ¢¯åº¦ä¸‹é™æ³•è§£å†³ä¸€å…ƒå›å½’çº¿æ€§é—®é¢˜"><a href="#ç”¨æ¢¯åº¦ä¸‹é™æ³•è§£å†³ä¸€å…ƒå›å½’çº¿æ€§é—®é¢˜" class="headerlink" title="ç”¨æ¢¯åº¦ä¸‹é™æ³•è§£å†³ä¸€å…ƒå›å½’çº¿æ€§é—®é¢˜"></a>ç”¨æ¢¯åº¦ä¸‹é™æ³•è§£å†³ä¸€å…ƒå›å½’çº¿æ€§é—®é¢˜</h2><ul>
<li><p>å‚è€ƒï¼š <a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=7">https://www.bilibili.com/video/BV1Rt411q7WJ?p=7</a></p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è½½å…¥æ•°æ®</span></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;data.csv&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>genfromtxtæ˜¯å°†csvçš„è¯»å–æ–¹å¼æ˜¯ä»txtè¯»å–è¿›æ¥ï¼Œå› ä¸ºåœ¨csvæ‰“å¼€æ—¶ä¸¤åˆ—æ•°æ®æ˜¯ä»¥é€—å·éš”å¼€çš„ï¼Œæ‰€ä»¥ç”¨æ³•å¦‚ä¸Š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/4</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ€å°äºŒä¹˜æ³•ï¼Œè¿”å›ä»£ä»·å‡½æ•°çš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute_error</span>(<span class="params">b, k, x_data, y_data</span>):</span></span><br><span class="line">    total_error = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(x_data)):</span><br><span class="line">        total_error += (k * x_data[i] + b - y_data[i]) ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> total_error / (<span class="number">2.0</span> * <span class="built_in">len</span>(x_data))  <span class="comment"># è¿™é‡Œé™¤ä»¥2å¯æœ‰å¯æ— </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°bå’Œk</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_bk</span>(<span class="params">x_data, y_data, b, k, lr, epochs</span>):</span></span><br><span class="line">    <span class="comment"># è®¡ç®—æ€»æ•°æ®é‡</span></span><br><span class="line">    m = <span class="built_in">len</span>(x_data)</span><br><span class="line">    <span class="comment"># å¾ªç¯epochsæ¬¡</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(epochs):</span><br><span class="line">        <span class="comment"># ä¸´æ—¶å˜é‡</span></span><br><span class="line">        b_grad = <span class="number">0</span></span><br><span class="line">        k_grad = <span class="number">0</span></span><br><span class="line">        <span class="comment"># è®¡ç®—æ¢¯åº¦çš„æ€»å’Œå†æ±‚å¹³å‡</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, m):</span><br><span class="line">            b_grad += (<span class="number">1</span> / m) * (k * x_data[j] + b - y_data[j])</span><br><span class="line">            k_grad += (<span class="number">1</span> / m) * (k * x_data[j] + b - y_data[j]) * x_data[j]</span><br><span class="line">        <span class="comment"># æ›´æ–°bï¼Œk</span></span><br><span class="line">        b = b - lr * b_grad</span><br><span class="line">        k = k - lr * k_grad</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> b, k</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è½½å…¥æ•°æ®</span></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;data.csv&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">x_data = data[:, <span class="number">0</span>]  <span class="comment"># æ‰€æœ‰è¡Œéƒ½è¦ï¼Œä½†åªè¦ç¬¬0åˆ—</span></span><br><span class="line">y_data = data[:, <span class="number">1</span>]  <span class="comment"># åªè¦ç¬¬1åˆ—</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºåˆ†å¸ƒå›¾</span></span><br><span class="line">plt.scatter(x_data, y_data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;æ¥ä¸‹æ¥æ±‚è§£å›å½’ç›´çº¿ï¼Œå…ˆæ±‚é‚£ä¸¤ä¸ªå‚æ•°&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆå®šä¹‰ä¸€äº›å‚æ•°</span></span><br><span class="line"><span class="comment"># è®¾ç½®å­¦ä¹ ç‡learning rate,æˆªè·ï¼Œæ–œç‡</span></span><br><span class="line">lr = <span class="number">0.0001</span></span><br><span class="line">b = <span class="number">0</span></span><br><span class="line">k = <span class="number">0</span></span><br><span class="line"><span class="comment"># æœ€å¤§è¿­ä»£æ¬¡æ•°</span></span><br><span class="line">epochs = <span class="number">50</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;å¼€å§‹æ—¶ï¼šb = &#123;&#125;, k = &#123;&#125;, error = &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(b, k, compute_error(b, k, x_data, y_data)))</span><br><span class="line">print(<span class="string">&#x27;æ­£åœ¨å»ºæ¨¡......&#x27;</span>)</span><br><span class="line">b, k = get_bk(x_data, y_data, b, k, lr, epochs)</span><br><span class="line">print(<span class="string">&#x27;è¿­ä»£&#123;&#125;æ¬¡åï¼Œ b = &#123;&#125;, k = &#123;&#125;, error = &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(epochs, b, k, compute_error(b, k, x_data, y_data)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å‡ºå›¾åƒ</span></span><br><span class="line">plt.plot(x_data, y_data, <span class="string">&#x27;b.&#x27;</span>)</span><br><span class="line"><span class="comment"># ç”»å‡ºå›å½’ç›´çº¿</span></span><br><span class="line">plt.plot(x_data, k * x_data + b, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823201959228-43547949.png"></p>
</li>
</ul>
</li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202013268-475104715.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">å¼€å§‹æ—¶ï¼šb = <span class="number">0</span>, k = <span class="number">0</span>, error = <span class="number">2782.5539172416056</span></span><br><span class="line">æ­£åœ¨å»ºæ¨¡......</span><br><span class="line">è¿­ä»£<span class="number">50</span>æ¬¡åï¼Œ b = <span class="number">0.030569950649287983</span>, k = <span class="number">1.4788903781318357</span>, error = <span class="number">56.32488184238028</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¯ä»¥çœ‹åˆ°errorå˜å°äº†</li>
</ul>
<h2 id="ç”¨sklearnè§£å†³ä¸€å…ƒçº¿æ€§å›å½’"><a href="#ç”¨sklearnè§£å†³ä¸€å…ƒçº¿æ€§å›å½’" class="headerlink" title="ç”¨sklearnè§£å†³ä¸€å…ƒçº¿æ€§å›å½’"></a>ç”¨sklearnè§£å†³ä¸€å…ƒçº¿æ€§å›å½’</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/4</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression  <span class="comment"># å¯¼å…¥çº¿æ€§å›å½’æ¨¡å‹</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;data.csv&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">x_data = data[:, <span class="number">0</span>]</span><br><span class="line">y_data = data[:, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">plt.scatter(x_data, y_data)</span><br><span class="line">plt.show()</span><br><span class="line">print(x_data.shape)  <span class="comment"># æ‰“å°å‡ºæ¥æ˜¯(100,)  ï¼Œè¡¨ç¤ºä¸€ç»´å‘é‡ï¼Œæœ‰100ä¸ªæ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”±äºfitéœ€è¦ä¼ å…¥äºŒç»´æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦å¯¹x_dataå’Œy_dataåšå¤„ç†</span></span><br><span class="line"><span class="comment"># ç»™ä»–ä»¬åŠ ä¸ªç»´åº¦å˜æˆ2ç»´</span></span><br><span class="line">x_data = data[:, <span class="number">0</span>, np.newaxis]</span><br><span class="line">y_data = data[:, <span class="number">1</span>, np.newaxis]</span><br><span class="line">print(x_data.shape)  <span class="comment"># å¾—åˆ°(100, 1)ï¼Œä¸ºäºŒç»´çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ¨¡å‹ï¼Œå¹¶æ‹Ÿåˆæ¨¡å‹</span></span><br><span class="line">model = LinearRegression()</span><br><span class="line">model.fit(x_data, y_data)</span><br><span class="line"></span><br><span class="line">plt.plot(x_data, y_data, <span class="string">&#x27;b.&#x27;</span>)</span><br><span class="line"><span class="comment"># model.predict(x_data)é¢„æµ‹y_data</span></span><br><span class="line">plt.plot(x_data, model.predict(x_data), <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202125046-1969864949.png"></p>
<ul>
<li><p>æ¯”èµ·æ¢¯åº¦ä¸‹é™æ³•ï¼Œå®ƒç›´æ¥è°ƒç”¨æ›´åŠ æ–¹ä¾¿</p>
</li>
<li><p>æ³¨æ„ç‚¹æ˜¯fitçš„å‚æ•°æ ¼å¼</p>
<ul>
<li><p>å¿…é¡»æ˜¯äºŒç»´çš„</p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç»™ä»–ä»¬åŠ ä¸ªç»´åº¦å˜æˆ2ç»´</span></span><br><span class="line">x_data = data[:, <span class="number">0</span>, np.newaxis]</span><br><span class="line">y_data = data[:, <span class="number">1</span>, np.newaxis]</span><br></pre></td></tr></table></figure></li>
<li><p>model.predict(x_data)é¢„æµ‹y_data</p>
</li>
</ul>
</li>
</ul>
<h1 id="å¤šå…ƒçº¿æ€§å›å½’"><a href="#å¤šå…ƒçº¿æ€§å›å½’" class="headerlink" title="å¤šå…ƒçº¿æ€§å›å½’"></a>å¤šå…ƒçº¿æ€§å›å½’</h1><p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202303109-196114198.png"></p>
<ul>
<li>åšæ³•ç±»ä¼¼ä¸€å…ƒ</li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202325985-1728908967.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/4</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å…¥æ•°æ®</span></span><br><span class="line">data = np.genfromtxt(<span class="string">r&#x27;Delivery.csv&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"><span class="comment"># åˆ‡åˆ†æ•°æ®</span></span><br><span class="line">x_data = data[:, :-<span class="number">1</span>]</span><br><span class="line">y_data = data[:, -<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ¨¡å‹å¹¶æ‹Ÿåˆæ¨¡å‹</span></span><br><span class="line">model = LinearRegression()</span><br><span class="line">model.fit(x_data, y_data)</span><br><span class="line">print(model)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç³»æ•°,æœ‰å‡ ä¸ªè‡ªå˜é‡æ‰“å°å‡ºæ¥å°±æœ‰å‡ ä¸ªç³»æ•°</span></span><br><span class="line">print(<span class="string">&#x27;ç³»æ•°ï¼š&#x27;</span>, model.coef_)</span><br><span class="line"><span class="comment"># æ‰“å°æˆªè·</span></span><br><span class="line">print(<span class="string">&#x27;æˆªè·ï¼š&#x27;</span>, model.intercept_)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ‹è¯•</span></span><br><span class="line">x_test = [[<span class="number">102</span>, <span class="number">4</span>]]</span><br><span class="line">predict = model.predict(x_test)</span><br><span class="line">print(<span class="string">&#x27;é¢„æµ‹å€¼ï¼š&#x27;</span>, predict)</span><br><span class="line"></span><br><span class="line">ax = plt.figure().add_subplot(<span class="number">111</span>, projection=<span class="string">&#x27;3d&#x27;</span>)</span><br><span class="line">ax.scatter(x_data[:, <span class="number">0</span>], x_data[:, <span class="number">1</span>], y_data, c=<span class="string">&#x27;r&#x27;</span>, marker=<span class="string">&#x27;o&#x27;</span>, s=<span class="number">100</span>)  <span class="comment"># ç‚¹ä¸ºçº¢è‰²ä¸‰è§’å½¢</span></span><br><span class="line">x0 = x_data[:, <span class="number">0</span>]</span><br><span class="line">x1 = x_data[:, <span class="number">1</span>]</span><br><span class="line"><span class="comment"># ç”Ÿæˆç½‘æ ¼çŸ©é˜µ</span></span><br><span class="line">x0, x1 = np.meshgrid(x0, x1)</span><br><span class="line">z = model.intercept_ + x0 * model.coef_[<span class="number">0</span>] + x1 * model.coef_[<span class="number">1</span>]</span><br><span class="line"><span class="comment"># ç”»3Då›¾</span></span><br><span class="line">ax.plot_surface(x0, x1, z)</span><br><span class="line"><span class="comment"># è®¾ç½®åæ ‡è½´</span></span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;Miles&#x27;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;Num of Deliveries&#x27;</span>)</span><br><span class="line">ax.set_zlabel(<span class="string">&#x27;Time&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå›¾åƒ</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202359653-674609385.png"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LinearRegression()</span><br><span class="line">ç³»æ•°ï¼š [0.0611346  0.92342537]</span><br><span class="line">æˆªè·ï¼š -0.8687014667817126</span><br><span class="line">é¢„æµ‹å€¼ï¼š [9.06072908]</span><br></pre></td></tr></table></figure>
<h1 id="å¤šé¡¹å¼å›å½’"><a href="#å¤šé¡¹å¼å›å½’" class="headerlink" title="å¤šé¡¹å¼å›å½’"></a>å¤šé¡¹å¼å›å½’</h1><p>eg</p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202444059-1217939003.png"><br><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202453027-864481447.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰å¤šé¡¹å¼å›å½’ï¼Œdegreeçš„å€¼å¯ä»¥è°ƒèŠ‚å¤šé¡¹å¼çš„ç‰¹å¾</span></span><br><span class="line">poly = PolynomialFeatures(degree=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># ç‰¹å¾å¤„ç†</span></span><br><span class="line">x_poly = poly.fit_transform(x_data)</span><br><span class="line">print(x_poly)</span><br></pre></td></tr></table></figure>
<ul>
<li>degree = n,è¡¨ç¤ºnæ¬¡å¤šé¡¹å¼æ‹Ÿåˆ</li>
<li>degree = 1æ—¶ï¼Œæ•ˆæœå’Œä¸€å…ƒçº¿æ€§å›å½’çš„æ•ˆæœæ˜¯ä¸€æ ·çš„</li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202523049-1868287034.png"></p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202537194-1550994838.png"></p>
<ul>
<li><p><a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=13">https://www.bilibili.com/video/BV1Rt411q7WJ?p=13</a> </p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/5</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> PolynomialFeatures  <span class="comment"># ç”Ÿæˆå¤šé¡¹å¼ç”¨çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–æ•°æ®</span></span><br><span class="line">data = np.genfromtxt(<span class="string">r&#x27;job.csv&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">x_data = data[<span class="number">1</span>:, <span class="number">1</span>]</span><br><span class="line">y_data = data[<span class="number">1</span>:, -<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.scatter(x_data, y_data)</span></span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è½¬æ¢ä¸ºäºŒç»´æ•°æ®</span></span><br><span class="line">x_data = x_data[:, np.newaxis]  <span class="comment"># æˆ–è€…x_data = data[1:, 1, np.newaxis]</span></span><br><span class="line">y_data = y_data[:, np.newaxis]  <span class="comment"># æˆ–è€…y_data = data[1:, -1, np.newaxis]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºæ¨¡ä¸€å…ƒçº¿æ€§å›å½’æ‹Ÿåˆ</span></span><br><span class="line"><span class="comment"># model = LinearRegression()</span></span><br><span class="line"><span class="comment"># model.fit(x_data, y_data)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»çº¿æ€§å›å½’çº¿å›¾çœ‹çœ‹æ•ˆæœ</span></span><br><span class="line"><span class="comment"># plt.plot(x_data, y_data, &#x27;b.&#x27;)</span></span><br><span class="line"><span class="comment"># plt.plot(x_data, model.predict(x_data), &#x27;r&#x27;)</span></span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰å¤šé¡¹å¼å›å½’ï¼Œdegreeçš„å€¼å¯ä»¥è°ƒèŠ‚å¤šé¡¹å¼çš„ç‰¹å¾</span></span><br><span class="line"><span class="comment"># degree = nï¼Œç›¸å½“äºnæ¬¡æ–¹æ‹Ÿåˆ</span></span><br><span class="line">poly = PolynomialFeatures(degree=<span class="number">5</span>)</span><br><span class="line"><span class="comment"># ç‰¹å¾å¤„ç†</span></span><br><span class="line">x_poly = poly.fit_transform(x_data)</span><br><span class="line"><span class="comment"># print(x_poly)</span></span><br><span class="line"><span class="comment"># å®šä¹‰å›å½’æ¨¡å‹,å¹¶æ‹Ÿåˆ</span></span><br><span class="line">lin_reg = LinearRegression()</span><br><span class="line">lin_reg.fit(x_poly, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾</span></span><br><span class="line">plt.plot(x_data, y_data, <span class="string">&#x27;b.&#x27;</span>)</span><br><span class="line">plt.plot(x_data, lin_reg.predict(x_poly), <span class="string">&#x27;r&#x27;</span>)  <span class="comment"># predict ä¼ çš„æ˜¯x_poly,æ˜¯å¤„ç†åçš„æ•°æ®</span></span><br><span class="line">plt.title(<span class="string">&#x27;Polynomial Regression&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Position Level&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Salary&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p> <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202623798-1411642301.png"></p>
</li>
</ul>
<ul>
<li><p>ä¸Šé¢æ˜¯5æ¬¡æ–¹æ‹Ÿåˆï¼Œæ•ˆæœä¸é”™</p>
</li>
<li><p>å…³é”®æ­¥éª¤å¦‚ä¸‹ï¼š</p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰å¤šé¡¹å¼å›å½’ï¼Œdegreeçš„å€¼å¯ä»¥è°ƒèŠ‚å¤šé¡¹å¼çš„ç‰¹å¾</span></span><br><span class="line"><span class="comment"># degree = nï¼Œç›¸å½“äºnæ¬¡æ–¹æ‹Ÿåˆ</span></span><br><span class="line">poly = PolynomialFeatures(degree=<span class="number">5</span>)</span><br><span class="line"><span class="comment"># ç‰¹å¾å¤„ç†</span></span><br><span class="line">x_poly = poly.fit_transform(x_data)</span><br><span class="line"><span class="comment"># print(x_poly)</span></span><br><span class="line"><span class="comment"># å®šä¹‰å›å½’æ¨¡å‹,å¹¶æ‹Ÿåˆ</span></span><br><span class="line">lin_reg = LinearRegression()</span><br><span class="line">lin_reg.fit(x_poly, y_data)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœè¦ç”»çš„å¹³æ»‘ä¸€äº›</p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;å¦‚æœä¸Šé¢ç”»å‡ºæ¥10ä¸ªç‚¹çš„çº¿ä¸å¤Ÿå¹³æ»‘ï¼Œå¯ä»¥å¢åŠ è‡ªå˜é‡ï¼Œè®©ä»–å¹³æ»‘ä¸€äº›&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾</span></span><br><span class="line">plt.plot(x_data, y_data, <span class="string">&#x27;b.&#x27;</span>)</span><br><span class="line">x_test = np.linspace(<span class="number">1</span>, <span class="number">10</span>, <span class="number">50</span>)  <span class="comment"># è¡¨ç¤ºä»1åˆ°10ï¼Œä¹‹é—´æœ‰50ä¸ªç‚¹</span></span><br><span class="line">x_test = x_test[:, np.newaxis]</span><br><span class="line">x_poly = poly.fit_transform(x_test)  <span class="comment"># ä¸€å®šè¦å¤„ç†ç‰¹å¾</span></span><br><span class="line">plt.plot(x_test, lin_reg.predict(x_poly), <span class="string">&#x27;r&#x27;</span>)  <span class="comment"># predict ä¼ çš„æ˜¯x_poly,æ˜¯å¤„ç†åçš„æ•°æ®</span></span><br><span class="line">plt.title(<span class="string">&#x27;Polynomial Regression&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Position Level&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Salary&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202711363-2107883771.png"></p>
</li>
</ul>
<h1 id="ç‰¹å¾ç¼©æ”¾"><a href="#ç‰¹å¾ç¼©æ”¾" class="headerlink" title="ç‰¹å¾ç¼©æ”¾"></a>ç‰¹å¾ç¼©æ”¾</h1><ul>
<li><strong>ç”¨äºæ¯”å¦‚x_dataçš„åŒºé—´å¾ˆå°ï¼Œy_dataåŒºé—´å¾ˆå¤§çš„æƒ…å†µ</strong></li>
</ul>
<h2 id="æ•°å€¼å½’ä¸€åŒ–"><a href="#æ•°å€¼å½’ä¸€åŒ–" class="headerlink" title="æ•°å€¼å½’ä¸€åŒ–"></a>æ•°å€¼å½’ä¸€åŒ–</h2><ul>
<li><p>æ•°æ®å½’ä¸€åŒ–å°±æ˜¯æŠŠæ•°æ®çš„å–å€¼èŒƒå›´å¤„ç†ä¸º0-1æˆ–è€…-1-1 ä¹‹é—´ã€‚ </p>
<p>  ä»»æ„æ•°æ®è½¬åŒ–ä¸º0-1ä¹‹é—´ï¼š </p>
<p>  newValue = (oldValue-min)/(max-min) </p>
<p>  (1,3,5,7,9) </p>
<p>  (1-1)/(9-1)=0 </p>
<p>  (3-1)/(9-1)=1/4 </p>
<p>  (5-1)/(9-1)=1/2 </p>
<p>  (7-1)/(9-1)=3/4 </p>
<p>  (9-1)/(9-1)=1 </p>
<p>  ä»»æ„æ•°æ®è½¬åŒ–ä¸º-1-1ä¹‹é—´ï¼š </p>
<p>  newValue = ((oldValue-min)/(max-min)-0.5)*2</p>
</li>
</ul>
<h2 id="å‡å€¼æ ‡å‡†åŒ–"><a href="#å‡å€¼æ ‡å‡†åŒ–" class="headerlink" title="å‡å€¼æ ‡å‡†åŒ–"></a>å‡å€¼æ ‡å‡†åŒ–</h2><ul>
<li><p>xä¸ºç‰¹å¾æ•°æ®ï¼Œuä¸ºæ•°æ®çš„å¹³å‡å€¼ï¼Œsä¸ºæ•°æ®çš„æ–¹å·® </p>
<p>  newValue = (oldValue-u)/s  </p>
<p>  (1,3,5,7,9) </p>
<p>  u = (1+3+5+7+9)/5=5 </p>
<p>  s = ((1-5)2+(3-5)2+(5-5)2+(7-5)2+(9-5)2 )/5=8 </p>
<p>  (1-5)/8=-1/2 </p>
<p>  (3-5)/8=-1/4 </p>
<p>  (5-5)/8=0 </p>
<p>  (7-5)/8=1/4 </p>
<p>  (9-5)/8=1/2</p>
<ul>
<li>å¯ä»¥çœ‹åˆ°å¤„ç†åå¤§å¤šå¤„åœ¨[-1/2, 1/2]ä¹‹é—´</li>
</ul>
</li>
</ul>
<h1 id="äº¤å‰éªŒè¯æ³•"><a href="#äº¤å‰éªŒè¯æ³•" class="headerlink" title="äº¤å‰éªŒè¯æ³•"></a>äº¤å‰éªŒè¯æ³•</h1><ul>
<li><p><strong>ç”¨äºæ•°æ®é‡å°‘çš„æƒ…å†µ</strong></p>
</li>
<li><p><a href="https://www.bilibili.com/video/BV1Rt411q7WJ?p=16">https://www.bilibili.com/video/BV1Rt411q7WJ?p=16</a> </p>
<p> <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202807189-892481220.png"></p>
</li>
</ul>
<h1 id="è¿‡æ‹Ÿåˆ"><a href="#è¿‡æ‹Ÿåˆ" class="headerlink" title="è¿‡æ‹Ÿåˆ"></a>è¿‡æ‹Ÿåˆ</h1><p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202830117-1077571474.png"></p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202835353-1404716489.png"></p>
<ul>
<li><p>é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ–¹æ³•</p>
<ul>
<li><p>å‡å°‘ç‰¹å¾</p>
</li>
<li><p>å¢åŠ æ•°æ®é‡</p>
<ul>
<li>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œä¸€èˆ¬æ•°æ®é‡è¶Šå¤§ï¼Œæ‹Ÿåˆçš„æ•ˆæœè¶Šå¥½</li>
</ul>
</li>
<li><p>æ­£åˆ™åŒ–</p>
<p>  æ­£åˆ™åŒ–ä»£ä»·å‡½æ•°ï¼š </p>
<ul>
<li><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823202929931-1992009507.png"></li>
</ul>
</li>
</ul>
</li>
<li><p>åœ¨æ·±åº¦å­¦ä¹ è¿˜æœ‰ä¸€äº›é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ–¹æ³•</p>
</li>
</ul>
<h1 id="å²­å›å½’"><a href="#å²­å›å½’" class="headerlink" title="å²­å›å½’"></a>å²­å›å½’</h1><ul>
<li><p>å²­å›å½’æœ€æ—©æ˜¯ç”¨æ¥å¤„ç†ç‰¹å¾æ•°å¤šäºæ ·æœ¬çš„æƒ…å†µï¼Œç°åœ¨ä¹Ÿ </p>
<p>  ç”¨äºåœ¨ä¼°è®¡ä¸­åŠ å…¥åå·®ï¼Œä»è€Œå¾—åˆ°æ›´å¥½çš„ä¼°è®¡ã€‚åŒæ—¶ä¹Ÿ </p>
<p>  å¯ä»¥è§£å†³å¤šé‡å…±çº¿æ€§çš„é—®é¢˜ã€‚å²­å›å½’æ˜¯ä¸€ç§æœ‰åä¼°è®¡ã€‚</p>
</li>
<li><p>å²­å›å½’ä»£ä»·å‡½æ•°ï¼š<img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823203003073-1739635619.png" style="zoom: 33%;"></p>
</li>
</ul>
<ul>
<li>çº¿æ€§å›å½’æ ‡å‡†æ–¹ç¨‹æ³•ï¼š <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823203018129-541292106.png" style="zoom:80%;"></li>
</ul>
<ul>
<li>å²­å›å½’æ±‚è§£ï¼š <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823203032227-1752759456.png" style="zoom:67%;"></li>
</ul>
<ul>
<li><p>é€‰æ‹©ğœ†å€¼ï¼Œä½¿åˆ°ï¼š </p>
<p>  1.å„å›å½’ç³»æ•°çš„å²­ä¼°è®¡åŸºæœ¬ç¨³å®šã€‚ </p>
<p>  2.æ®‹å·®å¹³æ–¹å’Œå¢å¤§ä¸å¤ªå¤šã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/5</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">é¢„æµ‹GNP.deflator</span></span><br><span class="line"><span class="string">æ•°æ®æœ‰å¤šé‡å…±çº¿æ€§</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">data = np.genfromtxt(<span class="string">r&#x27;longley.csv&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">x_data = data[<span class="number">1</span>:, <span class="number">2</span>:]</span><br><span class="line">y_data = data[<span class="number">1</span>:, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸æŒ‡å®šç”Ÿæˆå‡ ä¸ªæ•°ï¼Œé»˜è®¤ç”Ÿæˆ50ä¸ªå€¼</span></span><br><span class="line"><span class="comment"># å¾…ä¼šæ‹¿è¿™äº›å€¼æ¥æµ‹è¯•çœ‹çœ‹å“ªä¸ªå€¼æœ€é€‚åˆåšå²­ç³»æ•°Î»ï¼Œè¿™é‡Œç”¨Î±è¡¨ç¤º</span></span><br><span class="line">alphas_test = np.linspace(<span class="number">0.001</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment"># åˆ›å»ºæ¨¡å‹ï¼Œä¿å­˜è¯¯å·®å€¼,Rightæ˜¯å²­å›å½’ï¼ŒCVæ˜¯äº¤å‰éªŒè¯</span></span><br><span class="line"><span class="comment"># å®ƒä¼šè‡ªåŠ¨æµ‹è¯•50ä¸ªå€¼ï¼Œå¹¶è‡ªåŠ¨é€‰å‡ºæœ€å¥½çš„ç³»æ•°</span></span><br><span class="line">model = linear_model.RidgeCV(alphas=alphas_test, store_cv_values=<span class="literal">True</span>)</span><br><span class="line">model.fit(x_data, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å²­ç³»æ•°</span></span><br><span class="line">print(<span class="string">&#x27;æœ€å¥½çš„å²­ç³»æ•°&#x27;</span>, model.alpha_)</span><br><span class="line"><span class="comment"># losså€¼</span></span><br><span class="line"><span class="comment"># print(model.cv_values_)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾</span></span><br><span class="line"><span class="comment"># å²­ç³»æ•°ä¸losså€¼çš„å…³ç³»</span></span><br><span class="line"><span class="comment"># meanæ˜¯æ±‚50ä¸ªlosså€¼çš„å¹³å‡å€¼ï¼Œaxis=0æ˜¯æ¯è¡Œ</span></span><br><span class="line">plt.plot(alphas_test, model.cv_values_.mean(axis=<span class="number">0</span>))</span><br><span class="line">plt.plot(model.alpha_, <span class="built_in">min</span>(model.cv_values_.mean(axis=<span class="number">0</span>)), <span class="string">&#x27;ro&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç°åœ¨å¯¹æ¯ä¸€è¡Œåšé¢„æµ‹</span></span><br><span class="line">print(y_data)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x_data)):</span><br><span class="line">    print(model.predict(x_data[i, np.newaxis]), end=<span class="string">&#x27;  &#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823203125852-686093329.png" style="zoom:67%;">


<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">æœ€å¥½çš„å²­ç³»æ•° <span class="number">0.40875510204081633</span></span><br><span class="line">[ <span class="number">83.</span>   <span class="number">88.5</span>  <span class="number">88.2</span>  <span class="number">89.5</span>  <span class="number">96.2</span>  <span class="number">98.1</span>  <span class="number">99.</span>  <span class="number">100.</span>  <span class="number">101.2</span> <span class="number">104.6</span> <span class="number">108.4</span> <span class="number">110.8</span></span><br><span class="line"> <span class="number">112.6</span> <span class="number">114.2</span> <span class="number">115.7</span> <span class="number">116.9</span>]</span><br><span class="line">[<span class="number">83.64832473</span>]  [<span class="number">86.92050263</span>]  [<span class="number">88.11216213</span>]  [<span class="number">90.84704905</span>]  [<span class="number">96.15675767</span>]  [<span class="number">97.78771042</span>]  [<span class="number">98.35557526</span>]  [<span class="number">100.00469712</span>]  [<span class="number">103.22729142</span>]  [<span class="number">105.05638785</span>]  [<span class="number">107.39861998</span>]  [<span class="number">109.48532693</span>]  [<span class="number">112.83340992</span>]  [<span class="number">113.93959201</span>]  [<span class="number">115.42350307</span>]  [<span class="number">117.70308982</span>]  </span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>å…³é”®ç‚¹</p>
<ul>
<li><p>æ‰¾ä¸ªå²­ç³»æ•°Î»èŒƒå›´åŒºé—´ï¼šalphas_test = np.linspace(0.001, 1)</p>
</li>
<li><p>ç„¶åæŠŠÎ»èŒƒå›´åŒºé—´ä¼ å…¥ï¼Œå®ƒä¼šè‡ªåŠ¨æ‰¾åˆ°æœ€é€‚åˆçš„å²­ç³»æ•°ï¼Œå»ºæ¨¡æ‹Ÿåˆï¼Œï¼š</p>
<blockquote>
<p>model = linear_model.RidgeCV(alphas=alphas_test, store_cv_values=True)<br>model.fit(x_data, y_data)</p>
</blockquote>
</li>
<li><p>ç„¶åå¯ä»¥é¢„æµ‹äº†ï¼ši è¡¨ç¤ºç¬¬iè¡Œï¼Œ</p>
<blockquote>
<p>é¢„æµ‹ç¬¬iè¡Œï¼šmodel.predict(x_data[i, np.newaxis])</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h1 id="Lassoå›å½’"><a href="#Lassoå›å½’" class="headerlink" title="Lassoå›å½’"></a>Lassoå›å½’</h1><ul>
<li>Lassoå¯ä»¥ä½¿å¾—æŸäº›ç³»æ•°ä¸º0ï¼Œä¸º0è¯´æ˜æœ‰å¤šé‡å…±çº¿æ€§</li>
<li>ç”¨èµ·æ¥æ¯”å²­å›å½’æ–¹ä¾¿</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/5</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LassoCV</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;longley.csv&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">x_data = data[<span class="number">1</span>:, <span class="number">2</span>:]</span><br><span class="line">y_data = data[<span class="number">1</span>:, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹æ¨¡å‹æ‹Ÿåˆ,è¿™é‡Œç”¨çš„äº¤å‰éªŒè¯çš„lasso</span></span><br><span class="line">model = LassoCV()</span><br><span class="line">model.fit(x_data, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># lassoç³»æ•°</span></span><br><span class="line">print(<span class="string">&#x27;lassoç³»æ•°: &#x27;</span>, model.alpha_)</span><br><span class="line"><span class="comment"># ç›¸å…³ç³»æ•°</span></span><br><span class="line">print(<span class="string">&#x27;lassoç›¸å…³ç³»æ•°ï¼š&#x27;</span>, model.coef_)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„æµ‹æµ‹è¯•</span></span><br><span class="line">print(<span class="string">&#x27;åŸå§‹æ•°æ®ï¼š&#x27;</span>, y_data, end=<span class="string">&#x27;  &#x27;</span>)</span><br><span class="line"><span class="comment"># print(model.predict(x_data[-2, np.newaxis]))</span></span><br><span class="line"><span class="comment"># é¢„æµ‹æ•°æ®</span></span><br><span class="line">y_predict_data = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x_data)):</span><br><span class="line">    i_predict_data = model.predict(x_data[i, np.newaxis])[<span class="number">0</span>]</span><br><span class="line">    y_predict_data.append(i_predict_data)</span><br><span class="line">    <span class="comment"># print(model.predict(x_data[i, np.newaxis]))</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>, y_predict_data)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lassoç³»æ•°:  <span class="number">14.134043936116361</span></span><br><span class="line">lassoç›¸å…³ç³»æ•°ï¼š [<span class="number">0.10093575</span> <span class="number">0.00586331</span> <span class="number">0.00599214</span> <span class="number">0.</span>         <span class="number">0.</span>         <span class="number">0.</span>        ]</span><br><span class="line">åŸå§‹æ•°æ®ï¼š [ <span class="number">83.</span>   <span class="number">88.5</span>  <span class="number">88.2</span>  <span class="number">89.5</span>  <span class="number">96.2</span>  <span class="number">98.1</span>  <span class="number">99.</span>  <span class="number">100.</span>  <span class="number">101.2</span> <span class="number">104.6</span> <span class="number">108.4</span> <span class="number">110.8</span></span><br><span class="line"> <span class="number">112.6</span> <span class="number">114.2</span> <span class="number">115.7</span> <span class="number">116.9</span>]  </span><br><span class="line"> [<span class="number">85.0965983414889</span>, <span class="number">87.53534930585705</span>, <span class="number">88.2883909807082</span>, <span class="number">90.79402805237368</span>, <span class="number">95.40732692456514</span>, <span class="number">97.42528633630405</span>, <span class="number">99.21657540452378</span>, <span class="number">99.87055688439</span>, <span class="number">102.76225662054381</span>, <span class="number">104.79114364555673</span>, <span class="number">107.20360511603187</span>, <span class="number">108.30964231708353</span>, <span class="number">111.60127997453014</span>, <span class="number">113.65601548042129</span>, <span class="number">115.77558105291722</span>, <span class="number">119.16636356270482</span>]</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ç»æµ‹è¯•ï¼Œmodel = LassoCV()æ¯”ä¸ç”¨äº¤å‰éªŒè¯çš„Lasso()æ•ˆæœè¦å¥½</li>
<li>lassoç›¸å…³ç³»æ•°æ‰“å°å‡ºæ¥æœ‰3ä¸ªæ˜¯0ï¼Œè¯´æ˜æœ‰ä¸‰åˆ—æ˜¯å…·æœ‰å¤šé‡å…±çº¿æ€§çš„</li>
</ul>
<h1 id="å¼¹æ€§ç½‘"><a href="#å¼¹æ€§ç½‘" class="headerlink" title="å¼¹æ€§ç½‘"></a>å¼¹æ€§ç½‘</h1><ul>
<li>ä»£ä»·å‡½æ•°</li>
</ul>
<img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823203213894-1331359556.png" style="zoom:67%;">


<ul>
<li><p>q = 1æ˜¯Lassoå›å½’</p>
</li>
<li><p>q = 2æ˜¯å²­å›å½’</p>
</li>
<li><p>ç›¸å¯¹äºå…¶ä»–qï¼ŒLassoå’Œå²­å›å½’æ•ˆæœæ›´å¥½ä¸€äº›ï¼Œæ‰€ä»¥ç”¨çš„å¤š</p>
</li>
<li><p>å¼¹æ€§ç½‘æ˜¯Lassoå’Œå²­å›å½’çš„ç»“åˆ</p>
</li>
</ul>
<img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823203230843-1675995161.png" style="zoom:67%;">


<ul>
<li><p>alphaæ˜¯æƒé‡ï¼Œåœ¨sklearné‡Œé¢ä¼šè‡ªåŠ¨è°ƒèŠ‚å‡ºä¸€ä¸ªæœ€é€‚åˆçš„alphaç³»æ•°ï¼Œå³å¼¹æ€§ç½‘ç³»æ•°</p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/6</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> ElasticNetCV  <span class="comment"># å¯¼å…¥å¼¹æ€§ç½‘æ¨¡å‹</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">data = np.genfromtxt(<span class="string">&#x27;longley.csv&#x27;</span>, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">x_data = data[<span class="number">1</span>:, <span class="number">2</span>:]</span><br><span class="line">y_data = data[<span class="number">1</span>:, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">model = ElasticNetCV()  <span class="comment"># é‡Œé¢çš„ç³»æ•°ä¼šè‡ªåŠ¨é€‰å‡ºæœ€å¥½çš„ï¼Œå’Œlassoç±»ä¼¼</span></span><br><span class="line">model.fit(x_data, y_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„æµ‹å¯¹æ¯”æŸä¸€è¡Œï¼ˆç¬¬2è¡Œï¼‰</span></span><br><span class="line">print(model.predict(x_data[<span class="number">2</span>, np.newaxis]))</span><br><span class="line"></span><br><span class="line">y_predict = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x_data)):</span><br><span class="line">    y_predict.append(model.predict(x_data[i, np.newaxis]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾å¯¹æ¯”æ‰€æœ‰çš„</span></span><br><span class="line">year = np.linspace(<span class="number">1947</span>, <span class="number">1962</span>, <span class="built_in">len</span>(x_data))</span><br><span class="line">plt.plot(year, y_data, <span class="string">&#x27;b.&#x27;</span>)</span><br><span class="line">plt.plot(year, y_predict, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;å¼¹æ€§ç½‘ç³»æ•°ï¼š&#x27;</span>, model.alpha_)</span><br><span class="line">print(<span class="string">&#x27;ç›¸å…³ç³»æ•°ï¼š&#x27;</span>, model.coef_)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
  <img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200823203248910-608160941.png" style="zoom:80%;">


</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[<span class="number">88.33171474</span>]</span><br><span class="line">å¼¹æ€§ç½‘ç³»æ•°ï¼š <span class="number">30.31094405430269</span></span><br><span class="line">ç›¸å…³ç³»æ•°ï¼š [<span class="number">0.1006612</span>  <span class="number">0.00589596</span> <span class="number">0.00593021</span> <span class="number">0.</span>         <span class="number">0.</span>         <span class="number">0.</span>        ]</span><br></pre></td></tr></table></figure>
<ul>
<li>æ•ˆæœæ¯”å²­å›å½’å’ŒLassoå›å½’å¥½ï¼Œå› ä¸ºç»“åˆäº†ä¸¤è€…çš„ä¼˜ç‚¹</li>
</ul>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Pythonæœºå™¨å­¦ä¹ </tag>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>çˆ¬è™«çš„å®ç°åŸç†å’Œåº”ç”¨</title>
    <url>/2020/08/26/CrawlerPrinciple/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šbs4+reæ­£åˆ™è¡¨è¾¾å¼ã€urlé˜Ÿåˆ—å¤„ç†åˆ†é¡µ</p>
<a id="more"></a>

<h1 id="ä½¿ç”¨çˆ¬è™«éå†ç½‘ç«™é¡µé¢çš„å›¾ç»“æ„"><a href="#ä½¿ç”¨çˆ¬è™«éå†ç½‘ç«™é¡µé¢çš„å›¾ç»“æ„" class="headerlink" title="ä½¿ç”¨çˆ¬è™«éå†ç½‘ç«™é¡µé¢çš„å›¾ç»“æ„"></a>ä½¿ç”¨çˆ¬è™«éå†ç½‘ç«™é¡µé¢çš„å›¾ç»“æ„</h1><ol>
<li>ä»ä¸€ä¸ªåˆå§‹ç½‘é¡µçš„URLå¼€å§‹</li>
<li>ç¡®å®šURLä»æœªæŠ“å–è¿‡</li>
<li>è·å¾—ç½‘é¡µä¸Šçš„HTMLæºä»£ç </li>
<li>ä»å½“å‰é¡µé¢ä¸ŠæŠ½å–æ–°çš„URLæ”¾å…¥é˜Ÿåˆ—</li>
<li>é‡å¤æ­¥éª¤2-4ç›´åˆ°æ»¡è¶³ä¸€å®šçš„åœæ­¢æ¡ä»¶</li>
</ol>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200826193145073-1052617377.png"></p>
<h1 id="bs4-æ­£åˆ™è¡¨è¾¾å¼"><a href="#bs4-æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="bs4+æ­£åˆ™è¡¨è¾¾å¼"></a>bs4+æ­£åˆ™è¡¨è¾¾å¼</h1><h2 id="ä½¿ç”¨bs4åŠ æ­£åˆ™è¡¨è¾¾å¼è·å–è±†ç“£ç”µå½±ä¿¡æ¯"><a href="#ä½¿ç”¨bs4åŠ æ­£åˆ™è¡¨è¾¾å¼è·å–è±†ç“£ç”µå½±ä¿¡æ¯" class="headerlink" title="ä½¿ç”¨bs4åŠ æ­£åˆ™è¡¨è¾¾å¼è·å–è±†ç“£ç”µå½±ä¿¡æ¯"></a>ä½¿ç”¨bs4åŠ æ­£åˆ™è¡¨è¾¾å¼è·å–è±†ç“£ç”µå½±ä¿¡æ¯</h2><ul>
<li>ä¸»è¦æ˜¯åˆ©ç”¨urlé˜Ÿåˆ—å¤„ç†åˆ†é¡µçš„æ€æƒ³</li>
<li>å¯ä»¥é€‰æ‹©ç”¨pandaså­˜æ”¾è·å¾—çš„æ•°æ®</li>
<li>è¿™ä¸ªä¾‹å­æ˜¯å¯¹ä¸Šé¢åŸç†çš„åº”ç”¨</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># @Time    :  2020/8/26</span></span><br><span class="line"><span class="string"># @Author  :  Jimou Chen</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Crawler</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.user_agent = <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.125 Safari/537.36&#x27;</span></span><br><span class="line">        self.headers = &#123;<span class="string">&quot;User-Agent&quot;</span>: self.user_agent&#125;</span><br><span class="line">        self.queue = <span class="built_in">set</span>()  <span class="comment"># ç”¨é›†åˆåšurlé˜Ÿåˆ—å¯ä»¥è‡ªåŠ¨å»æ‰é‡å¤çš„url</span></span><br><span class="line">        self.processed = <span class="built_in">set</span>()</span><br><span class="line">        self.save_list = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">crawl</span>(<span class="params">self, url</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> url <span class="keyword">not</span> <span class="keyword">in</span> self.processed:</span><br><span class="line">            self.processed.add(url)  <span class="comment"># å·²ç»è®¿é—®è¿‡çš„url</span></span><br><span class="line"></span><br><span class="line">            resp = requests.get(url, headers=self.headers)</span><br><span class="line">            soup = BeautifulSoup(resp.content.decode(<span class="string">&#x27;UTF-8&#x27;</span>), <span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line">            nodes = soup.find_all(<span class="string">&#x27;div&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;hd&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># å½“å‰é¡µ</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> nodes:</span><br><span class="line">                name = i.find_all(<span class="string">&#x27;span&#x27;</span>)[<span class="number">0</span>].text</span><br><span class="line">                link = i.find(<span class="string">&#x27;a&#x27;</span>)[<span class="string">&#x27;href&#x27;</span>]</span><br><span class="line">                msg_dict = &#123;<span class="string">&#x27;ç”µå½±å&#x27;</span>: name, <span class="string">&#x27;é“¾æ¥&#x27;</span>: link&#125;</span><br><span class="line">                self.save_list.append(msg_dict)</span><br><span class="line"></span><br><span class="line">                print(<span class="string">&#x27;&#123;&#125;: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(i.find_all(<span class="string">&#x27;span&#x27;</span>)[<span class="number">0</span>].text, i.find(<span class="string">&#x27;a&#x27;</span>)[<span class="string">&#x27;href&#x27;</span>]))</span><br><span class="line">            print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">            <span class="comment"># å…¶ä»–é¡µ</span></span><br><span class="line">            other_pages = soup.find_all(<span class="string">&#x27;div&#x27;</span>, &#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;paginator&#x27;</span>&#125;)</span><br><span class="line">            <span class="comment"># æ­£åˆ™è¡¨è¾¾å¼æ‰¾åˆ°é¡µç é“¾æ¥</span></span><br><span class="line">            pattern = re.<span class="built_in">compile</span>(<span class="string">r&#x27;&lt;a href=&quot;(.+?)&quot;&gt;\w&#x27;</span>)</span><br><span class="line">            links = pattern.findall(<span class="built_in">str</span>(other_pages))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> link <span class="keyword">in</span> links:</span><br><span class="line">                url = <span class="string">&#x27;https://movie.douban.com/top250&#x27;</span> + link</span><br><span class="line">                self.queue.add(url)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self, url</span>):</span></span><br><span class="line">        self.queue.add(url)</span><br><span class="line">        <span class="comment"># ä¿æŒè·å–ç½‘é¡µï¼Œç›´åˆ°ä¸ºé˜Ÿåˆ—ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">while</span> self.queue:</span><br><span class="line">            self.crawl(self.queue.pop())</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¿™é‡Œå¯ä»¥ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶</span></span><br><span class="line">        movie_msg = pd.DataFrame(self.save_list)</span><br><span class="line">        movie_msg.to_excel(<span class="string">&#x27;douban_movies.xls&#x27;</span>)</span><br><span class="line">        print(self.save_list)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    Crawler().run(<span class="string">&#x27;https://movie.douban.com/top250&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><p>æ‰“å°å¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è‚–ç”³å…‹çš„æ•‘èµ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292052&#x2F;</span><br><span class="line">éœ¸ç‹åˆ«å§¬: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291546&#x2F;</span><br><span class="line">é˜¿ç”˜æ­£ä¼ : https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292720&#x2F;</span><br><span class="line">è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295644&#x2F;</span><br><span class="line">æ³°å¦å°¼å…‹å·: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292722&#x2F;</span><br><span class="line">ç¾ä¸½äººç”Ÿ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292063&#x2F;</span><br><span class="line">åƒä¸åƒå¯»: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291561&#x2F;</span><br><span class="line">è¾›å¾·å‹’çš„åå•: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295124&#x2F;</span><br><span class="line">ç›—æ¢¦ç©ºé—´: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3541415&#x2F;</span><br><span class="line">å¿ çŠ¬å…«å…¬çš„æ•…äº‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3011091&#x2F;</span><br><span class="line">æµ·ä¸Šé’¢ç´å¸ˆ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292001&#x2F;</span><br><span class="line">æ¥šé—¨çš„ä¸–ç•Œ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292064&#x2F;</span><br><span class="line">æ˜Ÿé™…ç©¿è¶Š: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1889243&#x2F;</span><br><span class="line">ä¸‰å‚»å¤§é—¹å®è±å: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3793023&#x2F;</span><br><span class="line">æœºå™¨äººæ€»åŠ¨å‘˜: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2131459&#x2F;</span><br><span class="line">æ”¾ç‰›ç­çš„æ˜¥å¤©: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291549&#x2F;</span><br><span class="line">å¤§è¯è¥¿æ¸¸ä¹‹å¤§åœ£å¨¶äº²: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292213&#x2F;</span><br><span class="line">ç†”ç‚‰: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5912992&#x2F;</span><br><span class="line">ç–¯ç‹‚åŠ¨ç‰©åŸ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25662329&#x2F;</span><br><span class="line">æ— é—´é“: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1307914&#x2F;</span><br><span class="line">é¾™çŒ«: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291560&#x2F;</span><br><span class="line">æ•™çˆ¶: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291841&#x2F;</span><br><span class="line">å½“å¹¸ç¦æ¥æ•²é—¨: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1849031&#x2F;</span><br><span class="line">æ€¦ç„¶å¿ƒåŠ¨: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3319755&#x2F;</span><br><span class="line">è§¦ä¸å¯åŠ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6786002&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ­»äº¡è¯—ç¤¾: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291548&#x2F;</span><br><span class="line">ç‹®å­ç‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1301753&#x2F;</span><br><span class="line">å¤§é—¹å¤©å®«: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1418019&#x2F;</span><br><span class="line">æŒ‡ç¯ç‹2ï¼šåŒå¡”å¥‡å…µ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291572&#x2F;</span><br><span class="line">çŒ«é¼ æ¸¸æˆ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1305487&#x2F;</span><br><span class="line">çªƒå¬é£æš´: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1900841&#x2F;</span><br><span class="line">æŒ‡ç¯ç‹1ï¼šé­”æˆ’å†ç°: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291571&#x2F;</span><br><span class="line">é’¢ç´å®¶: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1296736&#x2F;</span><br><span class="line">é»‘å®¢å¸å›½: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291843&#x2F;</span><br><span class="line">ç¾ä¸½å¿ƒçµ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1306029&#x2F;</span><br><span class="line">é¥®é£Ÿç”·å¥³: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291818&#x2F;</span><br><span class="line">ä¸¤æ†å¤§çƒŸæª: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293350&#x2F;</span><br><span class="line">é£è¶Šç–¯äººé™¢: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292224&#x2F;</span><br><span class="line">è®©å­å¼¹é£: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3742360&#x2F;</span><br><span class="line">æœ¬æ°æ˜Â·å·´é¡¿å¥‡äº‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1485260&#x2F;</span><br><span class="line">çœ‹ä¸è§çš„å®¢äºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26580232&#x2F;</span><br><span class="line">ç»¿çš®ä¹¦: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;27060077&#x2F;</span><br><span class="line">è¥¿è¥¿é‡Œçš„ç¾ä¸½ä¼ è¯´: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292402&#x2F;</span><br><span class="line">æ‹¯æ•‘å¤§å…µç‘æ©: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292849&#x2F;</span><br><span class="line">å°é‹å­: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1303021&#x2F;</span><br><span class="line">æµ·è’‚å’Œçˆ·çˆ·: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25958717&#x2F;</span><br><span class="line">ç©¿æ¡çº¹ç¡è¡£çš„ç”·å­©: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3008247&#x2F;</span><br><span class="line">æƒ…ä¹¦: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292220&#x2F;</span><br><span class="line">æµ·è±šæ¹¾: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3442220&#x2F;</span><br><span class="line">éŸ³ä¹ä¹‹å£°: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1294408&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">åœ°çƒä¸Šçš„æ˜Ÿæ˜Ÿ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2363506&#x2F;</span><br><span class="line">ç–¯ç‹‚çš„éº¦å…‹æ–¯4ï¼šç‹‚æš´ä¹‹è·¯: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3592854&#x2F;</span><br><span class="line">æˆ˜äº‰ä¹‹ç‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1419936&#x2F;</span><br><span class="line">æ­¥å±¥ä¸åœ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2222996&#x2F;</span><br><span class="line">è°å½±é‡é‡: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1304102&#x2F;</span><br><span class="line">å½—æ˜Ÿæ¥çš„é‚£ä¸€å¤œ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25807345&#x2F;</span><br><span class="line">çŒœç«è½¦: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292528&#x2F;</span><br><span class="line">æœ—è¯»è€…: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2213597&#x2F;</span><br><span class="line">æ³¢è¥¿ç±³äºšç‹‚æƒ³æ›²: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5300054&#x2F;</span><br><span class="line">æµªæ½®: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2297265&#x2F;</span><br><span class="line">å°èè‰çš„çŒ´ç¥å¤§å”: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26393561&#x2F;</span><br><span class="line">å†æ¬¡å‡ºå‘ä¹‹çº½çº¦é‡è§ä½ : https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6874403&#x2F;</span><br><span class="line">ä¸œäº¬ç‰©è¯­: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291568&#x2F;</span><br><span class="line">é©´å¾—æ°´: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25921812&#x2F;</span><br><span class="line">èšç„¦: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25954475&#x2F;</span><br><span class="line">è¿½éš: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1397546&#x2F;</span><br><span class="line">åƒé’§ä¸€å‘: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1300117&#x2F;</span><br><span class="line">æˆ‘çˆ±ä½ : https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5908478&#x2F;</span><br><span class="line">ä¸€æ¬¡åˆ«ç¦»: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5964718&#x2F;</span><br><span class="line">é»‘é¹°å è½: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291824&#x2F;</span><br><span class="line">é»‘å®¢å¸å›½2ï¼šé‡è£…ä¸Šé˜µ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1304141&#x2F;</span><br><span class="line">ç½‘ç»œè°œè¸ª: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;27615441&#x2F;</span><br><span class="line">å››ä¸ªæ˜¥å¤©: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;27191492&#x2F;</span><br><span class="line">å‘æ¡æ©™: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292233&#x2F;</span><br><span class="line">E.T. å¤–æ˜Ÿäºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1294638&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è‚–ç”³å…‹çš„æ•‘èµ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292052&#x2F;</span><br><span class="line">éœ¸ç‹åˆ«å§¬: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291546&#x2F;</span><br><span class="line">é˜¿ç”˜æ­£ä¼ : https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292720&#x2F;</span><br><span class="line">è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295644&#x2F;</span><br><span class="line">æ³°å¦å°¼å…‹å·: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292722&#x2F;</span><br><span class="line">ç¾ä¸½äººç”Ÿ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292063&#x2F;</span><br><span class="line">åƒä¸åƒå¯»: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291561&#x2F;</span><br><span class="line">è¾›å¾·å‹’çš„åå•: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295124&#x2F;</span><br><span class="line">ç›—æ¢¦ç©ºé—´: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3541415&#x2F;</span><br><span class="line">å¿ çŠ¬å…«å…¬çš„æ•…äº‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3011091&#x2F;</span><br><span class="line">æµ·ä¸Šé’¢ç´å¸ˆ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292001&#x2F;</span><br><span class="line">æ¥šé—¨çš„ä¸–ç•Œ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292064&#x2F;</span><br><span class="line">æ˜Ÿé™…ç©¿è¶Š: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1889243&#x2F;</span><br><span class="line">ä¸‰å‚»å¤§é—¹å®è±å: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3793023&#x2F;</span><br><span class="line">æœºå™¨äººæ€»åŠ¨å‘˜: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2131459&#x2F;</span><br><span class="line">æ”¾ç‰›ç­çš„æ˜¥å¤©: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291549&#x2F;</span><br><span class="line">å¤§è¯è¥¿æ¸¸ä¹‹å¤§åœ£å¨¶äº²: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292213&#x2F;</span><br><span class="line">ç†”ç‚‰: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5912992&#x2F;</span><br><span class="line">ç–¯ç‹‚åŠ¨ç‰©åŸ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25662329&#x2F;</span><br><span class="line">æ— é—´é“: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1307914&#x2F;</span><br><span class="line">é¾™çŒ«: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291560&#x2F;</span><br><span class="line">æ•™çˆ¶: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291841&#x2F;</span><br><span class="line">å½“å¹¸ç¦æ¥æ•²é—¨: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1849031&#x2F;</span><br><span class="line">æ€¦ç„¶å¿ƒåŠ¨: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3319755&#x2F;</span><br><span class="line">è§¦ä¸å¯åŠ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6786002&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç¾å›½å¾€äº‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292262&#x2F;</span><br><span class="line">è‡´å‘½é­”æœ¯: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1780330&#x2F;</span><br><span class="line">ä½ä¿—å°è¯´: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291832&#x2F;</span><br><span class="line">ä¸ƒå®—ç½ª: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292223&#x2F;</span><br><span class="line">æ²‰é»˜çš„ç¾”ç¾Š: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293544&#x2F;</span><br><span class="line">è´è¶æ•ˆåº”: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292343&#x2F;</span><br><span class="line">ç¦é—­å²›: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2334904&#x2F;</span><br><span class="line">å¿ƒçµæ•æ‰‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292656&#x2F;</span><br><span class="line">æ˜¥å…‰ä¹æ³„: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292679&#x2F;</span><br><span class="line">å¸ƒè¾¾ä½©æ–¯å¤§é¥­åº—: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;11525673&#x2F;</span><br><span class="line">è¢«å«Œå¼ƒçš„æ¾å­çš„ä¸€ç”Ÿ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1787291&#x2F;</span><br><span class="line">æ‘©ç™»æ—¶ä»£: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1294371&#x2F;</span><br><span class="line">é˜¿å‡¡è¾¾: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1652587&#x2F;</span><br><span class="line">å‰ªåˆ€æ‰‹çˆ±å¾·å: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292370&#x2F;</span><br><span class="line">å‹‡æ•¢çš„å¿ƒ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1294639&#x2F;</span><br><span class="line">å–œå‰§ä¹‹ç‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1302425&#x2F;</span><br><span class="line">è‡´å‘½ID: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297192&#x2F;</span><br><span class="line">åŠ å‹’æ¯”æµ·ç›—: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1298070&#x2F;</span><br><span class="line">å“ˆåˆ©Â·æ³¢ç‰¹ä¸æ­»äº¡åœ£å™¨(ä¸‹): https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3011235&#x2F;</span><br><span class="line">å¤©ä½¿çˆ±ç¾ä¸½: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292215&#x2F;</span><br><span class="line">æ€äººå›å¿†: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1300299&#x2F;</span><br><span class="line">æ–­èƒŒå±±: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1418834&#x2F;</span><br><span class="line">ç‹©çŒ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6985810&#x2F;</span><br><span class="line">è¯·ä»¥ä½ çš„åå­—å‘¼å”¤æˆ‘: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26799731&#x2F;</span><br><span class="line">å¹½çµå…¬ä¸»: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297359&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">7å·æˆ¿çš„ç¤¼ç‰©: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10777687&#x2F;</span><br><span class="line">é˜³å…‰ç¿çƒ‚çš„æ—¥å­: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291875&#x2F;</span><br><span class="line">å°æ£®æ— å¤ç§‹ç¯‡: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25814705&#x2F;</span><br><span class="line">é‡åº†æ£®æ—: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291999&#x2F;</span><br><span class="line">ç¬¬å…­æ„Ÿ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297630&#x2F;</span><br><span class="line">å…¥æ®“å¸ˆ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2149806&#x2F;</span><br><span class="line">çº¢è¾£æ¤’: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1865703&#x2F;</span><br><span class="line">å°æ£®æ— å†¬æ˜¥ç¯‡: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25814707&#x2F;</span><br><span class="line">æ¶ˆå¤±çš„çˆ±äºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;21318488&#x2F;</span><br><span class="line">çˆ±åœ¨é»æ˜ç ´æ™“å‰: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1296339&#x2F;</span><br><span class="line">ä¸€ä¸€: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292434&#x2F;</span><br><span class="line">å”ä¼¯è™ç‚¹ç§‹é¦™: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1306249&#x2F;</span><br><span class="line">ä¾§è€³å€¾å¬: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297052&#x2F;</span><br><span class="line">è¶…è„±: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5322596&#x2F;</span><br><span class="line">è™è ä¾ ï¼šé»‘æš—éª‘å£«å´›èµ·: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3395373&#x2F;</span><br><span class="line">å€©å¥³å¹½é­‚: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297447&#x2F;</span><br><span class="line">ç›ä¸½å’Œé©¬å…‹æ€: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3072124&#x2F;</span><br><span class="line">æ— äººçŸ¥æ™“: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292337&#x2F;</span><br><span class="line">ç”œèœœèœœ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1305164&#x2F;</span><br><span class="line">å‘Šç™½: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4268598&#x2F;</span><br><span class="line">è¤ç«ä¹‹æ£®: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5989818&#x2F;</span><br><span class="line">è¶…èƒ½é™†æˆ˜é˜Ÿ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;11026735&#x2F;</span><br><span class="line">å¤§é±¼: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291545&#x2F;</span><br><span class="line">é˜³å…‰å§å¦¹æ·˜: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4917726&#x2F;</span><br><span class="line">é©¯é¾™é«˜æ‰‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2353023&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ§æ–¹è¯äºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1296141&#x2F;</span><br><span class="line">è™è ä¾ ï¼šé»‘æš—éª‘å£«: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1851857&#x2F;</span><br><span class="line">æ´»ç€: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292365&#x2F;</span><br><span class="line">å¯»æ¢¦ç¯æ¸¸è®°: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;20495023&#x2F;</span><br><span class="line">æœ«ä»£çš‡å¸: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293172&#x2F;</span><br><span class="line">ä¹±ä¸–ä½³äºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1300267&#x2F;</span><br><span class="line">ä½•ä»¥ä¸ºå®¶: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;30170448&#x2F;</span><br><span class="line">æ‘”è·¤å§ï¼çˆ¸çˆ¸: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26387939&#x2F;</span><br><span class="line">æŒ‡ç¯ç‹3ï¼šç‹è€…æ— æ•Œ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291552&#x2F;</span><br><span class="line">é£å±‹ç¯æ¸¸è®°: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2129039&#x2F;</span><br><span class="line">å°‘å¹´æ´¾çš„å¥‡å¹»æ¼‚æµ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1929463&#x2F;</span><br><span class="line">åäºŒæ€’æ±‰: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293182&#x2F;</span><br><span class="line">ç´ åª›: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;21937452&#x2F;</span><br><span class="line">é¬¼å­æ¥äº†: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291858&#x2F;</span><br><span class="line">å“ˆå°”çš„ç§»åŠ¨åŸå ¡: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1308807&#x2F;</span><br><span class="line">å¤©ç©ºä¹‹åŸ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291583&#x2F;</span><br><span class="line">å¤§è¯è¥¿æ¸¸ä¹‹æœˆå…‰å®ç›’: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1299398&#x2F;</span><br><span class="line">å“ˆåˆ©Â·æ³¢ç‰¹ä¸é­”æ³•çŸ³: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295038&#x2F;</span><br><span class="line">å¤©å ‚ç”µå½±é™¢: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291828&#x2F;</span><br><span class="line">ç½—é©¬å‡æ—¥: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293839&#x2F;</span><br><span class="line">é—»é¦™è¯†å¥³äºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1298624&#x2F;</span><br><span class="line">æˆ‘ä¸æ˜¯è¯ç¥: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26752088&#x2F;</span><br><span class="line">è¾©æŠ¤äºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;21937445&#x2F;</span><br><span class="line">æå‡»ä¿±ä¹éƒ¨: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292000&#x2F;</span><br><span class="line">æ•™çˆ¶2: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1299131&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç½—ç”Ÿé—¨: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291879&#x2F;</span><br><span class="line">ç»ˆç»“è€…2ï¼šå®¡åˆ¤æ—¥: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291844&#x2F;</span><br><span class="line">åˆæ‹è¿™ä»¶å°äº‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4739952&#x2F;</span><br><span class="line">2001å¤ªç©ºæ¼«æ¸¸: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292226&#x2F;</span><br><span class="line">å¯å¯è¥¿é‡Œ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1308857&#x2F;</span><br><span class="line">é­‚æ–­è“æ¡¥: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293964&#x2F;</span><br><span class="line">æµ·æ´‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3443389&#x2F;</span><br><span class="line">åŸå¸‚ä¹‹å…‰: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293908&#x2F;</span><br><span class="line">ç‡ƒæƒ…å²æœˆ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295865&#x2F;</span><br><span class="line">ç‰¯å²­è¡—å°‘å¹´æ€äººäº‹ä»¶: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292329&#x2F;</span><br><span class="line">è‰²ï¼Œæˆ’: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1828115&#x2F;</span><br><span class="line">ç©¿è¶Šæ—¶ç©ºçš„å°‘å¥³: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1937946&#x2F;</span><br><span class="line">æ–°é¾™é—¨å®¢æ ˆ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292287&#x2F;</span><br><span class="line">é’è›‡: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1303394&#x2F;</span><br><span class="line">æ— è€»æ··è›‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1438652&#x2F;</span><br><span class="line">æºä»£ç : https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3075287&#x2F;</span><br><span class="line">å®Œç¾é™Œç”Ÿäºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26614893&#x2F;</span><br><span class="line">é—æ„¿æ¸…å•: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1867345&#x2F;</span><br><span class="line">é˜¿é£æ­£ä¼ : https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1305690&#x2F;</span><br><span class="line">å“ˆåˆ©Â·æ³¢ç‰¹ä¸ç«ç„°æ¯: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1309055&#x2F;</span><br><span class="line">ä¹å“èŠéº»å®˜: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297518&#x2F;</span><br><span class="line">å¤§ä½›æ™®æ‹‰æ–¯: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;27059130&#x2F;</span><br><span class="line">è¡€é’»: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1428175&#x2F;</span><br><span class="line">è°å½±é‡é‡2: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1308767&#x2F;</span><br><span class="line">é¦™æ°´: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1760622&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å€Ÿä¸œè¥¿çš„å°äººé˜¿è‰åŸƒè’‚: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4202302&#x2F;</span><br><span class="line">å°„é›•è‹±é›„ä¼ ä¹‹ä¸œæˆè¥¿å°±: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1316510&#x2F;</span><br><span class="line">èŠæ¬¡éƒçš„å¤å¤©: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293359&#x2F;</span><br><span class="line">å¹¸ç¦ç»ˆç‚¹ç«™: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292274&#x2F;</span><br><span class="line">çˆ±åœ¨æ—¥è½é»„æ˜æ—¶: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291990&#x2F;</span><br><span class="line">ææ€–ç›´æ’­: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;21360417&#x2F;</span><br><span class="line">å®Œç¾çš„ä¸–ç•Œ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1300992&#x2F;</span><br><span class="line">åŠŸå¤«: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291543&#x2F;</span><br><span class="line">äººç”Ÿæœå®: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26874505&#x2F;</span><br><span class="line">ç¥å·å¥¶çˆ¸: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3287562&#x2F;</span><br><span class="line">æ€ªå…½ç”µåŠ›å…¬å¸: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291579&#x2F;</span><br><span class="line">ç©å…·æ€»åŠ¨å‘˜3: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1858711&#x2F;</span><br><span class="line">å¤©ä¹¦å¥‡è°­: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1428581&#x2F;</span><br><span class="line">å‚²æ…¢ä¸åè§: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1418200&#x2F;</span><br><span class="line">è¡€æˆ˜é’¢é”¯å²­: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26325320&#x2F;</span><br><span class="line">æ•™çˆ¶3: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1294240&#x2F;</span><br><span class="line">æ—¶ç©ºæ‹æ—…äºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10577869&#x2F;</span><br><span class="line">é£ä¹‹è°·: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291585&#x2F;</span><br><span class="line">å“ˆåˆ©Â·æ³¢ç‰¹ä¸é˜¿å…¹å¡ç­çš„å›šå¾’: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291544&#x2F;</span><br><span class="line">é‡œå±±è¡Œ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25986180&#x2F;</span><br><span class="line">ç”µé”¯æƒŠé­‚: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1417598&#x2F;</span><br><span class="line">ä¸Šå¸ä¹‹åŸ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292208&#x2F;</span><br><span class="line">è¢«è§£æ•‘çš„å§œæˆˆ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6307447&#x2F;</span><br><span class="line">å“ªå’é—¹æµ·: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1307315&#x2F;</span><br><span class="line">å–œå®´: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1303037&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¿ çŠ¬å…«å…¬ç‰©è¯­: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1959195&#x2F;</span><br><span class="line">é»‘å¤©é¹…: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1978709&#x2F;</span><br><span class="line">å¤´è„‘ç‰¹å·¥é˜Ÿ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10533913&#x2F;</span><br><span class="line">æ–°ä¸–ç•Œ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10437779&#x2F;</span><br><span class="line">æœªéº»çš„éƒ¨å±‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1395091&#x2F;</span><br><span class="line">ä½ çœ‹èµ·æ¥å¥½åƒå¾ˆå¥½åƒ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4848115&#x2F;</span><br><span class="line">æµ·è¡—æ—¥è®°: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25895901&#x2F;</span><br><span class="line">æ— æ•Œç ´åç‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6534248&#x2F;</span><br><span class="line">é›¨äºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291870&#x2F;</span><br><span class="line">å†°å·æ—¶ä»£: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291578&#x2F;</span><br><span class="line">æ‹æ‹ç¬”è®°æœ¬: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1309163&#x2F;</span><br><span class="line">æƒŠé­‚è®°: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293181&#x2F;</span><br><span class="line">äºŒåäºŒ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26430107&#x2F;</span><br><span class="line">ææ€–æ¸¸è½®: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3011051&#x2F;</span><br><span class="line">æµ·è¾¹çš„æ›¼å½»æ–¯ç‰¹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25980443&#x2F;</span><br><span class="line">å¥‡è¿¹ç”·å­©: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26787574&#x2F;</span><br><span class="line">å°å·å®¶æ—: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;27622447&#x2F;</span><br><span class="line">æˆ¿é—´: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25724855&#x2F;</span><br><span class="line">ç»¿é‡Œå¥‡è¿¹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1300374&#x2F;</span><br><span class="line">é­”å¥³å®…æ€¥ä¾¿: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1307811&#x2F;</span><br><span class="line">è™å£è„±é™©: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1296909&#x2F;</span><br><span class="line">é›¨ä¸­æ›²: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293460&#x2F;</span><br><span class="line">ç–¯ç‹‚çš„çŸ³å¤´: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1862151&#x2F;</span><br><span class="line">çˆ±åœ¨åˆå¤œé™ä¸´å‰: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10808442&#x2F;</span><br><span class="line">äººå·¥æ™ºèƒ½: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1302827&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä¸ƒæ­¦å£«: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295399&#x2F;</span><br><span class="line">è‹±é›„æœ¬è‰²: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297574&#x2F;</span><br><span class="line">æˆ‘æ˜¯å±±å§†: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1306861&#x2F;</span><br><span class="line">è°å½±é‡é‡3: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1578507&#x2F;</span><br><span class="line">å²æœˆç¥å·: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3792799&#x2F;</span><br><span class="line">å¤´å·ç©å®¶: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4920389&#x2F;</span><br><span class="line">çºµæ¨ªå››æµ·: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295409&#x2F;</span><br><span class="line">ç–¯ç‹‚åŸå§‹äºº: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1907966&#x2F;</span><br><span class="line">ä¸€ä¸ªå«æ¬§ç»´çš„ç”·äººå†³å®šå»æ­»: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26628357&#x2F;</span><br><span class="line">ä¸‰å—å¹¿å‘Šç‰Œ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26611804&#x2F;</span><br><span class="line">å¿ƒè¿·å®«: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25917973&#x2F;</span><br><span class="line">å“ˆåˆ©Â·æ³¢ç‰¹ä¸å¯†å®¤: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1296996&#x2F;</span><br><span class="line">è¾¾æ‹‰æ–¯ä¹°å®¶ä¿±ä¹éƒ¨: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1793929&#x2F;</span><br><span class="line">å¢æ—ºè¾¾é¥­åº—: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291822&#x2F;</span><br><span class="line">ä½ çš„åå­—ã€‚: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26683290&#x2F;</span><br><span class="line">èŠ±æ ·å¹´å: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291557&#x2F;</span><br><span class="line">è¤ç«è™«ä¹‹å¢“: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293318&#x2F;</span><br><span class="line">è®°å¿†ç¢ç‰‡: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1304447&#x2F;</span><br><span class="line">è’è›®æ•…äº‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;24750126&#x2F;</span><br><span class="line">è´«æ°‘çªŸçš„ç™¾ä¸‡å¯Œç¿: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2209573&#x2F;</span><br><span class="line">ä¸œé‚ªè¥¿æ¯’: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292328&#x2F;</span><br><span class="line">çœŸçˆ±è‡³ä¸Š: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292401&#x2F;</span><br><span class="line">çˆ†è£‚é¼“æ‰‹: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25773932&#x2F;</span><br><span class="line">é»‘å®¢å¸å›½3ï¼šçŸ©é˜µé©å‘½: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1302467&#x2F;</span><br><span class="line">æ¨¡ä»¿æ¸¸æˆ: https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10463953&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[&#123;&#39;ç”µå½±å&#39;: &#39;è‚–ç”³å…‹çš„æ•‘èµ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292052&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;éœ¸ç‹åˆ«å§¬&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291546&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é˜¿ç”˜æ­£ä¼ &#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292720&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295644&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ³°å¦å°¼å…‹å·&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292722&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç¾ä¸½äººç”Ÿ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292063&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;åƒä¸åƒå¯»&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291561&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¾›å¾·å‹’çš„åå•&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295124&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç›—æ¢¦ç©ºé—´&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3541415&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¿ çŠ¬å…«å…¬çš„æ•…äº‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3011091&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æµ·ä¸Šé’¢ç´å¸ˆ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292001&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ¥šé—¨çš„ä¸–ç•Œ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292064&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ˜Ÿé™…ç©¿è¶Š&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1889243&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸‰å‚»å¤§é—¹å®è±å&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3793023&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æœºå™¨äººæ€»åŠ¨å‘˜&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2131459&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ”¾ç‰›ç­çš„æ˜¥å¤©&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291549&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤§è¯è¥¿æ¸¸ä¹‹å¤§åœ£å¨¶äº²&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292213&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç†”ç‚‰&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5912992&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç–¯ç‹‚åŠ¨ç‰©åŸ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25662329&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ— é—´é“&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1307914&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é¾™çŒ«&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291560&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ•™çˆ¶&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291841&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å½“å¹¸ç¦æ¥æ•²é—¨&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1849031&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ€¦ç„¶å¿ƒåŠ¨&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3319755&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è§¦ä¸å¯åŠ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6786002&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ­»äº¡è¯—ç¤¾&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291548&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç‹®å­ç‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1301753&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤§é—¹å¤©å®«&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1418019&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æŒ‡ç¯ç‹2ï¼šåŒå¡”å¥‡å…µ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291572&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çŒ«é¼ æ¸¸æˆ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1305487&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çªƒå¬é£æš´&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1900841&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æŒ‡ç¯ç‹1ï¼šé­”æˆ’å†ç°&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291571&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é’¢ç´å®¶&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1296736&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é»‘å®¢å¸å›½&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291843&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç¾ä¸½å¿ƒçµ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1306029&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é¥®é£Ÿç”·å¥³&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291818&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸¤æ†å¤§çƒŸæª&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293350&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é£è¶Šç–¯äººé™¢&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292224&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è®©å­å¼¹é£&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3742360&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æœ¬æ°æ˜Â·å·´é¡¿å¥‡äº‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1485260&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çœ‹ä¸è§çš„å®¢äºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26580232&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç»¿çš®ä¹¦&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;27060077&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¥¿è¥¿é‡Œçš„ç¾ä¸½ä¼ è¯´&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292402&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ‹¯æ•‘å¤§å…µç‘æ©&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292849&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å°é‹å­&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1303021&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æµ·è’‚å’Œçˆ·çˆ·&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25958717&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç©¿æ¡çº¹ç¡è¡£çš„ç”·å­©&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3008247&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æƒ…ä¹¦&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292220&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æµ·è±šæ¹¾&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3442220&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;éŸ³ä¹ä¹‹å£°&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1294408&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;åœ°çƒä¸Šçš„æ˜Ÿæ˜Ÿ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2363506&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç–¯ç‹‚çš„éº¦å…‹æ–¯4ï¼šç‹‚æš´ä¹‹è·¯&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3592854&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æˆ˜äº‰ä¹‹ç‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1419936&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ­¥å±¥ä¸åœ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2222996&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è°å½±é‡é‡&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1304102&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å½—æ˜Ÿæ¥çš„é‚£ä¸€å¤œ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25807345&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çŒœç«è½¦&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292528&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æœ—è¯»è€…&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2213597&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ³¢è¥¿ç±³äºšç‹‚æƒ³æ›²&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5300054&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æµªæ½®&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2297265&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å°èè‰çš„çŒ´ç¥å¤§å”&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26393561&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å†æ¬¡å‡ºå‘ä¹‹çº½çº¦é‡è§ä½ &#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6874403&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸œäº¬ç‰©è¯­&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291568&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é©´å¾—æ°´&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25921812&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;èšç„¦&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25954475&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¿½éš&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1397546&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;åƒé’§ä¸€å‘&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1300117&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æˆ‘çˆ±ä½ &#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5908478&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸€æ¬¡åˆ«ç¦»&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5964718&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é»‘é¹°å è½&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291824&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é»‘å®¢å¸å›½2ï¼šé‡è£…ä¸Šé˜µ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1304141&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç½‘ç»œè°œè¸ª&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;27615441&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å››ä¸ªæ˜¥å¤©&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;27191492&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å‘æ¡æ©™&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292233&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;E.T. å¤–æ˜Ÿäºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1294638&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è‚–ç”³å…‹çš„æ•‘èµ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292052&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;éœ¸ç‹åˆ«å§¬&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291546&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é˜¿ç”˜æ­£ä¼ &#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292720&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295644&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ³°å¦å°¼å…‹å·&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292722&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç¾ä¸½äººç”Ÿ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292063&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;åƒä¸åƒå¯»&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291561&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¾›å¾·å‹’çš„åå•&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295124&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç›—æ¢¦ç©ºé—´&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3541415&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¿ çŠ¬å…«å…¬çš„æ•…äº‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3011091&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æµ·ä¸Šé’¢ç´å¸ˆ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292001&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ¥šé—¨çš„ä¸–ç•Œ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292064&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ˜Ÿé™…ç©¿è¶Š&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1889243&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸‰å‚»å¤§é—¹å®è±å&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3793023&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æœºå™¨äººæ€»åŠ¨å‘˜&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2131459&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ”¾ç‰›ç­çš„æ˜¥å¤©&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291549&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤§è¯è¥¿æ¸¸ä¹‹å¤§åœ£å¨¶äº²&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292213&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç†”ç‚‰&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5912992&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç–¯ç‹‚åŠ¨ç‰©åŸ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25662329&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ— é—´é“&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1307914&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é¾™çŒ«&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291560&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ•™çˆ¶&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291841&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å½“å¹¸ç¦æ¥æ•²é—¨&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1849031&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ€¦ç„¶å¿ƒåŠ¨&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3319755&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è§¦ä¸å¯åŠ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6786002&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç¾å›½å¾€äº‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292262&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è‡´å‘½é­”æœ¯&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1780330&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä½ä¿—å°è¯´&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291832&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸ƒå®—ç½ª&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292223&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ²‰é»˜çš„ç¾”ç¾Š&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293544&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è´è¶æ•ˆåº”&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292343&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç¦é—­å²›&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2334904&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¿ƒçµæ•æ‰‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292656&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ˜¥å…‰ä¹æ³„&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292679&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¸ƒè¾¾ä½©æ–¯å¤§é¥­åº—&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;11525673&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¢«å«Œå¼ƒçš„æ¾å­çš„ä¸€ç”Ÿ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1787291&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ‘©ç™»æ—¶ä»£&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1294371&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é˜¿å‡¡è¾¾&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1652587&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å‰ªåˆ€æ‰‹çˆ±å¾·å&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292370&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å‹‡æ•¢çš„å¿ƒ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1294639&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å–œå‰§ä¹‹ç‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1302425&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è‡´å‘½ID&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297192&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;åŠ å‹’æ¯”æµ·ç›—&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1298070&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å“ˆåˆ©Â·æ³¢ç‰¹ä¸æ­»äº¡åœ£å™¨(ä¸‹)&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3011235&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤©ä½¿çˆ±ç¾ä¸½&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292215&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ€äººå›å¿†&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1300299&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ–­èƒŒå±±&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1418834&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç‹©çŒ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6985810&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¯·ä»¥ä½ çš„åå­—å‘¼å”¤æˆ‘&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26799731&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¹½çµå…¬ä¸»&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297359&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;7å·æˆ¿çš„ç¤¼ç‰©&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10777687&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é˜³å…‰ç¿çƒ‚çš„æ—¥å­&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291875&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å°æ£®æ— å¤ç§‹ç¯‡&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25814705&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é‡åº†æ£®æ—&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291999&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç¬¬å…­æ„Ÿ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297630&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å…¥æ®“å¸ˆ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2149806&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çº¢è¾£æ¤’&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1865703&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å°æ£®æ— å†¬æ˜¥ç¯‡&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25814707&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ¶ˆå¤±çš„çˆ±äºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;21318488&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çˆ±åœ¨é»æ˜ç ´æ™“å‰&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1296339&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸€ä¸€&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292434&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å”ä¼¯è™ç‚¹ç§‹é¦™&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1306249&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¾§è€³å€¾å¬&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297052&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¶…è„±&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5322596&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è™è ä¾ ï¼šé»‘æš—éª‘å£«å´›èµ·&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3395373&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å€©å¥³å¹½é­‚&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297447&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç›ä¸½å’Œé©¬å…‹æ€&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3072124&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ— äººçŸ¥æ™“&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292337&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç”œèœœèœœ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1305164&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å‘Šç™½&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4268598&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¤ç«ä¹‹æ£®&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;5989818&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¶…èƒ½é™†æˆ˜é˜Ÿ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;11026735&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤§é±¼&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291545&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é˜³å…‰å§å¦¹æ·˜&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4917726&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é©¯é¾™é«˜æ‰‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2353023&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ§æ–¹è¯äºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1296141&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è™è ä¾ ï¼šé»‘æš—éª‘å£«&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1851857&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ´»ç€&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292365&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¯»æ¢¦ç¯æ¸¸è®°&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;20495023&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æœ«ä»£çš‡å¸&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293172&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¹±ä¸–ä½³äºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1300267&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä½•ä»¥ä¸ºå®¶&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;30170448&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ‘”è·¤å§ï¼çˆ¸çˆ¸&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26387939&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æŒ‡ç¯ç‹3ï¼šç‹è€…æ— æ•Œ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291552&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é£å±‹ç¯æ¸¸è®°&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2129039&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å°‘å¹´æ´¾çš„å¥‡å¹»æ¼‚æµ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1929463&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;åäºŒæ€’æ±‰&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293182&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç´ åª›&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;21937452&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é¬¼å­æ¥äº†&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291858&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å“ˆå°”çš„ç§»åŠ¨åŸå ¡&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1308807&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤©ç©ºä¹‹åŸ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291583&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤§è¯è¥¿æ¸¸ä¹‹æœˆå…‰å®ç›’&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1299398&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å“ˆåˆ©Â·æ³¢ç‰¹ä¸é­”æ³•çŸ³&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295038&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤©å ‚ç”µå½±é™¢&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291828&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç½—é©¬å‡æ—¥&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293839&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é—»é¦™è¯†å¥³äºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1298624&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æˆ‘ä¸æ˜¯è¯ç¥&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26752088&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¾©æŠ¤äºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;21937445&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æå‡»ä¿±ä¹éƒ¨&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292000&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ•™çˆ¶2&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1299131&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç½—ç”Ÿé—¨&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291879&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç»ˆç»“è€…2ï¼šå®¡åˆ¤æ—¥&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291844&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;åˆæ‹è¿™ä»¶å°äº‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4739952&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;2001å¤ªç©ºæ¼«æ¸¸&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292226&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¯å¯è¥¿é‡Œ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1308857&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é­‚æ–­è“æ¡¥&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293964&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æµ·æ´‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3443389&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;åŸå¸‚ä¹‹å…‰&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293908&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç‡ƒæƒ…å²æœˆ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295865&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç‰¯å²­è¡—å°‘å¹´æ€äººäº‹ä»¶&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292329&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è‰²ï¼Œæˆ’&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1828115&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç©¿è¶Šæ—¶ç©ºçš„å°‘å¥³&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1937946&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ–°é¾™é—¨å®¢æ ˆ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292287&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é’è›‡&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1303394&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ— è€»æ··è›‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1438652&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æºä»£ç &#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3075287&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å®Œç¾é™Œç”Ÿäºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26614893&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é—æ„¿æ¸…å•&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1867345&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é˜¿é£æ­£ä¼ &#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1305690&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å“ˆåˆ©Â·æ³¢ç‰¹ä¸ç«ç„°æ¯&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1309055&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¹å“èŠéº»å®˜&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297518&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤§ä½›æ™®æ‹‰æ–¯&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;27059130&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¡€é’»&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1428175&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è°å½±é‡é‡2&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1308767&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é¦™æ°´&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1760622&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å€Ÿä¸œè¥¿çš„å°äººé˜¿è‰åŸƒè’‚&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4202302&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å°„é›•è‹±é›„ä¼ ä¹‹ä¸œæˆè¥¿å°±&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1316510&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;èŠæ¬¡éƒçš„å¤å¤©&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293359&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¹¸ç¦ç»ˆç‚¹ç«™&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292274&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çˆ±åœ¨æ—¥è½é»„æ˜æ—¶&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291990&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ææ€–ç›´æ’­&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;21360417&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å®Œç¾çš„ä¸–ç•Œ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1300992&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;åŠŸå¤«&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291543&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;äººç”Ÿæœå®&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26874505&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç¥å·å¥¶çˆ¸&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3287562&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ€ªå…½ç”µåŠ›å…¬å¸&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291579&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç©å…·æ€»åŠ¨å‘˜3&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1858711&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤©ä¹¦å¥‡è°­&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1428581&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å‚²æ…¢ä¸åè§&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1418200&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¡€æˆ˜é’¢é”¯å²­&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26325320&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ•™çˆ¶3&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1294240&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ—¶ç©ºæ‹æ—…äºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10577869&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é£ä¹‹è°·&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291585&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å“ˆåˆ©Â·æ³¢ç‰¹ä¸é˜¿å…¹å¡ç­çš„å›šå¾’&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291544&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é‡œå±±è¡Œ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25986180&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç”µé”¯æƒŠé­‚&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1417598&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸Šå¸ä¹‹åŸ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292208&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¢«è§£æ•‘çš„å§œæˆˆ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6307447&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å“ªå’é—¹æµ·&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1307315&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å–œå®´&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1303037&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¿ çŠ¬å…«å…¬ç‰©è¯­&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1959195&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é»‘å¤©é¹…&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1978709&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤´è„‘ç‰¹å·¥é˜Ÿ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10533913&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ–°ä¸–ç•Œ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10437779&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æœªéº»çš„éƒ¨å±‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1395091&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä½ çœ‹èµ·æ¥å¥½åƒå¾ˆå¥½åƒ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4848115&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æµ·è¡—æ—¥è®°&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25895901&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ— æ•Œç ´åç‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;6534248&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é›¨äºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291870&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å†°å·æ—¶ä»£&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291578&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ‹æ‹ç¬”è®°æœ¬&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1309163&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æƒŠé­‚è®°&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293181&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;äºŒåäºŒ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26430107&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ææ€–æ¸¸è½®&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3011051&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æµ·è¾¹çš„æ›¼å½»æ–¯ç‰¹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25980443&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¥‡è¿¹ç”·å­©&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26787574&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å°å·å®¶æ—&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;27622447&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æˆ¿é—´&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25724855&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç»¿é‡Œå¥‡è¿¹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1300374&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é­”å¥³å®…æ€¥ä¾¿&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1307811&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è™å£è„±é™©&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1296909&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é›¨ä¸­æ›²&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293460&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç–¯ç‹‚çš„çŸ³å¤´&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1862151&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çˆ±åœ¨åˆå¤œé™ä¸´å‰&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10808442&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;äººå·¥æ™ºèƒ½&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1302827&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸ƒæ­¦å£«&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295399&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è‹±é›„æœ¬è‰²&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1297574&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æˆ‘æ˜¯å±±å§†&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1306861&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è°å½±é‡é‡3&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1578507&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å²æœˆç¥å·&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;3792799&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¤´å·ç©å®¶&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;4920389&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çºµæ¨ªå››æµ·&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1295409&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ç–¯ç‹‚åŸå§‹äºº&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1907966&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸€ä¸ªå«æ¬§ç»´çš„ç”·äººå†³å®šå»æ­»&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26628357&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸‰å—å¹¿å‘Šç‰Œ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26611804&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¿ƒè¿·å®«&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25917973&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å“ˆåˆ©Â·æ³¢ç‰¹ä¸å¯†å®¤&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1296996&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¾¾æ‹‰æ–¯ä¹°å®¶ä¿±ä¹éƒ¨&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1793929&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;å¢æ—ºè¾¾é¥­åº—&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291822&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä½ çš„åå­—ã€‚&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;26683290&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;èŠ±æ ·å¹´å&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1291557&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è¤ç«è™«ä¹‹å¢“&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1293318&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è®°å¿†ç¢ç‰‡&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1304447&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è’è›®æ•…äº‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;24750126&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;è´«æ°‘çªŸçš„ç™¾ä¸‡å¯Œç¿&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;2209573&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;ä¸œé‚ªè¥¿æ¯’&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292328&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çœŸçˆ±è‡³ä¸Š&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1292401&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;çˆ†è£‚é¼“æ‰‹&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;25773932&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;é»‘å®¢å¸å›½3ï¼šçŸ©é˜µé©å‘½&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;1302467&#x2F;&#39;&#125;, &#123;&#39;ç”µå½±å&#39;: &#39;æ¨¡ä»¿æ¸¸æˆ&#39;, &#39;é“¾æ¥&#39;: &#39;https:&#x2F;&#x2F;movie.douban.com&#x2F;subject&#x2F;10463953&#x2F;&#39;&#125;]</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>ä¸‹é¢æ˜¯pandasä¿å­˜çš„ç»“æœ</p>
<ul>
<li>pd.DataFrameä¼ å…¥åˆ—è¡¨ï¼Œä»¥åŠä½¿ç”¨to_excelæ–¹æ³•<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿™é‡Œå¯ä»¥ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶</span></span><br><span class="line">movie_msg = pd.DataFrame(self.save_list)</span><br><span class="line">movie_msg.to_excel(<span class="string">&#x27;douban_movies.xls&#x27;</span>)</span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200826225937056-99348771.png"></li>
</ul>
</li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202008/2134757-20200826230012751-501018639.png"></p>
<h2 id="æ€»ç»“ä¸€ä¸‹"><a href="#æ€»ç»“ä¸€ä¸‹" class="headerlink" title="æ€»ç»“ä¸€ä¸‹"></a>æ€»ç»“ä¸€ä¸‹</h2><ul>
<li><p>ç”¨urlé˜Ÿåˆ—æ—¶ï¼Œä½¿ç”¨set()é›†åˆç±»å‹ï¼Œå¯ä»¥è‡ªåŠ¨å»é‡</p>
<ul>
<li>ä½†æ˜¯è¦æ³¨æ„ï¼Œç”¨äº†setçš„è¯ï¼Œå¾—åˆ°çš„è¿™äº›å†…å®¹é¡ºåºæ˜¯ä¹±çš„ï¼Œä¸æ˜¯æŒ‰ç…§åŸæœ¬ç½‘é¡µçš„é¡ºåº</li>
<li>è¦é¡ºåºçš„è¯ï¼Œç”¨list()å°±å¯ä»¥äº†ï¼Œä½†æ˜¯è¦è®°å¾—å»é‡remove</li>
</ul>
</li>
<li><p>æ•ˆç‡è¿˜ç®—å¯ä»¥</p>
</li>
<li><p>ä¸ç”¨è¿™ä¸ªurlé˜Ÿåˆ—ä¹Ÿå¯ä»¥åšï¼Œä¸è¿‡åœ¨åˆ†é¡µæ—¶ä»£ç ä¼šå¾ˆç´¯èµ˜ï¼Œæ²¡é‚£ä¹ˆç®€æ´</p>
</li>
<li><p>åœ¨è·å–å…¶ä»–é¡µç çš„é“¾æ¥æ—¶ï¼Œæœ‰çš„å¯ä»¥ç›´æ¥ç”¨bs4ï¼Œä¸ç”¨reæ­£åˆ™è¡¨è¾¾å¼</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Scrapyç½‘ç»œçˆ¬è™«</category>
      </categories>
      <tags>
        <tag>äººå·¥æ™ºèƒ½</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonæ•°å­¦å»ºæ¨¡ç›¸å…³å®ç°</title>
    <url>/2021/01/26/PythonMathematicalModeling/</url>
    <content><![CDATA[  <meta name="referrer" content="no-referrer">  

<p>æ‘˜è¦ï¼šä½¿ç”¨Pythonå®ç°æ•°å­¦å»ºæ¨¡ä¸­çš„ä¸€äº›å¸¸è§ç®—æ³•å’Œæ±‚è§£è¿‡ç¨‹â€¦</p>
<a id="more"></a>





<h1 id="è§„åˆ’"><a href="#è§„åˆ’" class="headerlink" title="è§„åˆ’"></a>è§„åˆ’</h1><h2 id="çº¿æ€§è§„åˆ’"><a href="#çº¿æ€§è§„åˆ’" class="headerlink" title="çº¿æ€§è§„åˆ’"></a>çº¿æ€§è§„åˆ’</h2><h3 id="scipyæ±‚è§£"><a href="#scipyæ±‚è§£" class="headerlink" title="scipyæ±‚è§£"></a>scipyæ±‚è§£</h3><ul>
<li><p>éœ€è¦çŸ¥é“ç›®æ ‡å‡½æ•°(ä¸€èˆ¬æ˜¯æ±‚æœ€å¤§æˆ–è€…æœ€å°å€¼)å’Œçº¦æŸæ¡ä»¶</p>
<p>æ±‚è§£å‰è½¬åŒ–ä¸ºä¸‹é¢çš„æ ‡å‡†å½¢å¼</p>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210125160917373-302412204.png" style="zoom:80%;">



</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> optimize</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ±‚è§£å‡½æ•° </span></span><br><span class="line">res = optimize.linprog(c, A, b, Aeq, beq, LB, UB, X0, OPTIONS)</span><br><span class="line"><span class="comment"># ç›®æ ‡å‡½æ•°æœ€å°å€¼</span></span><br><span class="line">print(res.fun)</span><br><span class="line"><span class="comment"># æœ€ä¼˜è§£ </span></span><br><span class="line">print(res.x)</span><br></pre></td></tr></table></figure>
<ul>
<li>æ ‡å‡†å½¢å¼æ˜¯&lt;=ï¼Œå¦‚æœæ˜¯&gt;=ï¼Œåˆ™åœ¨ä¸¤è¾¹åŠ ä¸Šç¬¦å·-</li>
</ul>
<h4 id="ä¸¾ä¾‹1"><a href="#ä¸¾ä¾‹1" class="headerlink" title="ä¸¾ä¾‹1"></a>ä¸¾ä¾‹1</h4><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210125154651585-1863217363.png" style="zoom:80%;">

<ul>
<li><p>ä½¿ç”¨scipyæ±‚è§£zçš„æœ€å¤§å€¼</p>
<ul>
<li><p>cæ˜¯ç›®æ ‡å‡½æ•°çš„ç³»æ•°çŸ©é˜µ</p>
</li>
<li><p>Aæ˜¯åŒ–æˆæ ‡å‡†çš„&lt;=å¼å­çš„å·¦è¾¹çš„ç³»æ•°çŸ©é˜µ</p>
</li>
<li><p>Bæ˜¯åŒ–æˆæ ‡å‡†çš„&lt;=å¼å­çš„å³è¾¹çš„æ•°å€¼çŸ©é˜µ</p>
</li>
<li><p>Aeqæ˜¯æ‰€æœ‰=å·¦è¾¹çš„ç³»æ•°çŸ©é˜µï¼Œè®°å¾—é‡Œé¢æ˜¯[[]]äºŒç»´</p>
</li>
<li><p>Beqæ˜¯æ‰€æœ‰=å³è¾¹çš„æ•°å€¼çŸ©é˜µ</p>
</li>
<li><p>ä¸‹é¢ç¬¬11è¡Œ-cåŠ -ï¼Œæ˜¯å› ä¸ºæ­¤é¢˜æ±‚çš„æ˜¯æœ€å¤§å€¼ï¼Œä½†æ˜¯æ ‡å‡†æ ¼å¼æ˜¯æ±‚æœ€å°å€¼ï¼Œæ‰€ä»¥åŠ è´Ÿå·</p>
</li>
<li><p>å¦å¤–ä¸Šé¢çš„3ä¸ªå˜é‡éƒ½å¤§äº0ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨<code>bounds=(0, None)</code>,bounds=(min,max)æ˜¯èŒƒå›´ï¼ŒNoneä»£è¡¨æ— ç©·ï¼Œå¦‚æœä¸å†™boundsï¼Œé‚£é»˜è®¤æ˜¯(0, None)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">res = optimize.linprog(-c, A, B, Aeq, Beq, bounds=(<span class="number">0</span>, <span class="literal">None</span>))</span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> optimize</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¡®å®šc,A,b,Aeq,beq</span></span><br><span class="line">c = np.array([<span class="number">2</span>, <span class="number">3</span>, -<span class="number">5</span>])</span><br><span class="line">A = np.array([[-<span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>]])</span><br><span class="line">B = np.array([-<span class="number">10</span>, <span class="number">12</span>])</span><br><span class="line">Aeq = np.array([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br><span class="line">Beq = np.array([<span class="number">7</span>])</span><br><span class="line"><span class="comment"># æ±‚è§£</span></span><br><span class="line">res = optimize.linprog(-c, A, B, Aeq, Beq)</span><br><span class="line">print(res)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>res</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">     con: array([1.80713222e-09])</span><br><span class="line">     fun: -14.57142856564506</span><br><span class="line"> message: &#39;Optimization terminated successfully.&#39;</span><br><span class="line">     nit: 5</span><br><span class="line">   slack: array([-2.24583019e-10,  3.85714286e+00])</span><br><span class="line">  status: 0</span><br><span class="line"> success: True</span><br><span class="line">       x: array([6.42857143e+00, 5.71428571e-01, 2.35900788e-10])</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>

<ul>
<li>funæ˜¯ç›®æ ‡å‡½æ•°æœ€å°å€¼</li>
<li>xæ˜¯æœ€ä¼˜è§£ï¼Œå³ä¸Šé¢çš„x1,x2,x3çš„æœ€ä¼˜è§£</li>
</ul>
</li>
</ul>
<h4 id="ä¸¾ä¾‹2"><a href="#ä¸¾ä¾‹2" class="headerlink" title="ä¸¾ä¾‹2"></a>ä¸¾ä¾‹2</h4><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210125164051771-1805134741.png" style="zoom:80%;">

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> optimize</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">c = np.array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>])</span><br><span class="line">A = np.array([[-<span class="number">1</span>, -<span class="number">4</span>, -<span class="number">2</span>], [-<span class="number">3</span>, -<span class="number">2</span>, <span class="number">0</span>]])</span><br><span class="line">B = np.array([-<span class="number">8</span>, -<span class="number">6</span>])</span><br><span class="line">Aeq = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]])</span><br><span class="line">Beq = np.array([<span class="number">101</span>])</span><br><span class="line"><span class="comment"># æ±‚è§£</span></span><br><span class="line">res = optimize.linprog(-c, A, B, Aeq, Beq)</span><br><span class="line">print(res)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">con: array([3.75850107e-09])</span><br><span class="line">     fun: -201.9999999893402</span><br><span class="line"> message: &#39;Optimization terminated successfully.&#39;</span><br><span class="line">     nit: 6</span><br><span class="line">   slack: array([ 93.        , 296.99999998])</span><br><span class="line">  status: 0</span><br><span class="line"> success: True</span><br><span class="line">       x: array([1.01000000e+02, 6.13324051e-10, 3.61350245e-10])</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>


<h3 id="pulpæ±‚è§£"><a href="#pulpæ±‚è§£" class="headerlink" title="pulpæ±‚è§£"></a>pulpæ±‚è§£</h3><ul>
<li><p>ä¹Ÿå¯ä»¥ä½¿ç”¨pulpæ±‚è§£ï¼Œè§<a href="https://www.bilibili.com/video/BV12h411d7Dm?p=4">https://www.bilibili.com/video/BV12h411d7Dm?p=4</a></p>
</li>
<li><p>ä½†æ˜¯ç¨å¾®ç¹ç</p>
</li>
</ul>
<h2 id="pymprogæ±‚è§£"><a href="#pymprogæ±‚è§£" class="headerlink" title="pymprogæ±‚è§£"></a>pymprogæ±‚è§£</h2><ul>
<li><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://pymprog.sourceforge.net/">http://pymprog.sourceforge.net/</a></p>
<p><a href="http://pymprog.sourceforge.net/intro.html#whetting">http://pymprog.sourceforge.net/intro.html#whetting</a></p>
</li>
</ul>
<h4 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">maximize  15 x + 10 y         # profit</span><br><span class="line">S.T.</span><br><span class="line">             x         &lt;&#x3D;  3  # mountain bike limit</span><br><span class="line">                    y  &lt;&#x3D;  4  # racer limit</span><br><span class="line">             x +    y  &lt;&#x3D;  5  # frame limit</span><br><span class="line">             x &gt;&#x3D;0, y &gt;&#x3D;0     # non-negative</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pymprog <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    begin(<span class="string">&#x27;bike production&#x27;</span>)</span><br><span class="line">    x, y = var(<span class="string">&#x27;x, y&#x27;</span>)  <span class="comment"># variables</span></span><br><span class="line">    maximize(<span class="number">15</span> * x + <span class="number">10</span> * y, <span class="string">&#x27;profit&#x27;</span>)</span><br><span class="line">    x &lt;= <span class="number">3</span>  <span class="comment"># mountain bike limit</span></span><br><span class="line">    y &lt;= <span class="number">4</span>  <span class="comment"># racer production limit</span></span><br><span class="line">    x + y &lt;= <span class="number">5</span>  <span class="comment"># metal finishing limit</span></span><br><span class="line">    solve()</span><br><span class="line"></span><br><span class="line">    print(<span class="string">&#x27;xå–å€¼ï¼š&#x27;</span> + <span class="built_in">str</span>(x.primal))</span><br><span class="line">    print(<span class="string">&#x27;yå–å€¼ï¼š&#x27;</span> + <span class="built_in">str</span>(y.primal))</span><br><span class="line">    print(<span class="string">&#x27;æœ€ä¼˜è§£ä¸ºï¼š&#x27;</span> + <span class="built_in">str</span>(vobj()))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>res</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GLPK Simplex Optimizer, v4.65</span><br><span class="line">1 row, 2 columns, 2 non-zeros</span><br><span class="line">*     0: obj &#x3D;  -0.000000000e+00 inf &#x3D;   0.000e+00 (2)</span><br><span class="line">*     2: obj &#x3D;   6.500000000e+01 inf &#x3D;   0.000e+00 (0)</span><br><span class="line">OPTIMAL LP SOLUTION FOUND</span><br><span class="line">xå–å€¼ï¼š3.0</span><br><span class="line">yå–å€¼ï¼š2.0</span><br><span class="line">æœ€ä¼˜è§£ä¸ºï¼š65.0</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>




<h2 id="æ•´æ•°è§„åˆ’"><a href="#æ•´æ•°è§„åˆ’" class="headerlink" title="æ•´æ•°è§„åˆ’"></a>æ•´æ•°è§„åˆ’</h2><h3 id="cvxpyæ±‚è§£"><a href="#cvxpyæ±‚è§£" class="headerlink" title="cvxpyæ±‚è§£"></a>cvxpyæ±‚è§£</h3><ul>
<li><p>å’Œçº¿æ€§è§„åˆ’å·®ä¸å¤šï¼Œä½†æ˜¯å¤šäº†ä¸ªçº¦æŸï¼Œé‚£å°±æ˜¯éƒ¨åˆ†å˜é‡è¢«çº¦æŸä¸ºæ•´æ•°</p>
</li>
<li><p>ç›®å‰æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥æœ‰æ•ˆåœ°æ±‚è§£ä¸€åˆ‡æ•´æ•°è§„åˆ’ã€‚å¸¸è§çš„æ•´æ•°è§„åˆ’æ±‚è§£ç®—æ³•æœ‰ï¼š</p>
<ul>
<li>åˆ†æ”¯å®šç•Œæ³•ï¼šå¯æ±‚çº¯æˆ–æ··åˆæ•´æ•°çº¿æ€§è§„åˆ’ï¼›</li>
<li>å‰²å¹³é¢æ³•ï¼šå¯æ±‚çº¯æˆ–æ··åˆæ•´æ•°çº¿æ€§è§„åˆ’ï¼›</li>
<li>éšæšä¸¾æ³•ï¼šç”¨äºæ±‚è§£0-1æ•´æ•°è§„åˆ’ï¼Œæœ‰è¿‡æ»¤éšæšä¸¾æ³•å’Œåˆ†æ”¯éšæšä¸¾æ³•ï¼›</li>
<li>åŒˆç‰™åˆ©æ³•ï¼šè§£å†³æŒ‡æ´¾é—®é¢˜ï¼ˆ0-1è§„åˆ’ç‰¹æ®Šæƒ…å½¢ï¼‰ï¼›</li>
<li>Monte Carloæ³•ï¼šæ±‚è§£å„ç§ç±»å‹è§„åˆ’ã€‚</li>
</ul>
</li>
</ul>
<h4 id="ä¸¾ä¾‹1-1"><a href="#ä¸¾ä¾‹1-1" class="headerlink" title="ä¸¾ä¾‹1"></a>ä¸¾ä¾‹1</h4><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210125190009985-419409110.png" style="zoom:80%;">

<ul>
<li>åŒç†ä¹Ÿæ˜¯åŒ–æˆ&lt;=çš„æ ‡å‡†å½¢å¼</li>
<li>è¿™é‡Œçš„æ”¹åŠ¨åªéœ€è¦æˆ‘ä»¬è¾“å…¥n,a,b,cï¼Œä»¥åŠç¬¬10è¡Œçš„å°æ”¹åŠ¨ï¼Œn,a,b,cå«ä¹‰å’Œä¸Šé¢çº¿æ€§è§„åˆ’ä¸€æ ·ï¼Œå¦‚æœæœ‰Aeqå’ŒBeqä¹Ÿæ˜¯åŒç†ï¼ŒåŠ ä¸Šå³å¯ï¼Œç„¶åæ”¾è¿›cons(ä¸‹é¢ç¬¬11è¡Œ)é‡Œé¢</li>
<li>å¦‚æœæ˜¯æ±‚æœ€å¤§ï¼Œç¬¬10è¡Œç”¨cp.Maximize</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cvxpy <span class="keyword">as</span> cp</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> array</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n = <span class="number">2</span>  <span class="comment"># ä¸¤ä¸ªå˜é‡</span></span><br><span class="line">    c = array([<span class="number">40</span>, <span class="number">90</span>])  <span class="comment"># å®šä¹‰ç›®æ ‡å‘é‡</span></span><br><span class="line">    a = array([[<span class="number">9</span>, <span class="number">7</span>], [-<span class="number">7</span>, -<span class="number">20</span>]])  <span class="comment"># å®šä¹‰çº¦æŸçŸ©é˜µ</span></span><br><span class="line">    b = array([<span class="number">56</span>, -<span class="number">70</span>])  <span class="comment"># å®šä¹‰çº¦æŸæ¡ä»¶çš„å³è¾¹å‘é‡</span></span><br><span class="line">    x = cp.Variable(n, integer=<span class="literal">True</span>)  <span class="comment"># å®šä¹‰ä¸¤ä¸ªæ•´æ•°å†³ç­–å˜é‡</span></span><br><span class="line">    obj = cp.Minimize(c * x)  <span class="comment"># æ„é€ ç›®æ ‡å‡½æ•°</span></span><br><span class="line">    cons = [a * x &lt;= b, x &gt;= <span class="number">0</span>]  <span class="comment"># æ„é€ çº¦æŸæ¡ä»¶</span></span><br><span class="line">    prob = cp.Problem(obj, cons)  <span class="comment"># æ„å»ºé—®é¢˜æ¨¡å‹</span></span><br><span class="line">    prob.solve(solver=<span class="string">&#x27;GLPK_MI&#x27;</span>, verbose=<span class="literal">True</span>)  <span class="comment"># æ±‚è§£é—®é¢˜</span></span><br><span class="line">    <span class="comment"># prob.solve(solver=cp.CPLEX, verbose=True)  # cp.CPLEXä¹Ÿå¯ä»¥</span></span><br><span class="line">    print(<span class="string">&quot;æœ€ä¼˜å€¼ä¸º:&quot;</span>, prob.value)</span><br><span class="line">    print(<span class="string">&quot;æœ€ä¼˜è§£ä¸º:&quot;</span>, x.value)</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œç»“æœä¼šæœ‰è­¦å‘Šï¼Œä½†æ˜¯ä¸å½±å“ç»“æœ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">      0: obj &#x3D;   2.700000000e+02 inf &#x3D;   6.250e-01 (1)</span><br><span class="line">      1: obj &#x3D;   3.150000000e+02 inf &#x3D;   0.000e+00 (0)</span><br><span class="line">Long-step dual simplex will be used</span><br><span class="line">+     1: mip &#x3D;     not found yet &gt;&#x3D;              -inf        (1; 0)</span><br><span class="line">Solution found by heuristic: 360</span><br><span class="line">+     2: &gt;&gt;&gt;&gt;&gt;   3.500000000e+02 &gt;&#x3D;   3.500000000e+02   0.0% (1; 0)</span><br><span class="line">+     2: mip &#x3D;   3.500000000e+02 &gt;&#x3D;     tree is empty   0.0% (0; 1)</span><br><span class="line">æœ€ä¼˜å€¼ä¸º: 350.0</span><br><span class="line">æœ€ä¼˜è§£ä¸º: [2. 3.]</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<ul>
<li>å‚è€ƒï¼š<a href="https://zhuanlan.zhihu.com/p/344215929">https://zhuanlan.zhihu.com/p/344215929</a></li>
</ul>
<h2 id="éçº¿æ€§è§„åˆ’"><a href="#éçº¿æ€§è§„åˆ’" class="headerlink" title="éçº¿æ€§è§„åˆ’"></a>éçº¿æ€§è§„åˆ’</h2><ul>
<li><p>éçº¿æ€§è§„åˆ’å¯åˆ†ä¸ºä¸¤ç§ï¼Œç›®æ ‡å‡½æ•°æ˜¯å‡¸å‡½æ•°æˆ–è€…æ˜¯éå‡¸å‡½æ•°</p>
<ul>
<li><p>å‡¸å‡½æ•°çš„éçº¿æ€§è§„åˆ’ï¼šå¦‚f = x^2+y^2+x*yï¼Œå¯ä»¥ä½¿ç”¨scipy</p>
</li>
<li><p>éå‡¸å‡½æ•°çš„éçº¿æ€§è§„åˆ’ï¼šå¦‚æ±‚æå€¼ï¼Œå¯ä»¥æœ‰å¦‚ä¸‹æ–¹æ³•</p>
<ul>
<li><p>çº¯æ•°å­¦æ–¹æ³•ï¼Œæ±‚å¯¼æ±‚æå€¼</p>
</li>
<li><p>ç¥ç»ç½‘ç»œï¼Œæ·±åº¦å­¦ä¹ (bpç®—æ³•é“¾å¼æ±‚å¯¼)</p>
</li>
<li><p>scipy.optimize.minimize</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">funï¼šæ±‚æœ€å°å€¼çš„ç›®æ ‡å‡½æ•°</span><br><span class="line">argsï¼šå¸¸æ•°å€¼</span><br><span class="line">methodï¼šæ±‚æå€¼æ–¹æ³•ï¼Œä¸€èˆ¬é»˜è®¤ã€‚</span><br><span class="line">constraintsï¼šçº¦æŸæ¡ä»¶</span><br><span class="line">x0ï¼šå˜é‡çš„åˆå§‹çŒœæµ‹å€¼ï¼Œæ³¨æ„ minimizeæ˜¯å±€éƒ¨æœ€ä¼˜</span><br></pre></td></tr></table></figure>
<h4 id="ä¸¾ä¾‹-1"><a href="#ä¸¾ä¾‹-1" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4></li>
</ul>
</li>
</ul>
</li>
<li><p>è®¡ç®—1/x+xçš„æœ€å°å€¼</p>
<ul>
<li>åªéœ€è¦æ”¹12è¡Œçš„ç³»æ•°ï¼Œ15è¡Œçš„åˆå§‹çŒœæµ‹å€¼ï¼Œå’Œ8è¡Œçš„å‡½æ•°</li>
<li>å¦‚æœç»“æœæ˜¯Trueï¼Œåˆ™æ˜¯æ‰¾åˆ°å±€éƒ¨æœ€ä¼˜è§£ï¼Œè‹¥æ˜¯Falseï¼Œåˆ™ç»“æœæ˜¯é”™è¯¯çš„</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> minimize</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># f = 1/x+x</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>(<span class="params">args</span>):</span></span><br><span class="line">    a = args</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x: a / x[<span class="number">0</span>] + x[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    args = (<span class="number">1</span>)  <span class="comment"># a</span></span><br><span class="line">    <span class="comment"># x0 = np.asarray((1.5))  # åˆå§‹çŒœæµ‹å€¼</span></span><br><span class="line">    <span class="comment"># x0 = np.asarray((2.2))  # åˆå§‹çŒœæµ‹å€¼</span></span><br><span class="line">    x0 = np.asarray((<span class="number">2</span>))  <span class="comment"># è®¾ç½®åˆå§‹çŒœæµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">    res = minimize(fun(args), x0, method=<span class="string">&#x27;SLSQP&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;æœ€å€¼:&#x27;</span>, res.fun)</span><br><span class="line">    print(<span class="string">&#x27;æ˜¯å¦æ˜¯æœ€ä¼˜è§£&#x27;</span>, res.success)</span><br><span class="line">    print(<span class="string">&#x27;å–åˆ°æœ€å€¼æ—¶ï¼Œxçš„å€¼(æœ€ä¼˜è§£)æ˜¯&#x27;</span>, res.x)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æœ€å€¼: 2.00000007583235</span><br><span class="line">æ˜¯å¦æ˜¯æœ€ä¼˜è§£ True</span><br><span class="line">å–åˆ°æœ€å€¼æ—¶ï¼Œxçš„å€¼(æœ€ä¼˜è§£)æ˜¯ [1.00027541]</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>




</li>
</ul>
<h4 id="ä¸¾ä¾‹2-1"><a href="#ä¸¾ä¾‹2-1" class="headerlink" title="ä¸¾ä¾‹2"></a>ä¸¾ä¾‹2</h4><ul>
<li><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210125205945946-1572918851.png" style="zoom:67%;">
</li>
<li><p>x1,x2,x3çš„èŒƒå›´éƒ½åœ¨0.1åˆ°0.9 ä¹‹é—´</p>
</li>
<li><p>xæ˜¯å˜é‡çŸ©é˜µï¼Œå¦‚x[0]å³ä¸ºx1</p>
</li>
<li><p>éœ€è¦å˜åŠ¨çš„æ˜¯å‡½æ•°funï¼Œcon,27,29,32è¡Œï¼Œx0çš„è®¾ç½®è¦å°½åœ¨è¦æ±‚çš„0.1åˆ°0.9èŒƒå›´å†…</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> minimize</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—(2+x1)/(1+x2)- 3*x1+4*x3</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>(<span class="params">args</span>):</span></span><br><span class="line">    a, b, c, d = args</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x: (a + x[<span class="number">0</span>]) / (b + x[<span class="number">1</span>]) - c * x[<span class="number">0</span>] + d * x[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">con</span>(<span class="params">args</span>):</span></span><br><span class="line">    <span class="comment"># çº¦æŸæ¡ä»¶ åˆ†ä¸ºeq å’Œineq</span></span><br><span class="line">    <span class="comment"># eqè¡¨ç¤º å‡½æ•°ç»“æœç­‰äº0</span></span><br><span class="line">    <span class="comment"># ineq è¡¨ç¤º è¡¨è¾¾å¼å¤§äºç­‰äº0</span></span><br><span class="line">    x1min, x1max, x2min, x2max, x3min, x3max = args</span><br><span class="line">    cons = (&#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;ineq&#x27;</span>, <span class="string">&#x27;fun&#x27;</span>: <span class="keyword">lambda</span> x: x[<span class="number">0</span>] - x1min&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;ineq&#x27;</span>, <span class="string">&#x27;fun&#x27;</span>: <span class="keyword">lambda</span> x: -x[<span class="number">0</span>] + x1max&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;ineq&#x27;</span>, <span class="string">&#x27;fun&#x27;</span>: <span class="keyword">lambda</span> x: x[<span class="number">1</span>] - x2min&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;ineq&#x27;</span>, <span class="string">&#x27;fun&#x27;</span>: <span class="keyword">lambda</span> x: -x[<span class="number">1</span>] + x2max&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;ineq&#x27;</span>, <span class="string">&#x27;fun&#x27;</span>: <span class="keyword">lambda</span> x: x[<span class="number">2</span>] - x3min&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;ineq&#x27;</span>, <span class="string">&#x27;fun&#x27;</span>: <span class="keyword">lambda</span> x: -x[<span class="number">2</span>] + x3max&#125;)</span><br><span class="line">    <span class="keyword">return</span> cons</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># å®šä¹‰å¸¸é‡å€¼</span></span><br><span class="line">    args = (<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>)  <span class="comment"># a,b,c,d</span></span><br><span class="line">    <span class="comment"># è®¾ç½®å‚æ•°èŒƒå›´/çº¦æŸæ¡ä»¶</span></span><br><span class="line">    args1 = (<span class="number">0.1</span>, <span class="number">0.9</span>, <span class="number">0.1</span>, <span class="number">0.9</span>, <span class="number">0.1</span>, <span class="number">0.9</span>)  <span class="comment"># x1min, x1max, x2min,x2max</span></span><br><span class="line">    cons = con(args1)</span><br><span class="line">    <span class="comment"># è®¾ç½®åˆå§‹çŒœæµ‹å€¼</span></span><br><span class="line">    x0 = np.asarray((<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>))</span><br><span class="line">    res = minimize(fun(args), x0, method=<span class="string">&#x27;SLSQP&#x27;</span>, constraints=cons)</span><br><span class="line">    print(<span class="string">&#x27;æœ€å€¼:&#x27;</span>, res.fun)</span><br><span class="line">    print(<span class="string">&#x27;æ˜¯å¦æ˜¯æœ€ä¼˜è§£&#x27;</span>, res.success)</span><br><span class="line">    print(<span class="string">&#x27;å–åˆ°æœ€å€¼æ—¶ï¼Œxçš„å€¼(æœ€ä¼˜è§£)æ˜¯&#x27;</span>, res.x)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æœ€å€¼: -0.773684210526435</span><br><span class="line">æ˜¯å¦æ˜¯æœ€ä¼˜è§£ True</span><br><span class="line">å–åˆ°æœ€å€¼æ—¶ï¼Œxçš„å€¼(æœ€ä¼˜è§£)æ˜¯ [0.9 0.9 0.1]</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li>
<li><p>å¯ä»¥çœ‹å‡ºå¯¹äºè¿™ç±»ç®€å•å‡½æ•°ï¼Œå±€éƒ¨æœ€ä¼˜è§£ä¸çœŸå®æœ€ä¼˜è§£ç›¸å·®ä¸å¤§ï¼Œä½†æ˜¯å¯¹äºå¤æ‚çš„å‡½æ•°ï¼Œx0çš„åˆå§‹å€¼è®¾ç½®ï¼Œä¼šå¾ˆå¤§ç¨‹åº¦å½±å“æœ€ä¼˜è§£çš„ç»“æœ</p>
</li>
</ul>
<h1 id="æ•°å€¼é€¼è¿‘"><a href="#æ•°å€¼é€¼è¿‘" class="headerlink" title="æ•°å€¼é€¼è¿‘"></a>æ•°å€¼é€¼è¿‘</h1><h2 id="ä¸€ç»´å’ŒäºŒç»´æ’å€¼"><a href="#ä¸€ç»´å’ŒäºŒç»´æ’å€¼" class="headerlink" title="ä¸€ç»´å’ŒäºŒç»´æ’å€¼"></a>ä¸€ç»´å’ŒäºŒç»´æ’å€¼</h2><ul>
<li>å‚è€ƒ<a href="https://www.bilibili.com/video/BV12h411d7Dm?p=5">https://www.bilibili.com/video/BV12h411d7Dm?p=5</a></li>
<li>éƒ½ä½¿å¾—å›¾åƒæ›´åŠ å…‰æ»‘</li>
</ul>
<h2 id="æœ€å°äºŒä¹˜æ³•æ‹Ÿåˆ"><a href="#æœ€å°äºŒä¹˜æ³•æ‹Ÿåˆ" class="headerlink" title="æœ€å°äºŒä¹˜æ³•æ‹Ÿåˆ"></a>æœ€å°äºŒä¹˜æ³•æ‹Ÿåˆ</h2><ul>
<li><p>ç”¨çš„æ˜¯</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> leastsq</span><br></pre></td></tr></table></figure>
<h4 id="ä¸¾ä¾‹-2"><a href="#ä¸¾ä¾‹-2" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4></li>
<li><p>ä¸€ç»„æ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">X &#x3D; np.array([8.19, 2.72, 6.39, 8.71, 4.7, 2.66, 3.78])</span><br><span class="line">Y &#x3D; np.array([7.01, 2.78, 6.47, 6.71, 4.1, 4.23, 4.05])</span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨leastsq</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> leastsq</span><br><span class="line"><span class="keyword">from</span> pylab <span class="keyword">import</span> mpl</span><br><span class="line"></span><br><span class="line">mpl.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;Microsoft YaHei&#x27;</span>]  <span class="comment"># æŒ‡å®šé»˜è®¤å­—ä½“</span></span><br><span class="line">mpl.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span>  <span class="comment"># è§£å†³ä¿å­˜å›¾åƒæ˜¯è´Ÿå·&#x27;-&#x27;æ˜¾ç¤ºä¸ºæ–¹å—çš„é—®é¢˜</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—ä»¥pä¸ºå‚æ•°çš„ç›´çº¿ä¸åŸå§‹æ•°æ®ä¹‹é—´è¯¯å·®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">p</span>):</span></span><br><span class="line">    k, b = p</span><br><span class="line">    <span class="keyword">return</span> Y - (k * X + b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    X = np.array([<span class="number">8.19</span>, <span class="number">2.72</span>, <span class="number">6.39</span>, <span class="number">8.71</span>, <span class="number">4.7</span>, <span class="number">2.66</span>, <span class="number">3.78</span>])</span><br><span class="line">    Y = np.array([<span class="number">7.01</span>, <span class="number">2.78</span>, <span class="number">6.47</span>, <span class="number">6.71</span>, <span class="number">4.1</span>, <span class="number">4.23</span>, <span class="number">4.05</span>])</span><br><span class="line">    <span class="comment"># leastsqä½¿å¾—fçš„è¾“å‡ºæ•°ç»„çš„å¹³æ–¹å’Œæœ€å°ï¼Œå‚æ•°åˆå§‹å€¼ä¸º[1,0]</span></span><br><span class="line">    r = leastsq(f, [<span class="number">1</span>, <span class="number">0</span>])  <span class="comment"># æ•°åˆå§‹å€¼å¯ä»¥éšä¾¿è®¾ä¸ªåˆç†çš„</span></span><br><span class="line">    k, b = r[<span class="number">0</span>]</span><br><span class="line">    x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</span><br><span class="line">    y = k * x + b</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”»æ•£ç‚¹å›¾ï¼Œsæ˜¯ç‚¹çš„å¤§å°</span></span><br><span class="line">    plt.scatter(X, Y, s=<span class="number">100</span>, alpha=<span class="number">1.0</span>, marker=<span class="string">&#x27;o&#x27;</span>, label=<span class="string">u&#x27;æ•°æ®ç‚¹&#x27;</span>)</span><br><span class="line">    <span class="comment"># è¯æ‹Ÿåˆæ›²çº¿ï¼Œlinewidthæ˜¯çº¿å®½</span></span><br><span class="line">    plt.plot(x, y, color=<span class="string">&#x27;r&#x27;</span>, linewidth=<span class="number">2</span>, linestyle=<span class="string">&quot;-&quot;</span>, markersize=<span class="number">20</span>, label=<span class="string">u&#x27;æ‹Ÿåˆæ›²çº¿&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;å®‰åŸ¹/A&#x27;</span>)  <span class="comment"># ç¾èµ›å°±ä¸ç”¨ä¸­æ–‡äº†</span></span><br><span class="line">    plt.ylabel(<span class="string">&#x27;ä¼ç‰¹/V&#x27;</span>)</span><br><span class="line">    plt.legend(loc=<span class="number">0</span>, numpoints=<span class="number">1</span>)  <span class="comment"># æ˜¾ç¤ºç‚¹å’Œçº¿çš„è¯´æ˜</span></span><br><span class="line">    <span class="comment"># plt.plot(X, Y)</span></span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    print(<span class="string">&#x27;k = &#x27;</span>, k)</span><br><span class="line">    print(<span class="string">&#x27;b = &#x27;</span>, b)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">k &#x3D;  0.6134953491930442</span><br><span class="line">b &#x3D;  1.794092543259387</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210125231930793-2082702774.png" style="zoom:67%;">

<ul>
<li><p>å¦å¤–ï¼Œè¿™ä¸ªçº¿æ€§æ‹Ÿåˆä¹Ÿå¯ä»¥ä½¿ç”¨sklearnæ±‚kå’Œbï¼Œå†å»ç”»å›¾</p>
<ul>
<li>æ³¨æ„ç»´åº¦è½¬æ¢X = X.reshape(-1, 1)</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    X = np.array([<span class="number">8.19</span>, <span class="number">2.72</span>, <span class="number">6.39</span>, <span class="number">8.71</span>, <span class="number">4.7</span>, <span class="number">2.66</span>, <span class="number">3.78</span>])</span><br><span class="line">    Y = np.array([<span class="number">7.01</span>, <span class="number">2.78</span>, <span class="number">6.47</span>, <span class="number">6.71</span>, <span class="number">4.1</span>, <span class="number">4.23</span>, <span class="number">4.05</span>])</span><br><span class="line">    X = X.reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">    model = linear_model.LinearRegression()</span><br><span class="line">    model.fit(X, Y)</span><br><span class="line">    print(<span class="string">&#x27;k = &#x27;</span>, model.coef_)</span><br><span class="line">    print(<span class="string">&#x27;b = &#x27;</span>, model.intercept_)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">k &#x3D;  [0.61349535]</span><br><span class="line">b &#x3D;  1.7940925542916233</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li>
<li><p>æ›´å¤šçº¿æ€§å’Œéçº¿æ€§é—®é¢˜ã€å¦‚å¤šå…ƒå›å½’ã€é€»è¾‘å›å½’ã€å…¶ä»–åˆ†ç±»é—®é¢˜ï¼Œè§æˆ‘ä¹‹å‰çš„sklearn blog</p>
</li>
</ul>
<h1 id="å¾®åˆ†æ–¹ç¨‹"><a href="#å¾®åˆ†æ–¹ç¨‹" class="headerlink" title="å¾®åˆ†æ–¹ç¨‹"></a>å¾®åˆ†æ–¹ç¨‹</h1><ul>
<li><p>å¾®åˆ†æ–¹ç¨‹æ˜¯ç”¨æ¥æè¿°æŸä¸€ç±»å‡½æ•°ä¸å…¶å¯¼æ•°ä¹‹é—´å…³ç³»çš„æ–¹ç¨‹ï¼Œå…¶è§£æ˜¯ä¸€ä¸ªç¬¦åˆæ–¹ç¨‹çš„å‡½æ•°ã€‚å¾®åˆ†æ–¹ç¨‹æŒ‰è‡ªå˜é‡ä¸ªæ•°å¯åˆ†ä¸º <strong>å¸¸å¾®åˆ†æ–¹ç¨‹</strong>å’Œ<strong>åå¾®åˆ†æ–¹ç¨‹</strong>ï¼Œ</p>
<p>å‰è€…è¡¨è¾¾é€šå¼ ï¼š<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210125234039695-755335755.png" style="zoom:50%;"></p>
<p>åè€…è¡¨è¾¾é€šå¼ï¼š<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210125234109978-1913319984.png" style="zoom:67%;"></p>
</li>
<li><p>å»ºè®®ç¨å¾®å¤ä¹ ä¸€ä¸‹é«˜æ•°ä¸Šå†Œæœ€åå¾®åˆ†æ–¹ç¨‹é‚£ç« å†çœ‹çœ‹ä¼šæ›´å¥½</p>
</li>
</ul>
<h2 id="è§£æè§£"><a href="#è§£æè§£" class="headerlink" title="è§£æè§£"></a>è§£æè§£</h2><ul>
<li><p>ä½¿ç”¨sympyåº“ï¼Œä½†æ˜¯å¾—åˆ°çš„æ˜¯å­—ç¬¦å½¢å¼çš„æ ¼å¼</p>
<p>å¦‚ä¸‹è¿™ç§,å¦‚æœç»“æœæ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¯èƒ½å¤ªä¸‘</p>
<p>å¦‚ <img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126000059946-133280703.png" style="zoom: 50%;"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sympy</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">apply_ics</span>(<span class="params">sol, ics, x, known_params</span>):</span></span><br><span class="line">    free_params = sol.free_symbols - <span class="built_in">set</span>(known_params)</span><br><span class="line">    eqs = [(sol.lhs.diff(x, n) - sol.rhs.diff(x, n)).subs(x, <span class="number">0</span>).subs(ics) <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ics))]</span><br><span class="line">    sol_params = sympy.solve(eqs, free_params)</span><br><span class="line">    <span class="keyword">return</span> sol.subs(sol_params)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    sympy.init_printing()  <span class="comment"># åˆå§‹åŒ–æ‰“å°ç¯å¢ƒ</span></span><br><span class="line">    t, omega0, gamma = sympy.symbols(<span class="string">&quot;t, omega_0, gamma&quot;</span>, positive=<span class="literal">True</span>)  <span class="comment"># æ ‡è®°å‚æ•°ï¼Œä¸”å‡ä¸ºæ­£</span></span><br><span class="line">    x = sympy.Function(<span class="string">&#x27;x&#x27;</span>)  <span class="comment"># æ ‡è®°xæ˜¯å¾®åˆ†å‡½æ•°ï¼Œéå˜é‡</span></span><br><span class="line">    ode = x(t).diff(t, <span class="number">2</span>) + <span class="number">2</span> * gamma * omega0 * x(t).diff(t) + omega0 ** <span class="number">2</span> * x(t)</span><br><span class="line">    ode_sol = sympy.dsolve(ode)  <span class="comment"># ç”¨diff()å’Œdsolveå¾—åˆ°é€šè§£</span></span><br><span class="line">    ics = &#123;x(<span class="number">0</span>): <span class="number">1</span>, x(t).diff(t).subs(t, <span class="number">0</span>): <span class="number">0</span>&#125;  <span class="comment"># å°†åˆå§‹æ¡ä»¶å­—å…¸åŒ¹é…</span></span><br><span class="line">    x_t_sol = apply_ics(ode_sol, ics, t, [omega0, gamma])</span><br><span class="line">    sympy.pprint(x_t_sol)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>æ­¤æ®µè§£é‡Šå¯è§ï¼š<a href="https://www.bilibili.com/video/BV12h411d7Dm?p=6">https://www.bilibili.com/video/BV12h411d7Dm?p=6</a></li>
</ul>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210125235722095-422250700.png" style="zoom:80%;">

<ul>
<li><p>å¦‚æœæœ€ååŠ ä¸Š<code>print(x_t_sol)</code></p>
<p>ç»“æœä¸ºï¼š</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Eq(x(t), (-gamma&#x2F;(2*sqrt(gamma**2 - 1)) + 1&#x2F;2)*exp(omega_0*t*(-gamma - sqrt(gamma - 1)*sqrt(gamma + 1))) + (gamma&#x2F;(2*sqrt(gamma**2 - 1)) + 1&#x2F;2)*exp(omega_0*t*(-gamma + sqrt(gamma - 1)*sqrt(gamma + 1))))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
<li><p>ç»“æœè¾ƒä¸ºç®€å•çš„å¸¸å¾®åˆ†æ–¹ç¨‹</p>
<ul>
<li>f(x)â€™â€™+f(x)=0 äºŒé˜¶å¸¸ç³»æ•°é½æ¬¡å¾®åˆ†æ–¹ç¨‹</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sympy <span class="keyword">as</span> sy</span><br><span class="line"></span><br><span class="line"><span class="comment"># f(x)&#x27;&#x27;+f(x)=0 äºŒé˜¶å¸¸ç³»æ•°é½æ¬¡å¾®åˆ†æ–¹ç¨‹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">differential_equation</span>(<span class="params">x, f</span>):</span></span><br><span class="line">    <span class="keyword">return</span> sy.diff(f(x), x, <span class="number">2</span>) + f(x)  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    x = sy.symbols(<span class="string">&#x27;x&#x27;</span>)  <span class="comment"># çº¦å®šå˜é‡</span></span><br><span class="line">    f = sy.Function(<span class="string">&#x27;f&#x27;</span>)  <span class="comment"># çº¦å®šå‡½æ•°</span></span><br><span class="line">    print(sy.dsolve(differential_equation(x, f), f(x)))  <span class="comment"># æ‰“å°</span></span><br><span class="line">    sy.pprint(sy.dsolve(differential_equation(x, f), f(x)))  <span class="comment"># æ¼‚äº®çš„æ‰“å°</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Eq(f(x), C1*sin(x) + C2*cos(x))</span><br><span class="line">f(x) &#x3D; Câ‚â‹…sin(x) + Câ‚‚â‹…cos(x)</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li>
<li><p>å¯ä»¥å‚è€ƒï¼š<a href="https://blog.csdn.net/your_answer/article/details/79234275">https://blog.csdn.net/your_answer/article/details/79234275</a></p>
</li>
</ul>
<h2 id="æ•°å€¼è§£"><a href="#æ•°å€¼è§£" class="headerlink" title="æ•°å€¼è§£"></a>æ•°å€¼è§£</h2><ul>
<li>å½“ODE(å¸¸å¾®åˆ†æ–¹ç¨‹)æ— æ³•æ±‚å¾—è§£æè§£æ—¶ï¼Œå¯ä»¥ç”¨scipyä¸­çš„integrate.odeintæ±‚æ•°å€¼è§£æ¥æ¢ç´¢å…¶è§£çš„éƒ¨åˆ†æ€§è´¨,å¹¶è¾…ä»¥å¯è§†åŒ–ï¼Œèƒ½ç›´è§‚åœ°å±•ç°ODEè§£çš„å‡½æ•°è¡¨è¾¾</li>
</ul>
<h4 id="ä¸¾ä¾‹-3"><a href="#ä¸¾ä¾‹-3" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4><ul>
<li><p>ä¸€é˜¶éçº¿æ€§å¸¸å¾®åˆ†æ–¹ç¨‹ <img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126001647795-11891498.png" style="zoom:50%;"></p>
</li>
<li><p>plot_direction_fieldå‡½æ•°é‡Œé¢çš„å‚æ•°æ„ä¹‰ï¼š</p>
<ul>
<li>y_x:ä¹Ÿå°±æ˜¯y(x)</li>
<li>f_xy:ä¹Ÿå°±æ˜¯x-y(x)^2</li>
<li>x_lim=(-5, 5), y_lim=(-5, 5)ä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªxï¼Œyè½´çš„èŒƒå›´å±•ç¤ºå‡ºæ¥</li>
</ul>
</li>
<li><p>å…³é”®éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†,29-31è¡Œï¼Œ33è¡Œçš„y0éœ€è¦é€‚å½“è°ƒ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = sympy.symbols(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">y = sympy.Function(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">f = x - y(x) ** <span class="number">2</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> integrate</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> sympy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_direction_field</span>(<span class="params">x, y_x, f_xy, x_lim=(<span class="params">-<span class="number">5</span>, <span class="number">5</span></span>), y_lim=(<span class="params">-<span class="number">5</span>, <span class="number">5</span></span>), ax=<span class="literal">None</span></span>):</span></span><br><span class="line">    f_np = sympy.lambdify((x, y_x), f_xy, <span class="string">&#x27;numpy&#x27;</span>)</span><br><span class="line">    x_vec = np.linspace(x_lim[<span class="number">0</span>], x_lim[<span class="number">1</span>], <span class="number">20</span>)</span><br><span class="line">    y_vec = np.linspace(y_lim[<span class="number">0</span>], y_lim[<span class="number">1</span>], <span class="number">20</span>)</span><br><span class="line">    <span class="keyword">if</span> ax <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        _, ax = plt.subplots(figsize=(<span class="number">4</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">    dx = x_vec[<span class="number">1</span>] - x_vec[<span class="number">0</span>]</span><br><span class="line">    dy = y_vec[<span class="number">1</span>] - y_vec[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> m, xx <span class="keyword">in</span> <span class="built_in">enumerate</span>(x_vec):</span><br><span class="line">        <span class="keyword">for</span> n, yy <span class="keyword">in</span> <span class="built_in">enumerate</span>(y_vec):</span><br><span class="line">            Dy = f_np(xx, yy) * dx</span><br><span class="line">            Dx = <span class="number">0.8</span> * dx ** <span class="number">2</span> / np.sqrt(dx ** <span class="number">2</span> + Dy ** <span class="number">2</span>)</span><br><span class="line">            Dy = <span class="number">0.8</span> * Dy * dy / np.sqrt(dx ** <span class="number">2</span> + Dy ** <span class="number">2</span>)</span><br><span class="line">            ax.plot([xx - Dx / <span class="number">2</span>, xx + Dx / <span class="number">2</span>], [yy - Dy / <span class="number">2</span>, yy + Dy / <span class="number">2</span>], <span class="string">&#x27;b&#x27;</span>, lw=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">    ax.axis(<span class="string">&#x27;tight&#x27;</span>)</span><br><span class="line">    ax.set_title(<span class="string">r&#x27;$ % s$&#x27;</span> % (sympy.latex(sympy.Eq(y_x.diff(x), f_xy))), fontsize=<span class="number">18</span>)</span><br><span class="line">    <span class="keyword">return</span> ax</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    x = sympy.symbols(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    y = sympy.Function(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">    f = x - y(x) ** <span class="number">2</span></span><br><span class="line">    f_np = sympy.lambdify((y(x), x), f)  <span class="comment"># ç¬¦å·è¡¨è¾¾å¼è½¬éšå‡½æ•°</span></span><br><span class="line">    y0 = <span class="number">1</span> <span class="comment"># odeintéœ€è¦ç»™ä¸ªåˆå§‹å€¼</span></span><br><span class="line">    xp = np.linspace(<span class="number">0</span>, <span class="number">5</span>, <span class="number">100</span>)</span><br><span class="line">    yp = integrate.odeint(f_np, y0, xp)  <span class="comment"># åˆå§‹y0è§£f_np,xèŒƒå›´xp</span></span><br><span class="line">    xn = np.linspace(<span class="number">0</span>, -<span class="number">5</span>, <span class="number">100</span>)</span><br><span class="line">    yn = integrate.odeint(f_np, y0, xp)</span><br><span class="line">    fig, ax = plt.subplots(<span class="number">1</span>, <span class="number">1</span>, figsize=(<span class="number">4</span>, <span class="number">4</span>))</span><br><span class="line">    plot_direction_field(x, y(x), f, ax=ax)  <span class="comment"># ç»˜åˆ¶fçš„åœºçº¿å›¾</span></span><br><span class="line">    ax.plot(xn, yn, <span class="string">&#x27;b&#x27;</span>, lw=<span class="number">2</span>)</span><br><span class="line">    ax.plot(xp, yp, <span class="string">&#x27;r&#x27;</span>, lw=<span class="number">2</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126004745972-533198965.png" style="zoom:67%;">



<h2 id="ä¼ æŸ“ç—…æ¨¡å‹"><a href="#ä¼ æŸ“ç—…æ¨¡å‹" class="headerlink" title="ä¼ æŸ“ç—…æ¨¡å‹"></a>ä¼ æŸ“ç—…æ¨¡å‹</h2><ul>
<li><p>ä¼ æŸ“ç—…æ¨¡å‹ç ”ç©¶å±äºä¼ æŸ“ç—…åŠ¨åŠ›å­¦ç ”ç©¶æ–¹å‘ï¼Œè¿™é‡Œåªæ˜¯å°†æ¨¡å‹ä¸­å¾®åˆ†æ–¹ç¨‹è¿›è¡Œäº†pythonå®ç°</p>
</li>
<li><p>ä¼ æŸ“ç—…æ¨¡å‹åŒ…æ‹¬ï¼šSIã€SISã€SIRã€SIRSã€SEIRã€SEIRSå…±å…­ä¸ªæ¨¡å‹</p>
</li>
</ul>
<h3 id="SIæ¨¡å‹"><a href="#SIæ¨¡å‹" class="headerlink" title="SIæ¨¡å‹"></a>SIæ¨¡å‹</h3><ul>
<li><p>æ¯”å¦‚ç—…æ¯’ä¼ æŸ“åˆæœŸï¼Œæ²¡æœ‰åŠ é˜²ç–«æ‰‹æ®µï¼Œå°±ç¬¦åˆSIæ¨¡å‹</p>
</li>
<li><p>SIæ¨¡å‹çš„è¡¨è¾¾å¼è§ç½‘ä¸Š(S:æ˜“æ„ŸæŸ“ï¼ŒI:å·²æ„ŸæŸ“)</p>
</li>
<li><p>éœ€è¦ä¿®æ”¹çš„å‚æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">N = <span class="number">10000</span>  <span class="comment"># Nä¸ºäººç¾¤æ€»æ•°</span></span><br><span class="line">beta = <span class="number">0.25</span>  <span class="comment"># Î²ä¸ºä¼ æŸ“ç‡ç³»æ•°</span></span><br><span class="line">gamma = <span class="number">0</span>  <span class="comment"># gammaä¸ºæ¢å¤ç‡ç³»æ•°</span></span><br><span class="line">I_0 = <span class="number">1</span>  <span class="comment"># I_0ä¸ºæ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">S_0 = N - I_0  <span class="comment"># S_0ä¸ºæ˜“æ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">T = <span class="number">150</span>  <span class="comment"># Tä¸ºä¼ æ’­æ—¶é—´</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Î²ä¸ºä¼ æŸ“ç‡ç³»æ•°,æ¯”å¦‚ç°åœ¨100ä¸ªäººå·²ç»ä¼ æŸ“äº†ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œä¼ æŸ“æ–°å¢äº†25äººï¼Œåˆ™Î²ä¸º0.25</li>
<li>gammaä¸ºæ¢å¤ç‡ç³»æ•°ï¼Œä¸€å¼€å§‹æ²¡æœ‰æŠ—ä½“éƒ½æ˜¯ä¸º0çš„ï¼Œå¦‚æœä¸ä¸º0ï¼Œæ¯”å¦‚æ˜¯å¼€å§‹æœ‰100äººæ„ŸæŸ“ï¼Œåœ¨ä¸€ä¸ªä¼ æ’­æ—¶é—´Tåï¼Œæ²»æ„ˆäº†6ä¸ªäººï¼Œåˆ™gammaå–0.06</li>
<li>I_0ä¸ºæ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</li>
<li>S_0ä¸ºæ˜“æ„ŸæŸ“è€…çš„åˆå§‹äººæ•°ï¼Œè¿™ä¸ªè¦çœ‹æƒ…å†µï¼Œå¦‚æœéƒ½ä¸åŠ å¹²é¢„ï¼Œé‚£å°±æ˜¯N - I_0ï¼Œä¸€èˆ¬çœ‹æƒ…å†µéœ€è¦å†è€ƒè™‘å…¶ä»–å› ç´ (äº¤é€šï¼Œç¤¾äº¤ç¾¤ä½“ï¼Œèˆªçº¿ç­‰)ï¼ŒS_0è€ƒè™‘çš„è¶Šå¤šï¼Œåˆ™è¶Šå®Œå¤‡</li>
<li>Susceptibleæ˜“æ„ŸæŸ“çš„ï¼ŒInfectionå·²ç»æ„ŸæŸ“çš„</li>
</ul>
</li>
<li><p>code</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> scipy.integrate <span class="keyword">as</span> spi</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">N = <span class="number">10000</span>  <span class="comment"># Nä¸ºäººç¾¤æ€»æ•°</span></span><br><span class="line">beta = <span class="number">0.25</span>  <span class="comment"># Î²ä¸ºä¼ æŸ“ç‡ç³»æ•°</span></span><br><span class="line">gamma = <span class="number">0</span>  <span class="comment"># gammaä¸ºæ¢å¤ç‡ç³»æ•°</span></span><br><span class="line">I_0 = <span class="number">1</span>  <span class="comment"># I_0ä¸ºæ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">S_0 = N - I_0  <span class="comment"># S_0ä¸ºæ˜“æ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">T = <span class="number">150</span>  <span class="comment"># Tä¸ºä¼ æ’­æ—¶é—´</span></span><br><span class="line">INI = (S_0, I_0)  <span class="comment"># INIä¸ºåˆå§‹çŠ¶æ€ä¸‹çš„æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcSI</span>(<span class="params">inivalue, _</span>):</span></span><br><span class="line">    Y = np.zeros(<span class="number">2</span>)</span><br><span class="line">    X = inivalue</span><br><span class="line">    Y[<span class="number">0</span>] = -(beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N + gamma * X[<span class="number">1</span>]  <span class="comment"># æ˜“æ„Ÿä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">1</span>] = (beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N - gamma * X[<span class="number">1</span>]  <span class="comment"># æ„ŸæŸ“ä¸ªä½“å˜åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    T_range = np.arange(<span class="number">0</span>, T + <span class="number">1</span>)</span><br><span class="line">    RES = spi.odeint(funcSI, INI, T_range)</span><br><span class="line">    plt.plot(RES[:, <span class="number">0</span>], color=<span class="string">&#x27;darkblue&#x27;</span>, label=<span class="string">&#x27;Susceptible&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">1</span>], color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;Infection&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;SI Model&#x27;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Day&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Number&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126011701220-865611893.png" style="zoom: 80%;">

<ul>
<li>å¯ä»¥çœ‹åˆ°10000ä¸ªäººå¤§æ¦‚åœ¨60å¤©å·¦å³å°±å…¨éƒ¨æ„ŸæŸ“äº†</li>
</ul>
<h3 id="SISæ¨¡å‹"><a href="#SISæ¨¡å‹" class="headerlink" title="SISæ¨¡å‹"></a>SISæ¨¡å‹</h3><ul>
<li>ä¸SIåŒºåˆ«ä¸å¤§ï¼ŒåŒºåˆ«åœ¨äº7è¡Œçš„gammaæœ‰åˆå§‹å€¼ï¼Œä»¥åŠ17è¡Œçš„å…¬å¼æ”¹å˜äº†</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> scipy.integrate <span class="keyword">as</span> spi</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">N = <span class="number">10000</span>  <span class="comment"># Nä¸ºäººç¾¤æ€»æ•°</span></span><br><span class="line">beta = <span class="number">0.25</span>  <span class="comment"># Î²ä¸ºä¼ æŸ“ç‡ç³»æ•°</span></span><br><span class="line">gamma = <span class="number">0.05</span>  <span class="comment"># gammaä¸ºæ¢å¤ç‡ç³»æ•°</span></span><br><span class="line">I_0 = <span class="number">1</span>  <span class="comment"># I_0ä¸ºæ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">S_0 = N - I_0  <span class="comment"># S_0ä¸ºæ˜“æ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">T = <span class="number">150</span>  <span class="comment"># Tä¸ºä¼ æ’­æ—¶é—´</span></span><br><span class="line">INI = (S_0, I_0)  <span class="comment"># INIä¸ºåˆå§‹çŠ¶æ€ä¸‹çš„æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcSI</span>(<span class="params">inivalue, _</span>):</span></span><br><span class="line">    Y = np.zeros(<span class="number">2</span>)</span><br><span class="line">    X = inivalue</span><br><span class="line">    Y[<span class="number">0</span>] = -(beta * X[<span class="number">0</span>]) / N * X[<span class="number">1</span>] + gamma * X[<span class="number">1</span>]  <span class="comment"># æ˜“æ„Ÿä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">1</span>] = (beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N - gamma * X[<span class="number">1</span>]  <span class="comment"># æ„ŸæŸ“ä¸ªä½“å˜åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    T_range = np.arange(<span class="number">0</span>, T + <span class="number">1</span>)</span><br><span class="line">    RES = spi.odeint(funcSI, INI, T_range)</span><br><span class="line">    plt.plot(RES[:, <span class="number">0</span>], color=<span class="string">&#x27;darkblue&#x27;</span>, label=<span class="string">&#x27;Susceptible&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">1</span>], color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;Infection&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;SIS Model&#x27;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Day&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Number&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126012337702-518099954.png" style="zoom:80%;">

<ul>
<li>å¯ä»¥çœ‹åˆ°60-80å¤©ä¹‹é—´ï¼Œé€æ¸ç¨³å®šï¼Œæœ‰çš„äººæ²»æ„ˆå(è·å¾—æŠ—ä½“)æ´»äº†ä¸‹æ¥ï¼Œæœ‰çš„æ²¡æ²»æ„ˆçš„å°±æ­»äº†</li>
</ul>
<h3 id="SIRæ¨¡å‹"><a href="#SIRæ¨¡å‹" class="headerlink" title="SIRæ¨¡å‹"></a>SIRæ¨¡å‹</h3><ul>
<li>å¤šäº†R_0ä¸ºæ²»æ„ˆè€…çš„åˆå§‹äººæ•°ï¼Œå³åˆšå¼€å§‹æ³¨å°„ç–«è‹—æ¢å¤çš„äºº</li>
<li>è¡¨è¾¾å¼ä¹Ÿæ”¹å˜</li>
<li>æ³¨æ„æ¢å¤æ²»æ„ˆåŒ…æ‹¬è‡ªèº«äº§ç”ŸæŠ—ä½“ä»¥åŠé€šè¿‡åŒ»ç–—æ‰‹æ®µè·å¾—æŠ—ä½“ä¸¤ç§</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> scipy.integrate <span class="keyword">as</span> spi</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">N = <span class="number">10000</span>  <span class="comment"># Nä¸ºäººç¾¤æ€»æ•°</span></span><br><span class="line">beta = <span class="number">0.25</span>  <span class="comment"># Î²ä¸ºä¼ æŸ“ç‡ç³»æ•°</span></span><br><span class="line">gamma = <span class="number">0.05</span>  <span class="comment"># gammaä¸ºæ¢å¤ç‡ç³»æ•°</span></span><br><span class="line">I_0 = <span class="number">1</span>  <span class="comment"># I_0ä¸ºæ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">R_0 = <span class="number">0</span>  <span class="comment"># R_0ä¸ºæ²»æ„ˆè€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">S_0 = N - I_0 - R_0  <span class="comment"># S_0ä¸ºæ˜“æ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">T = <span class="number">150</span>  <span class="comment"># Tä¸ºä¼ æ’­æ—¶é—´</span></span><br><span class="line">INI = (S_0, I_0, R_0)  <span class="comment"># INIä¸ºåˆå§‹çŠ¶æ€ä¸‹çš„æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcSIR</span>(<span class="params">inivalue, _</span>):</span></span><br><span class="line">    Y = np.zeros(<span class="number">3</span>)</span><br><span class="line">    X = inivalue</span><br><span class="line">    Y[<span class="number">0</span>] = -(beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N  <span class="comment"># æ˜“æ„Ÿä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">1</span>] = (beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N - gamma * X[<span class="number">1</span>]  <span class="comment"># æ„ŸæŸ“ä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">2</span>] = gamma * X[<span class="number">1</span>]  <span class="comment"># æ²»æ„ˆä¸ªä½“å˜åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    T_range = np.arange(<span class="number">0</span>, T + <span class="number">1</span>)</span><br><span class="line">    RES = spi.odeint(funcSIR, INI, T_range)</span><br><span class="line">    plt.plot(RES[:, <span class="number">0</span>], color=<span class="string">&#x27;darkblue&#x27;</span>, label=<span class="string">&#x27;Susceptible&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">1</span>], color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;Infection&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">2</span>], color=<span class="string">&#x27;green&#x27;</span>, label=<span class="string">&#x27;Recovery&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;SIR Model&#x27;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Day&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Number&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126012856029-403667398.png" style="zoom:80%;">

<ul>
<li>å¯ä»¥çœ‹åˆ°æ„ŸæŸ“äººæ•°å‡ºç°å³°å€¼ï¼Œåœ¨å‰æœŸå·²ç»å¼€å§‹ä½¿ç”¨æŠ—ä½“ï¼Œç—…äººé€æ¸æ²»æ„ˆï¼Œæœ€åæ‰€æœ‰äººéƒ½æ¢å¤å¥åº·</li>
</ul>
<h3 id="SIRSæ¨¡å‹"><a href="#SIRSæ¨¡å‹" class="headerlink" title="SIRSæ¨¡å‹"></a>SIRSæ¨¡å‹</h3><ul>
<li>å¤šäº†Tsä¸ºæŠ—ä½“æŒç»­æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰äº†æŠ—ä½“ä¸€æ®µæ—¶é—´åï¼ŒæŠ—ä½“å¤±æ•ˆï¼Œåˆå˜æˆäº†æ˜“æ„ŸæŸ“äººç¾¤</li>
<li>å…¬å¼ä¹Ÿæ”¹å˜</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> scipy.integrate <span class="keyword">as</span> spi</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">N = <span class="number">10000</span>  <span class="comment"># Nä¸ºäººç¾¤æ€»æ•°</span></span><br><span class="line">beta = <span class="number">0.25</span>  <span class="comment"># Î²ä¸ºä¼ æŸ“ç‡ç³»æ•°</span></span><br><span class="line">gamma = <span class="number">0.05</span>  <span class="comment"># gammaä¸ºæ¢å¤ç‡ç³»æ•°</span></span><br><span class="line">Ts = <span class="number">7</span>  <span class="comment"># Tsä¸ºæŠ—ä½“æŒç»­æ—¶é—´</span></span><br><span class="line">I_0 = <span class="number">1</span>  <span class="comment"># I_0ä¸ºæ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">R_0 = <span class="number">0</span>  <span class="comment"># R_0ä¸ºæ²»æ„ˆè€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">S_0 = N - I_0 - R_0  <span class="comment"># S_0ä¸ºæ˜“æ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">T = <span class="number">150</span>  <span class="comment"># Tä¸ºä¼ æ’­æ—¶é—´</span></span><br><span class="line">INI = (S_0, I_0, R_0)  <span class="comment"># INIä¸ºåˆå§‹çŠ¶æ€ä¸‹çš„æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcSIRS</span>(<span class="params">inivalue, _</span>):</span></span><br><span class="line">    Y = np.zeros(<span class="number">3</span>)</span><br><span class="line">    X = inivalue</span><br><span class="line">    Y[<span class="number">0</span>] = -(beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N + X[<span class="number">2</span>] / Ts  <span class="comment"># æ˜“æ„Ÿä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">1</span>] = (beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N - gamma * X[<span class="number">1</span>]  <span class="comment"># æ„ŸæŸ“ä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">2</span>] = gamma * X[<span class="number">1</span>] - X[<span class="number">2</span>] / Ts  <span class="comment"># æ²»æ„ˆä¸ªä½“å˜åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    T_range = np.arange(<span class="number">0</span>, T + <span class="number">1</span>)</span><br><span class="line">    RES = spi.odeint(funcSIRS, INI, T_range)</span><br><span class="line">    plt.plot(RES[:, <span class="number">0</span>], color=<span class="string">&#x27;darkblue&#x27;</span>, label=<span class="string">&#x27;Susceptible&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">1</span>], color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;Infection&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">2</span>], color=<span class="string">&#x27;green&#x27;</span>, label=<span class="string">&#x27;Recovery&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;SIRS Model&#x27;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Day&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Number&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126013611658-1218001757.png" style="zoom:80%;">

<ul>
<li>æœ€ç»ˆè¾¾åˆ°ä¸€ä¸ªå¹³è¡¡</li>
</ul>
<h3 id="SEIRæ¨¡å‹"><a href="#SEIRæ¨¡å‹" class="headerlink" title="SEIRæ¨¡å‹"></a>SEIRæ¨¡å‹</h3><ul>
<li><p>è€ƒè™‘äº†ç—…æ¯’çš„æ½œä¼æœŸ(æ½œä¼äººç¾¤E)ï¼Œä¹Ÿå°±æ˜¯æ„ŸæŸ“ç—…æ¯’åï¼Œè¿‡äº†æ½œä¼æœŸå°±æ˜¯æ„ŸæŸ“äººç¾¤äº†</p>
</li>
<li><p>å¤šäº†E_0ä¸ºæ½œä¼è€…çš„åˆå§‹äººæ•°ï¼Œå¦‚æœæ˜¯0ï¼Œé‚£è¯´æ˜å¼€å§‹æ—¶æœ‰äººæ„ŸæŸ“ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å‘ç—…ï¼Œæ­¤æ—¶è¿™ç±»äººä¸æ˜¯æ˜“æ„ŸæŸ“ï¼Œä½†æ˜¯ä»–ä»¬æºå¸¦ç—…æ¯’</p>
</li>
<li><p>åªæœ‰ç»è¿‡æ½œä¼æœŸï¼Œæ‰èƒ½è¢«ä¼ æŸ“</p>
</li>
<li><p>å…¬å¼æœ‰æ‰€å˜åŒ–</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> scipy.integrate <span class="keyword">as</span> spi</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">N = <span class="number">10000</span>  <span class="comment"># Nä¸ºäººç¾¤æ€»æ•°</span></span><br><span class="line">beta = <span class="number">0.6</span>  <span class="comment"># Î²ä¸ºä¼ æŸ“ç‡ç³»æ•°</span></span><br><span class="line">gamma = <span class="number">0.1</span>  <span class="comment"># gammaä¸ºæ¢å¤ç‡ç³»æ•°</span></span><br><span class="line">Te = <span class="number">14</span>  <span class="comment"># Teä¸ºç–¾ç—…æ½œä¼æœŸ</span></span><br><span class="line">I_0 = <span class="number">1</span>  <span class="comment"># I_0ä¸ºæ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">E_0 = <span class="number">0</span>  <span class="comment"># E_0ä¸ºæ½œä¼è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">R_0 = <span class="number">0</span>  <span class="comment"># R_0ä¸ºæ²»æ„ˆè€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">S_0 = N - I_0 - R_0 - E_0  <span class="comment"># S_0ä¸ºæ˜“æ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">T = <span class="number">150</span>  <span class="comment"># Tä¸ºä¼ æ’­æ—¶é—´</span></span><br><span class="line">INI = (S_0, E_0, I_0, R_0)  <span class="comment"># INIä¸ºåˆå§‹çŠ¶æ€ä¸‹çš„æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcSEIR</span>(<span class="params">inivalue, _</span>):</span></span><br><span class="line">    Y = np.zeros(<span class="number">4</span>)</span><br><span class="line">    X = inivalue</span><br><span class="line">    Y[<span class="number">0</span>] = -(beta * X[<span class="number">0</span>] * X[<span class="number">2</span>]) / N  <span class="comment"># æ˜“æ„Ÿä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">1</span>] = (beta * X[<span class="number">0</span>] * X[<span class="number">2</span>] / N - X[<span class="number">1</span>] / Te)  <span class="comment"># æ½œä¼ä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">2</span>] = X[<span class="number">1</span>] / Te - gamma * X[<span class="number">2</span>]  <span class="comment"># æ„ŸæŸ“ä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">3</span>] = gamma * X[<span class="number">2</span>]  <span class="comment"># æ²»æ„ˆä¸ªä½“å˜åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    T_range = np.arange(<span class="number">0</span>, T + <span class="number">1</span>)</span><br><span class="line">    RES = spi.odeint(funcSEIR, INI, T_range)</span><br><span class="line">    plt.plot(RES[:, <span class="number">0</span>], color=<span class="string">&#x27;darkblue&#x27;</span>, label=<span class="string">&#x27;Susceptible&#x27;</span>, marker=</span><br><span class="line">    <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">1</span>], color=<span class="string">&#x27;orange&#x27;</span>, label=<span class="string">&#x27;Exposed&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">2</span>], color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;Infection&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">3</span>], color=<span class="string">&#x27;green&#x27;</span>, label=<span class="string">&#x27;Recovery&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;SEIR Model&#x27;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Day&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Number&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126014328064-1899684542.png" style="zoom:80%;">

<ul>
<li>æ½œä¼æœŸçš„äººä¼šæ¯”æ„ŸæŸ“äººç¾¤å…ˆåˆ°è¾¾å³°å€¼ï¼Œæœ€ç»ˆéƒ½å¯ä»¥æ²»æ„ˆ</li>
</ul>
<h3 id="SEIRSæ¨¡å‹"><a href="#SEIRSæ¨¡å‹" class="headerlink" title="SEIRSæ¨¡å‹"></a>SEIRSæ¨¡å‹</h3><ul>
<li><p>è€ƒè™‘äº†æŠ—ä½“æŒç»­æ—¶é—´</p>
</li>
<li><p>ä¸€èˆ¬å¤šäº†æ½œä¼æœŸçš„è¯ï¼Œä¼ æŸ“ç‡ç³»æ•°ä¼šæœ‰æ‰€å¢åŠ ï¼Œä¸Šé¢çš„SEIRä¹Ÿæ˜¯åŒç†</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> scipy.integrate <span class="keyword">as</span> spi</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">N = <span class="number">10000</span>  <span class="comment"># Nä¸ºäººç¾¤æ€»æ•°</span></span><br><span class="line">beta = <span class="number">0.6</span>  <span class="comment"># Î²ä¸ºä¼ æŸ“ç‡ç³»æ•°</span></span><br><span class="line">gamma = <span class="number">0.1</span>  <span class="comment"># gammaä¸ºæ¢å¤ç‡ç³»æ•°</span></span><br><span class="line">Ts = <span class="number">7</span>  <span class="comment"># Tsä¸ºæŠ—ä½“æŒç»­æ—¶é—´</span></span><br><span class="line">Te = <span class="number">14</span>  <span class="comment"># Teä¸ºç–¾ç—…æ½œä¼æœŸ</span></span><br><span class="line">I_0 = <span class="number">1</span>  <span class="comment"># I_0ä¸ºæ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">E_0 = <span class="number">0</span>  <span class="comment"># E_0ä¸ºæ½œä¼è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">R_0 = <span class="number">0</span>  <span class="comment"># R_0ä¸ºæ²»æ„ˆè€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">S_0 = N - I_0 - R_0 - E_0  <span class="comment"># S_0ä¸ºæ˜“æ„ŸæŸ“è€…çš„åˆå§‹äººæ•°</span></span><br><span class="line">T = <span class="number">150</span>  <span class="comment"># Tä¸ºä¼ æ’­æ—¶é—´</span></span><br><span class="line">INI = (S_0, E_0, I_0, R_0)  <span class="comment"># INIä¸ºåˆå§‹çŠ¶æ€ä¸‹çš„æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcSEIRS</span>(<span class="params">inivalue, _</span>):</span></span><br><span class="line">    Y = np.zeros(<span class="number">4</span>)</span><br><span class="line">    X = inivalue</span><br><span class="line">    Y[<span class="number">0</span>] = -(beta * X[<span class="number">0</span>] * X[<span class="number">2</span>]) / N + X[<span class="number">3</span>] / Ts  <span class="comment"># æ˜“æ„Ÿä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">1</span>] = (beta * X[<span class="number">0</span>] * X[<span class="number">2</span>] / N - X[<span class="number">1</span>] / Te)  <span class="comment"># æ½œä¼ä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">2</span>] = X[<span class="number">1</span>] / Te - gamma * X[<span class="number">2</span>]  <span class="comment"># æ„ŸæŸ“ä¸ªä½“å˜åŒ–</span></span><br><span class="line">    Y[<span class="number">3</span>] = gamma * X[<span class="number">2</span>] - X[<span class="number">3</span>] / Ts  <span class="comment"># æ²»æ„ˆä¸ªä½“å˜åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    T_range = np.arange(<span class="number">0</span>, T + <span class="number">1</span>)</span><br><span class="line">    RES = spi.odeint(funcSEIRS, INI, T_range)</span><br><span class="line">    plt.plot(RES[:, <span class="number">0</span>], color=<span class="string">&#x27;darkblue&#x27;</span>, label=<span class="string">&#x27;Susceptible&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">1</span>], color=<span class="string">&#x27;orange&#x27;</span>, label=<span class="string">&#x27;Exposed&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">2</span>], color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;Infection&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.plot(RES[:, <span class="number">3</span>], color=<span class="string">&#x27;green&#x27;</span>, label=<span class="string">&#x27;Recovery&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;SETRS Model&#x27;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Day&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Number&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126015400873-268245591.png" style="zoom:80%;">

<ul>
<li>æ½œä¼æœŸçš„äººå…ˆåˆ°å³°å€¼ï¼Œç„¶åæ˜¯æ˜“æ„ŸæŸ“è€…ï¼Œç„¶åæ˜¯æ²»æ„ˆè€…ï¼Œä»–ä»¬æœ€ç»ˆä¼šè¾¾åˆ°å¹³è¡¡ç¨³å®š</li>
</ul>
<h1 id="å›¾è®º"><a href="#å›¾è®º" class="headerlink" title="å›¾è®º"></a>å›¾è®º</h1><h2 id="Dijkstra"><a href="#Dijkstra" class="headerlink" title="Dijkstra"></a>Dijkstra</h2><h3 id="è§£æ³•1-å¸¸ç”¨"><a href="#è§£æ³•1-å¸¸ç”¨" class="headerlink" title="è§£æ³•1(å¸¸ç”¨)"></a>è§£æ³•1(å¸¸ç”¨)</h3><ul>
<li>åªéœ€è¦ç»™å‡ºå¸¦æœ‰æƒå€¼çš„é‚»æ¥çŸ©é˜µå³å¯æ±‚å‡ºæœ€çŸ­è·¯å¾„å’Œæœ€çŸ­è·ç¦»</li>
<li>éœ€è¦æ”¹å˜çš„ç¬¬54è¡Œé‚»æ¥çŸ©é˜µçš„æƒå€¼å’Œ65è¡Œçš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œæ³¨æ„21è¡Œæ˜¯ä»0è¿˜æ˜¯1å¼€å§‹</li>
<li>æœ‰å‘è¾¹å’Œæ— å‘è¾¹çš„æ··åˆå‡å¯ä½¿ç”¨</li>
<li><code>g = defaultdict(list)</code>æ˜¯å¾—åˆ°ä¸€ä¸ªå…ƒç´ å…¨æ˜¯listç±»å‹çš„å­—å…¸</li>
<li>ä¸¾ä¾‹<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126144816051-2026015349.png" style="zoom: 60%;"></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># dijkstra</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">inf = <span class="number">99999</span>  <span class="comment"># ä¸è¿é€šå€¼</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init_graph</span>(<span class="params">mtx_graph</span>):</span></span><br><span class="line">    m_n = <span class="built_in">len</span>(mtx_graph)  <span class="comment"># å¸¦æƒè¿æ¥çŸ©é˜µçš„é˜¶æ•°</span></span><br><span class="line">    edges = []  <span class="comment"># ä¿å­˜è¿é€šçš„ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è·ç¦»(ç‚¹Aã€ç‚¹Bã€è·ç¦»)</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m_n):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m_n):</span><br><span class="line">            <span class="keyword">if</span> i != j <span class="keyword">and</span> mtx_graph[i][j] != inf:</span><br><span class="line">                edges.append((i, j, mtx_graph[i][j]))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> edges</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dijkstra</span>(<span class="params">edges, from_node, to_node</span>):</span></span><br><span class="line">    go_path = []</span><br><span class="line">    to_node = to_node - <span class="number">1</span> <span class="comment"># çœ‹æƒ…å†µï¼Œå¦‚æœæ˜¯ä»1å¼€å§‹çš„å°±å‡ä¸€</span></span><br><span class="line">    g = defaultdict(<span class="built_in">list</span>)</span><br><span class="line">    <span class="keyword">for</span> l, r, c <span class="keyword">in</span> edges:</span><br><span class="line">        g[l].append((c, r))</span><br><span class="line">    q, seen = [(<span class="number">0</span>, from_node - <span class="number">1</span>, ())], <span class="built_in">set</span>()</span><br><span class="line">    <span class="keyword">while</span> q:</span><br><span class="line">        (cost, v1, path) = heappop(q)  <span class="comment"># å †å¼¹å‡ºå½“å‰è·¯å¾„æœ€å°æˆæœ¬</span></span><br><span class="line">        <span class="keyword">if</span> v1 <span class="keyword">not</span> <span class="keyword">in</span> seen:</span><br><span class="line">            seen.add(v1)</span><br><span class="line">            path = (v1, path)</span><br><span class="line">            <span class="keyword">if</span> v1 == to_node:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">for</span> c, v2 <span class="keyword">in</span> g.get(v1, ()):</span><br><span class="line">                <span class="keyword">if</span> v2 <span class="keyword">not</span> <span class="keyword">in</span> seen:</span><br><span class="line">                    heappush(q, (cost + c, v2, path))</span><br><span class="line">    <span class="keyword">if</span> v1 != to_node:  <span class="comment"># æ— æ³•åˆ°è¾¾</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">float</span>[<span class="string">&#x27;inf&#x27;</span>], []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(path) &gt; <span class="number">0</span>:</span><br><span class="line">        left = path[<span class="number">0</span>]</span><br><span class="line">        go_path.append(left)</span><br><span class="line">        right = path[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(right) &gt; <span class="number">0</span>:</span><br><span class="line">            left = right[<span class="number">0</span>]</span><br><span class="line">            go_path.append(left)</span><br><span class="line">            right = right[<span class="number">1</span>]</span><br><span class="line">        go_path.reverse()  <span class="comment"># é€†åºå˜æ¢</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(go_path)):  <span class="comment"># æ ‡å·åŠ 1</span></span><br><span class="line">            go_path[i] = go_path[i] + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> cost, go_path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    mtx_graph = [[<span class="number">0</span>, <span class="number">1</span>, inf, <span class="number">3</span>, inf, inf, inf, inf, inf],</span><br><span class="line">                 [<span class="number">1</span>, <span class="number">0</span>, <span class="number">5</span>, inf, <span class="number">2</span>, inf, inf, inf, inf],</span><br><span class="line">                 [inf, inf, <span class="number">0</span>, <span class="number">1</span>, inf, <span class="number">6</span>, inf, inf, inf],</span><br><span class="line">                 [inf, inf, inf, <span class="number">0</span>, inf, <span class="number">7</span>, inf, <span class="number">9</span>, inf],</span><br><span class="line">                 [inf, <span class="number">2</span>, <span class="number">3</span>, inf, <span class="number">0</span>, <span class="number">4</span>, <span class="number">2</span>, inf, <span class="number">8</span>],</span><br><span class="line">                 [inf, inf, <span class="number">6</span>, <span class="number">7</span>, inf, <span class="number">0</span>, inf, <span class="number">2</span>, inf],</span><br><span class="line">                 [inf, inf, inf, inf, inf, <span class="number">1</span>, <span class="number">0</span>, inf, <span class="number">3</span>],</span><br><span class="line">                 [inf, inf, inf, inf, inf, inf, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>],</span><br><span class="line">                 [inf, inf, inf, inf, <span class="number">8</span>, inf, <span class="number">3</span>, <span class="number">2</span>, <span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">    edges = init_graph(mtx_graph)</span><br><span class="line">    length, path = dijkstra(edges, <span class="number">1</span>, <span class="number">9</span>)</span><br><span class="line">    print(<span class="string">&#x27;æœ€çŸ­è·ç¦»ä¸ºï¼š&#x27;</span> + <span class="built_in">str</span>(length))</span><br><span class="line">    print(<span class="string">&#x27;å‰è¿›è·¯å¾„ä¸ºï¼š&#x27;</span> + <span class="built_in">str</span>(path))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æœ€çŸ­è·ç¦»ä¸ºï¼š8</span><br><span class="line">å‰è¿›è·¯å¾„ä¸ºï¼š[1, 2, 5, 7, 9]</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h3 id="è§£æ³•2"><a href="#è§£æ³•2" class="headerlink" title="è§£æ³•2"></a>è§£æ³•2</h3><ul>
<li>è¾“å…¥æ˜¯ä¸€ä¸ªåŒ…å«æ¯ä¸ªç‚¹ä¸å…¶ä»–ç‚¹è”ç³»å’Œæƒå€¼çš„å­—å…¸</li>
<li>ä¸‹é¢æ˜¯æ— å‘è¾¹çš„ä¾‹å­ï¼Œé€‚åˆæ— å‘è¾¹</li>
<li>éœ€è¦ä¿®æ”¹çš„æ˜¯51çš„è”ç³»ï¼Œ62çš„èµ·ç‚¹ï¼Œ66è¡Œçš„èµ·ç‚¹å’Œç»ˆç‚¹</li>
<li><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126144528055-511872856.png" style="zoom:67%;">

</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line">Max = <span class="number">99999999</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ‰ç‚¹åƒBFSçš„æ€æƒ³</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dijktestra</span>(<span class="params">graph, start</span>):</span></span><br><span class="line">    queue = []  <span class="comment"># ä¼˜å…ˆé˜Ÿåˆ—</span></span><br><span class="line">    heapq.heappush(queue, (<span class="number">0</span>, start))</span><br><span class="line">    visited = <span class="built_in">set</span>()</span><br><span class="line">    path = &#123;start: <span class="literal">None</span>&#125;  <span class="comment"># è®°å½•è¯¥ç‚¹çš„ä¸Šä¸€ä¸ªç‚¹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…ˆæŠŠä¸€å¼€å§‹åˆ°è¾¾çš„æ‰€æœ‰è·¯å¾„è·ç¦»è®¾æœ€å¤§</span></span><br><span class="line">    distance = &#123;start: <span class="number">0</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> vertex <span class="keyword">in</span> graph:</span><br><span class="line">        <span class="keyword">if</span> vertex != start:</span><br><span class="line">            distance[vertex] = Max</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(queue):</span><br><span class="line">        <span class="comment"># å–å‡ºçš„å½“å‰åœ¨queueçš„ç¬¬ä¸€ä¸ªç‚¹</span></span><br><span class="line">        pair = heapq.heappop(queue)</span><br><span class="line">        dist = pair[<span class="number">0</span>]</span><br><span class="line">        vertex = pair[<span class="number">1</span>]</span><br><span class="line">        visited.add(vertex)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¯¥ç‚¹çš„æ‰€æœ‰è¿æ¥ç‚¹</span></span><br><span class="line">        nodes = graph[vertex].keys()</span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> nodes:</span><br><span class="line">            <span class="keyword">if</span> v <span class="keyword">not</span> <span class="keyword">in</span> visited <span class="keyword">and</span> dist + graph[vertex][v] &lt; distance[v]:</span><br><span class="line">                heapq.heappush(queue, (dist + graph[vertex][v], v))  <span class="comment"># ä¼˜å…ˆé˜Ÿåˆ—ä¼šè‡ªåŠ¨æŠŠå€¼æœ€å°çš„æ”¾åœ¨å‰é¢</span></span><br><span class="line">                path[v] = vertex  <span class="comment"># è®°å½•ä¸Šä¸€ä¸ªç‚¹</span></span><br><span class="line">                distance[v] = dist + graph[vertex][v]  <span class="comment"># æ›´æ–°æœ€å°å€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> path, distance</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_path</span>(<span class="params">path, start, end</span>):</span></span><br><span class="line">    shortest_path = []</span><br><span class="line">    vertex = end</span><br><span class="line">    <span class="keyword">while</span> vertex != path[start]:</span><br><span class="line">        vertex = path[vertex]</span><br><span class="line">        shortest_path.append(vertex)</span><br><span class="line"></span><br><span class="line">    shortest_path.reverse()</span><br><span class="line">    shortest_path.pop(<span class="number">0</span>)</span><br><span class="line">    shortest_path.append(end)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> shortest_path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    graph = &#123;</span><br><span class="line">        <span class="string">&#x27;A&#x27;</span>: &#123;<span class="string">&#x27;B&#x27;</span>: <span class="number">10</span>, <span class="string">&#x27;D&#x27;</span>: <span class="number">16</span>, <span class="string">&#x27;I&#x27;</span>: <span class="number">5</span>&#125;,</span><br><span class="line">        <span class="string">&#x27;B&#x27;</span>: &#123;<span class="string">&#x27;A&#x27;</span>: <span class="number">10</span>, <span class="string">&#x27;F&#x27;</span>: <span class="number">15</span>&#125;,</span><br><span class="line">        <span class="string">&#x27;C&#x27;</span>: &#123;<span class="string">&#x27;D&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;E&#x27;</span>: <span class="number">15</span>, <span class="string">&#x27;I&#x27;</span>: <span class="number">6</span>&#125;,</span><br><span class="line">        <span class="string">&#x27;D&#x27;</span>: &#123;<span class="string">&#x27;A&#x27;</span>: <span class="number">16</span>, <span class="string">&#x27;C&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;F&#x27;</span>: <span class="number">9</span>&#125;,</span><br><span class="line">        <span class="string">&#x27;E&#x27;</span>: &#123;<span class="string">&#x27;C&#x27;</span>: <span class="number">15</span>, <span class="string">&#x27;H&#x27;</span>: <span class="number">4</span>&#125;,</span><br><span class="line">        <span class="string">&#x27;F&#x27;</span>: &#123;<span class="string">&#x27;B&#x27;</span>: <span class="number">15</span>, <span class="string">&#x27;H&#x27;</span>: <span class="number">30</span>&#125;,</span><br><span class="line">        <span class="string">&#x27;G&#x27;</span>: &#123;<span class="string">&#x27;C&#x27;</span>: <span class="number">25</span>, <span class="string">&#x27;H&#x27;</span>: <span class="number">12</span>&#125;,</span><br><span class="line">        <span class="string">&#x27;H&#x27;</span>: &#123;<span class="string">&#x27;E&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;F&#x27;</span>: <span class="number">9</span>, <span class="string">&#x27;G&#x27;</span>: <span class="number">12</span>&#125;,</span><br><span class="line">        <span class="string">&#x27;I&#x27;</span>: &#123;<span class="string">&#x27;A&#x27;</span>: <span class="number">5</span>, <span class="string">&#x27;C&#x27;</span>: <span class="number">6</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    path, distance = dijktestra(graph, <span class="string">&#x27;A&#x27;</span>)</span><br><span class="line">    print(path)</span><br><span class="line">    print(distance)</span><br><span class="line"></span><br><span class="line">    shortest_path = show_path(path, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;H&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;shortest_path:&#x27;</span>, shortest_path)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¯¥ç‚¹çš„ä¸Šä¸€ä¸ªç‚¹ï¼š &#123;&#39;A&#39;: None, &#39;B&#39;: &#39;A&#39;, &#39;D&#39;: &#39;A&#39;, &#39;I&#39;: &#39;A&#39;, &#39;C&#39;: &#39;I&#39;, &#39;F&#39;: &#39;B&#39;, &#39;E&#39;: &#39;C&#39;, &#39;H&#39;: &#39;E&#39;, &#39;G&#39;: &#39;H&#39;&#125;</span><br><span class="line">èµ·ç‚¹åˆ°å…¶ä»–å„ä¸ªç‚¹çš„æœ€å°è·ç¦»ï¼š &#123;&#39;A&#39;: 0, &#39;B&#39;: 10, &#39;C&#39;: 11, &#39;D&#39;: 16, &#39;E&#39;: 26, &#39;F&#39;: 25, &#39;G&#39;: 42, &#39;H&#39;: 30, &#39;I&#39;: 5&#125;</span><br><span class="line">shortest_path: [&#39;A&#39;, &#39;I&#39;, &#39;C&#39;, &#39;E&#39;, &#39;H&#39;]</span><br></pre></td></tr></table></figure>




<h2 id="Floyd"><a href="#Floyd" class="headerlink" title="Floyd"></a>Floyd</h2><ul>
<li>é€šè¿‡åŠ¨æ€è§„åˆ’æ±‚è§£å¤šæºæœ€çŸ­è·¯å¾„é—®é¢˜</li>
</ul>
<h4 id="ä¸¾ä¾‹-4"><a href="#ä¸¾ä¾‹-4" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126144816051-2026015349.png" style="zoom: 60%;">

<ul>
<li>å›¾å’Œä¸Šé¢çš„å›¾ä¸€æ ·ï¼Œæ±‚å‡ºä»æ¯ä¸€ä¸ªç‚¹åˆ°å…¶ä»–ç‚¹çš„æœ€çŸ­è·ç¦»å’Œè·¯å¾„</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">inf = <span class="number">99999</span>  <span class="comment"># ä¸è¿é€šå€¼</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">floyd</span>(<span class="params">graph</span>):</span></span><br><span class="line">    N = <span class="built_in">len</span>(graph)</span><br><span class="line">    A = np.array(graph)</span><br><span class="line">    path = np.zeros((N, N))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, N):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, N):</span><br><span class="line">            <span class="keyword">if</span> A[i][j] != inf:</span><br><span class="line">                path[i][j] = j</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, N):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, N):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, N):</span><br><span class="line">                <span class="keyword">if</span> A[i][k] + A[k][j] &lt; A[i][j]:</span><br><span class="line">                    A[i][j] = A[i][k] + A[k][j]</span><br><span class="line">                    path[i][j] = path[i][k]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, N):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, N):</span><br><span class="line">            path[i][j] = path[i][j] + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    print(<span class="string">&#x27;è·ç¦» = \n&#x27;</span>, A)</span><br><span class="line">    print(<span class="string">&#x27;è·¯å¾„ = \n&#x27;</span>, path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    mtx_graph = [[<span class="number">0</span>, <span class="number">1</span>, inf, <span class="number">3</span>, inf, inf, inf, inf, inf],</span><br><span class="line">                 [<span class="number">1</span>, <span class="number">0</span>, <span class="number">5</span>, inf, <span class="number">2</span>, inf, inf, inf, inf],</span><br><span class="line">                 [inf, inf, <span class="number">0</span>, <span class="number">1</span>, inf, <span class="number">6</span>, inf, inf, inf],</span><br><span class="line">                 [inf, inf, inf, <span class="number">0</span>, inf, <span class="number">7</span>, inf, <span class="number">9</span>, inf],</span><br><span class="line">                 [inf, <span class="number">2</span>, <span class="number">3</span>, inf, <span class="number">0</span>, <span class="number">4</span>, <span class="number">2</span>, inf, <span class="number">8</span>],</span><br><span class="line">                 [inf, inf, <span class="number">6</span>, <span class="number">7</span>, inf, <span class="number">0</span>, inf, <span class="number">2</span>, inf],</span><br><span class="line">                 [inf, inf, inf, inf, inf, <span class="number">1</span>, <span class="number">0</span>, inf, <span class="number">3</span>],</span><br><span class="line">                 [inf, inf, inf, inf, inf, inf, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>],</span><br><span class="line">                 [inf, inf, inf, inf, <span class="number">8</span>, inf, <span class="number">3</span>, <span class="number">2</span>, <span class="number">0</span>]]</span><br><span class="line">    floyd(mtx_graph)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è·ç¦» &#x3D; </span><br><span class="line"> [[ 0  1  6  3  3  6  5  8  8]</span><br><span class="line"> [ 1  0  5  4  2  5  4  7  7]</span><br><span class="line"> [21 20  0  1 18  6  9  8 10]</span><br><span class="line"> [22 21 13  0 19  7 10  9 11]</span><br><span class="line"> [ 3  2  3  4  0  3  2  5  5]</span><br><span class="line"> [15 14  6  7 12  0  3  2  4]</span><br><span class="line"> [14 13  7  8 11  1  0  3  3]</span><br><span class="line"> [13 12  8  9 10  2  1  0  2]</span><br><span class="line"> [11 10 10 11  8  4  3  2  0]]</span><br><span class="line">è·¯å¾„ &#x3D; </span><br><span class="line"> [[1. 2. 2. 4. 2. 2. 2. 2. 2.]</span><br><span class="line"> [1. 2. 3. 1. 5. 5. 5. 5. 5.]</span><br><span class="line"> [6. 6. 3. 4. 6. 6. 6. 6. 6.]</span><br><span class="line"> [8. 8. 6. 4. 8. 6. 8. 8. 8.]</span><br><span class="line"> [2. 2. 3. 3. 5. 7. 7. 7. 7.]</span><br><span class="line"> [8. 8. 3. 4. 8. 6. 8. 8. 8.]</span><br><span class="line"> [9. 9. 6. 6. 9. 6. 7. 6. 9.]</span><br><span class="line"> [9. 9. 7. 7. 9. 7. 7. 8. 9.]</span><br><span class="line"> [5. 5. 7. 7. 5. 7. 7. 8. 9.]]</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<ul>
<li><p>è·ç¦»ï¼Œæ¯”å¦‚1åˆ°9çš„è·ç¦»ä¸º8ï¼Œå³ä»ç¬¬1è¡Œçœ‹åˆ°ç¬¬9åˆ—</p>
</li>
<li><p>æ€ä¹ˆçœ‹æœ€çŸ­è·¯å¾„çœ‹è§£é‡Šè§ä¸‹å›¾</p>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126174606468-866209777.png" style="zoom: 67%;">



</li>
</ul>
<h2 id="æœºåœºèˆªçº¿è®¾è®¡"><a href="#æœºåœºèˆªçº¿è®¾è®¡" class="headerlink" title="æœºåœºèˆªçº¿è®¾è®¡"></a>æœºåœºèˆªçº¿è®¾è®¡</h2><ul>
<li>å›¾çš„å¯è§†åŒ–</li>
<li>æ•°æ®æ¸…æ´—åˆ†æï¼Œå¯å‚è€ƒæˆ‘é‚£å—Kaggleç»ƒä¹ </li>
<li>åŸå¸‚å¯ä½œä¸ºå›¾èŠ‚ç‚¹</li>
<li>å¯å‚è€ƒdownä¸‹æ¥çš„pdfèµ„æ–™<ul>
<li>æ‰¾åˆ°æœ€å¯†é›†çš„ç‚¹ï¼Œä½œä¸ºäº¤é€šæ¢çº½ï¼Œè€ƒè™‘å…¶ä»–æˆæœ¬ã€æ—¶æ•ˆæ€§ã€ç›ˆåˆ©å› ç´ ä¹‹ç±»çš„â€¦</li>
</ul>
</li>
</ul>
<h1 id="å›å½’"><a href="#å›å½’" class="headerlink" title="å›å½’"></a>å›å½’</h1><ul>
<li>å¤šå…ƒå›å½’ã€é€»è¾‘å›å½’è§æˆ‘ä¹‹å‰çš„blog</li>
<li>ä¹Ÿå¯å‚è€ƒpdfèµ„æ–™</li>
</ul>
<h1 id="å·®åˆ†æ–¹ç¨‹"><a href="#å·®åˆ†æ–¹ç¨‹" class="headerlink" title="å·®åˆ†æ–¹ç¨‹"></a>å·®åˆ†æ–¹ç¨‹</h1><h2 id="é€’æ¨å…³ç³»"><a href="#é€’æ¨å…³ç³»" class="headerlink" title="é€’æ¨å…³ç³»"></a>é€’æ¨å…³ç³»</h2><ul>
<li>å·®åˆ†æ–¹ç¨‹å»ºæ¨¡çš„å…³é”®åœ¨äºå¦‚ä½•å¾—åˆ°ç¬¬<strong>n</strong>ç»„æ•°æ®ä¸ç¬¬<strong>n+1</strong>ç»„æ•°æ®ä¹‹é—´çš„å…³ç³»</li>
</ul>
<h4 id="ä¸¾ä¾‹-5"><a href="#ä¸¾ä¾‹-5" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4><h5 id="é…µæ¯èŒç”Ÿé•¿æ¨¡å‹"><a href="#é…µæ¯èŒç”Ÿé•¿æ¨¡å‹" class="headerlink" title="é…µæ¯èŒç”Ÿé•¿æ¨¡å‹"></a><strong>é…µæ¯èŒç”Ÿé•¿æ¨¡å‹</strong></h5><ul>
<li><p>ç›¸ç±»æ¯”çš„è¿˜æœ‰æ¯”å¦‚å…”å­(å…¶ä»–ç”Ÿç‰©)ç¹æ®–æ¨¡å‹ç­‰</p>
</li>
<li><p>å¦‚å›¾æ‰€ç¤ºæˆ‘ä»¬ç”¨åŸ¹å…»åŸºåŸ¹å…»ç»†èŒæ—¶ï¼Œå…¶æ•°é‡å˜åŒ–é€šå¸¸ä¼šç»å†è¿™å››ä¸ªæ—¶æœŸã€‚ </p>
<p>è¿™ä¸ªæ¨¡å‹é’ˆå¯¹å‰ä¸‰ä¸ªæ—¶æœŸå»ºä¸€ä¸ªå¤§è‡´çš„æ¨¡å‹ï¼š </p>
<p><strong>è°ƒæ•´æœŸ</strong>ã€<strong>å¯¹æ•°æœŸ</strong>ã€<strong>ç¨³å®šæœŸ</strong></p>
</li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126190430231-1717036362.png"></p>
<ul>
<li><p>æ•°æ®å¯ä»¥ä¹Ÿä»æ–‡ä»¶è¯»å…¥ï¼Œè¿™é‡Œç›´æ¥å†™äº†</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    time = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">19</span>)]</span><br><span class="line">    number = [<span class="number">9.6</span>, <span class="number">18.3</span>, <span class="number">29</span>, <span class="number">47.2</span>, <span class="number">71.1</span>, <span class="number">119.1</span>, <span class="number">174.6</span>,</span><br><span class="line">              <span class="number">257.3</span>, <span class="number">350.7</span>, <span class="number">441.0</span>, <span class="number">513.3</span>, <span class="number">559.7</span>, <span class="number">594.8</span>,</span><br><span class="line">              <span class="number">629.4</span>, <span class="number">640.8</span>, <span class="number">651.1</span>, <span class="number">655.9</span>, <span class="number">659.6</span>, <span class="number">661.8</span>]</span><br><span class="line">    plt.title(<span class="string">&#x27;Relationship between time and number&#x27;</span>)  <span class="comment"># åˆ›å»ºæ ‡é¢˜</span></span><br><span class="line">    plt.xlabel(<span class="string">&#x27;time&#x27;</span>)  <span class="comment"># Xè½´æ ‡ç­¾</span></span><br><span class="line">    plt.ylabel(<span class="string">&#x27;number&#x27;</span>)  <span class="comment"># Yè½´æ ‡ç­¾</span></span><br><span class="line">    plt.scatter(time, number)</span><br><span class="line">    plt.plot(time, number)  <span class="comment"># ç”»å›¾</span></span><br><span class="line">    plt.show()  <span class="comment"># æ˜¾ç¤º</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126191447722-1250708994.png" style="zoom:80%;">

</li>
</ul>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126191835753-994528864.png" style="zoom: 33%;">



<ul>
<li>Î”pï¼šå› ä¸ºæ¨ªåæ ‡é—´éš”æ˜¯1ï¼Œæ‰€ä»¥ç›¸é‚»çºµåæ ‡ä¹‹å·®å¯ä»¥å½“æˆå¢é€Ÿ</li>
<li>665æ˜¯æé™æ€»ç¾¤æ•°é‡</li>
<li>è¦æ±‚çš„æ˜¯k,ç„¶åé¢„æµ‹ä¸‹ä¸€å¹´</li>
<li>éœ€è¦ä¿®æ”¹çš„æ˜¯4ï¼Œ17ï¼Œ18è¡Œï¼Œå¦‚æœä¸åªæ˜¯ç®—ä¸‹ä¸€å¹´ï¼Œé‚£è¦æ”¹40ï¼Œ46è¡Œ</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">Max = <span class="number">665</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ç›¸é‚»çºµåæ ‡çš„å·®å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_delta</span>(<span class="params">y_num: <span class="built_in">list</span></span>):</span></span><br><span class="line">    delta_y = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y_num) - <span class="number">1</span>):</span><br><span class="line">        delta_y.append(y_num[i + <span class="number">1</span>] - y_num[i])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> delta_y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    time = [_ <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">19</span>)]</span><br><span class="line">    number = [<span class="number">9.6</span>, <span class="number">18.3</span>, <span class="number">29</span>, <span class="number">47.2</span>, <span class="number">71.1</span>, <span class="number">119.1</span>, <span class="number">174.6</span>,</span><br><span class="line">              <span class="number">257.3</span>, <span class="number">350.7</span>, <span class="number">441.0</span>, <span class="number">513.3</span>, <span class="number">559.7</span>, <span class="number">594.8</span>,</span><br><span class="line">              <span class="number">629.4</span>, <span class="number">640.8</span>, <span class="number">651.1</span>, <span class="number">655.9</span>, <span class="number">659.6</span>, <span class="number">661.8</span>]</span><br><span class="line"></span><br><span class="line">    plt.title(<span class="string">&#x27;Relationship between time and number&#x27;</span>)  <span class="comment"># åˆ›å»ºæ ‡é¢˜</span></span><br><span class="line">    plt.xlabel(<span class="string">&#x27;time&#x27;</span>)  <span class="comment"># Xè½´æ ‡ç­¾</span></span><br><span class="line">    plt.ylabel(<span class="string">&#x27;number&#x27;</span>)  <span class="comment"># Yè½´æ ‡ç­¾</span></span><br><span class="line">    plt.scatter(time, number)</span><br><span class="line">    plt.plot(time, number)  <span class="comment"># ç”»å›¾</span></span><br><span class="line">    <span class="comment"># plt.show()  # æ˜¾ç¤ºï¼Œ æ³¨é‡Šæ‰åï¼Œå®é™…æ›²çº¿å’Œé¢„æµ‹æ›²çº¿æ³›åœ¨åŒä¸€ä¸ªå›¾é‡Œé¢å¯¹æ¯”</span></span><br><span class="line"></span><br><span class="line">    delta_p = get_delta(number)</span><br><span class="line">    number.pop(-<span class="number">1</span>)</span><br><span class="line">    pn = np.array(number)</span><br><span class="line">    f = pn * (Max - pn)</span><br><span class="line">    res = np.polyfit(f, delta_p, <span class="number">1</span>)</span><br><span class="line">    print(res)</span><br><span class="line">    print(<span class="string">&#x27;k = &#x27;</span>, res[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¢„æµ‹</span></span><br><span class="line">    p0 = number[<span class="number">0</span>]</span><br><span class="line">    p_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(time) + <span class="number">1</span>):</span><br><span class="line">        p_list.append(p0)</span><br><span class="line">        p0 = res[<span class="number">0</span>] * (Max - p0) * p0 + p0</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;time&#x27;</span>)  <span class="comment"># Xè½´æ ‡ç­¾</span></span><br><span class="line">    plt.ylabel(<span class="string">&#x27;number&#x27;</span>)  <span class="comment"># Yè½´æ ‡ç­¾</span></span><br><span class="line">    plt.title(<span class="string">&#x27;Prediction&#x27;</span>)  <span class="comment"># åˆ›å»ºæ ‡é¢˜</span></span><br><span class="line">    plt.scatter([_ <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(time) + <span class="number">1</span>)], p_list, c=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">    plt.plot(p_list)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[ 0.00081448 -0.30791574]</span><br><span class="line">k &#x3D;  0.0008144797937893836</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>




<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126200256933-2071649500.png" style="zoom:80%;">







<h2 id="æ˜¾å¼å·®åˆ†"><a href="#æ˜¾å¼å·®åˆ†" class="headerlink" title="æ˜¾å¼å·®åˆ†"></a>æ˜¾å¼å·®åˆ†</h2><ul>
<li>çƒ­ä¼ å¯¼æ–¹ç¨‹ï¼Œè§<a href="https://www.bilibili.com/video/BV12h411d7Dm?p=8">https://www.bilibili.com/video/BV12h411d7Dm?p=8</a></li>
</ul>
<h2 id="é©¬å°”ç§‘å¤«é“¾"><a href="#é©¬å°”ç§‘å¤«é“¾" class="headerlink" title="é©¬å°”ç§‘å¤«é“¾"></a>é©¬å°”ç§‘å¤«é“¾</h2><h4 id="é€‰ä¸¾æŠ•ç¥¨é¢„æµ‹"><a href="#é€‰ä¸¾æŠ•ç¥¨é¢„æµ‹" class="headerlink" title="é€‰ä¸¾æŠ•ç¥¨é¢„æµ‹"></a>é€‰ä¸¾æŠ•ç¥¨é¢„æµ‹</h4><ul>
<li><p>é©¬å°”ç§‘å¤«é“¾æ˜¯ç”±å…·æœ‰ä»¥ä¸‹æ€§è´¨çš„ä¸€ç³»åˆ—äº‹ä»¶æ„æˆçš„è¿‡ç¨‹ï¼š </p>
<ul>
<li><p>ä¸€ä¸ªäº‹ä»¶æœ‰æœ‰é™å¤šä¸ªç»“æœï¼Œç§°ä¸ºçŠ¶æ€ï¼Œè¯¥è¿‡ç¨‹æ€»æ˜¯è¿™äº›çŠ¶æ€ä¸­çš„ä¸€ä¸ªï¼› </p>
</li>
<li><p>åœ¨è¿‡ç¨‹çš„æ¯ä¸ªé˜¶æ®µæˆ–è€…æ—¶æ®µï¼Œä¸€ä¸ªç‰¹å®šçš„ç»“æœå¯ä»¥ä»å®ƒç°åœ¨çš„çŠ¶æ€è½¬ç§»åˆ°ä»»ä½•çŠ¶æ€ï¼Œæˆ–è€…ä¿æŒåŸçŠ¶ï¼› </p>
</li>
<li><p>æ¯ä¸ªé˜¶æ®µä»ä¸€ä¸ªçŠ¶æ€è½¬ç§»åˆ°å…¶ä»–çŠ¶æ€çš„æ¦‚ç‡ç”¨ä¸€ä¸ªè½¬ç§»çŸ©é˜µè¡¨ç¤ºï¼ŒçŸ©é˜µæ¯è¡Œçš„å„å…ƒç´ åœ¨0åˆ°1ä¹‹é—´ï¼Œæ¯è¡Œçš„å’Œä¸º1ã€‚</p>
</li>
</ul>
</li>
<li><p>é€‰ä¸¾æŠ•ç¥¨è¶‹åŠ¿é¢„æµ‹ </p>
<ul>
<li><p>ä»¥ç¾å›½å¤§é€‰ä¸ºä¾‹ï¼Œé¦–å…ˆå–å¾—è¿‡å»åæ¬¡é€‰ä¸¾çš„å†å²æ•°æ®ï¼Œç„¶åæ ¹æ®å†å²æ•°æ®å¾—åˆ°é€‰æ°‘æ„å‘çš„è½¬ç§»çŸ©é˜µï¼Œè½¬ç§»çŸ©é˜µå¦‚ä¸‹</p>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126201527059-1102395362.png" style="zoom:70%;">
</li>
<li><p>æ¯”å¦‚ï¼Œå½“å‰çŠ¶æ€çš„å…±å’Œå…šè½¬ç§»åˆ°ä¸‹ä¸€çŠ¶æ€çš„å…±å’Œå…šçš„æ¦‚ç‡æ˜¯0.75ï¼Œä»¥æ­¤ç±»æ¨</p>
<p>å³å¦‚ä¸‹å…³ç³»ï¼š</p>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126201916793-1556439911.png" style="zoom: 50%;">
</li>
<li><p>ç„¶åæˆ‘ä»¬å¯ä»¥æ„é€ å‡ºå·®åˆ†è¡¨è¾¾å¼(å…±å’Œå…šRï¼Œæ°‘ä¸»å…šDï¼Œç‹¬ç«‹å€™é€‰äººI)ï¼š</p>
<p>ä¹Ÿå°±æ˜¯ä¸‹ä¸ªçŠ¶æ€ç­‰äºå‰ä¸€ä¸ªçŠ¶æ€çš„æ‰€æœ‰å¯èƒ½ä¹‹å’Œ</p>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126202109626-1562639525.png" style="zoom: 50%;">
</li>
<li><p>é€šè¿‡æ±‚è§£å·®åˆ†æ–¹ç¨‹ç»„ï¼Œé¢„æµ‹å‡ºé€‰æ°‘æŠ•ç¥¨æ„å‘çš„é•¿æœŸè¶‹åŠ¿</p>
<ul>
<li><p>plt.annotateæ˜¯æ ‡è®°æ–‡æœ¬ï¼Œå¦‚</p>
<figure class="highlight plain"><figcaption><span>xy</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#96;&#96;&#96;python</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line"></span><br><span class="line">    RLIST &#x3D; [1 &#x2F; 3]</span><br><span class="line">    DLIST &#x3D; [1 &#x2F; 3]</span><br><span class="line">    ILIST &#x3D; [1 &#x2F; 3]</span><br><span class="line">    for i in range(40):</span><br><span class="line">        R &#x3D; RLIST[i] * 0.75 + DLIST[i] * 0.20 + ILIST[i] * 0.40</span><br><span class="line">        RLIST.append(R)</span><br><span class="line">        D &#x3D; RLIST[i] * 0.05 + DLIST[i] * 0.60 + ILIST[i] * 0.20</span><br><span class="line">        DLIST.append(D)</span><br><span class="line">        I &#x3D; RLIST[i] * 0.20 + DLIST[i] * 0.20 + ILIST[i] * 0.40</span><br><span class="line">        ILIST.append(I)</span><br><span class="line">        plt.plot(RLIST)</span><br><span class="line">        plt.plot(DLIST)</span><br><span class="line">        plt.plot(ILIST)</span><br><span class="line">        plt.xlabel(&#39;Time&#39;)</span><br><span class="line">        plt.ylabel(&#39;Voting percent&#39;)</span><br><span class="line">        plt.annotate(&#39;DemocraticParty&#39;, xy&#x3D;(5, 0.2))</span><br><span class="line">        plt.annotate(&#39;RepublicanParty&#39;, xy&#x3D;(5, 0.5))</span><br><span class="line">        plt.annotate(&#39;IndependentCandidate&#39;, xy&#x3D;(5, 0.25))</span><br><span class="line">        plt.show()</span><br><span class="line">        print(RLIST, DLIST, ILIST)</span><br><span class="line"></span><br><span class="line">    print(&#39;é¢„æµ‹çš„æœ€åä¸€å¹´ï¼šRLIST: &#123;&#125;, DLIST: &#123;&#125;, ILIST: &#123;&#125;&#39;.format(RLIST[-1], DLIST[-1], ILIST[-1]))</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>éå†ç”»å‡ºæ¯ä¸€å¹´ï¼Œè¿™æ˜¯æœ€åä¸€å¹´çš„å›¾</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">......</span><br><span class="line">......</span><br><span class="line">é¢„æµ‹çš„æœ€åä¸€å¹´ï¼šRLIST: 0.5555555555483689, DLIST: 0.1944444444516318, ILIST: 0.2500000000000002</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210126203544341-212524774.png" style="zoom:80%;">

<ul>
<li><p>æœ€åå¾—åˆ°çš„é•¿æœŸè¶‹åŠ¿æ˜¯ï¼š </p>
<p>56%çš„äººé€‰å…±å’Œå…šã€ </p>
<p>19%çš„äººé€‰æ°‘ä¸»å…šã€ </p>
<p>25%çš„äººé€‰ç‹¬ç«‹å€™é€‰äºº</p>
</li>
</ul>
</li>
</ul>
<h1 id="ç°è‰²ä¸æ¨¡ç³Š"><a href="#ç°è‰²ä¸æ¨¡ç³Š" class="headerlink" title="ç°è‰²ä¸æ¨¡ç³Š"></a>ç°è‰²ä¸æ¨¡ç³Š</h1><h2 id="å¤šå±‚æ¨¡ç³Šè¯„ä»·"><a href="#å¤šå±‚æ¨¡ç³Šè¯„ä»·" class="headerlink" title="å¤šå±‚æ¨¡ç³Šè¯„ä»·"></a>å¤šå±‚æ¨¡ç³Šè¯„ä»·</h2><ul>
<li>è§èµ„æ–™</li>
</ul>
<h2 id="æ¨¡ç³Šcå‡å€¼èšç±»"><a href="#æ¨¡ç³Šcå‡å€¼èšç±»" class="headerlink" title="æ¨¡ç³Šcå‡å€¼èšç±»"></a>æ¨¡ç³Šcå‡å€¼èšç±»</h2><ul>
<li>åŸç†è§èµ„æ–™</li>
<li>èšç±»çš„ç®—æ³•å®ç°å‚è€ƒæˆ‘ä¹‹å‰sklearné‡Œé¢çš„èšç±»ç®—æ³•å®ç°å°±è¡Œäº†</li>
</ul>
<h2 id="ç°è‰²é¢„æµ‹-ç»å…¸å¸¸ç”¨"><a href="#ç°è‰²é¢„æµ‹-ç»å…¸å¸¸ç”¨" class="headerlink" title="ç°è‰²é¢„æµ‹(ç»å…¸å¸¸ç”¨)"></a>ç°è‰²é¢„æµ‹(ç»å…¸å¸¸ç”¨)</h2><ul>
<li><p>ç°è‰²é¢„æµ‹æ˜¯ç”¨ç°è‰²æ¨¡å¼GM(1,1)æ¥è¿›è¡Œå®šé‡åˆ†æçš„ï¼Œé€šå¸¸åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š </p>
<ul>
<li><p>ç°è‰²æ—¶é—´åºåˆ—é¢„æµ‹ã€‚ç”¨ç­‰æ—¶è·è§‚æµ‹åˆ°çš„åæ˜ é¢„æµ‹å¯¹è±¡ç‰¹å¾çš„ä¸€ç³»åˆ—æ•°é‡ï¼ˆå¦‚äº§é‡ã€é”€é‡ã€äººå£æ•°é‡ã€å­˜æ¬¾æ•°é‡ã€åˆ©ç‡ç­‰ï¼‰æ„é€ ç°è‰²é¢„æµ‹æ¨¡å‹ï¼Œé¢„æµ‹æœªæ¥æŸä¸€æ—¶åˆ»çš„ç‰¹å¾é‡ï¼Œæˆ–è€…è¾¾åˆ°æŸç‰¹å¾é‡çš„æ—¶é—´ã€‚ </p>
</li>
<li><p>ç•¸å˜é¢„æµ‹ï¼ˆç¾å˜é¢„æµ‹ï¼‰ã€‚é€šè¿‡æ¨¡å‹é¢„æµ‹å¼‚å¸¸å€¼å‡ºç°çš„æ—¶åˆ»ï¼Œé¢„æµ‹å¼‚å¸¸å€¼ä»€ä¹ˆæ—¶å€™å‡ºç°åœ¨ç‰¹å®šæ—¶åŒºå†…ã€‚ </p>
</li>
<li><p>æ³¢å½¢é¢„æµ‹ï¼Œæˆ–æ‹“æ‰‘é¢„æµ‹ï¼Œé€šè¿‡ç°è‰²æ¨¡å‹é¢„æµ‹äº‹ç‰©æœªæ¥å˜åŠ¨çš„è½¨è¿¹ã€‚ </p>
</li>
<li><p>ç³»ç»Ÿé¢„æµ‹ï¼Œå¯¹ç³»ç»Ÿè¡Œä¸ºç‰¹å¾æŒ‡æ ‡å»ºç«‹ä¸€æ—ç›¸äº’å…³è”çš„ç°è‰²é¢„æµ‹ç†è®ºæ¨¡å‹ï¼Œåœ¨é¢„æµ‹ç³»ç»Ÿæ•´ä½“å˜åŒ–çš„åŒæ—¶ï¼Œé¢„æµ‹ç³»ç»Ÿå„ä¸ªç¯èŠ‚çš„å˜åŒ–ã€‚ </p>
</li>
</ul>
</li>
<li><p>ä¸Šè¿°ç°è‰²é¢„æµ‹æ–¹æ³•çš„å…±åŒç‰¹å¾æ˜¯ï¼š </p>
<ul>
<li><p><strong>å…è®¸å°‘æ•°æ®é¢„æµ‹</strong>ï¼› </p>
</li>
<li><p>å…è®¸å¯¹ç°å› æœå¾‹å®è·µè¿›è¡Œé¢„æµ‹ï¼Œä¾‹å¦‚ï¼š </p>
<ul>
<li><p>ç°å› ç™½æœå¾‹äº‹ä»¶ï¼šç²®é£Ÿç”Ÿäº§é¢„æµ‹(å°±æ˜¯ç»“æœäº§é‡æ˜¯å·²çŸ¥çš„ï¼Œä¸­é—´å—ä»€ä¹ˆå› ç´ å½±å“æ˜¯æœªçŸ¥çš„)</p>
</li>
<li><p>ç™½å› ç°æœå¾‹äº‹ä»¶ï¼šå¼€æ”¾é¡¹ç›®å‰æ™¯é¢„æµ‹(è¿‡ç¨‹å·²çŸ¥ï¼Œä½†æ˜¯ç»“æœå‰æ™¯æœªçŸ¥)</p>
</li>
</ul>
</li>
<li><p>å…·æœ‰å¯æ£€éªŒæ€§ï¼ˆäº‹å‰æ£€éªŒï¼šå»ºæ¨¡å¯è¡Œæ€§çº§æ¯”æ£€éªŒï¼›æ¨¡å‹æ£€éªŒï¼šå»ºæ¨¡ç²¾åº¦æ£€éªŒï¼› </p>
</li>
</ul>
<p>é¢„æµ‹æ£€éªŒï¼šé¢„æµ‹æ»šåŠ¨æ£€éªŒï¼‰</p>
</li>
</ul>
<ul>
<li>æ¨¡å‹ç†è®ºéƒ¨åˆ†è§èµ„æ–™æˆ–è€…ç½‘ä¸Šçœ‹</li>
</ul>
<h3 id="ç®—æ³•æ­¥éª¤"><a href="#ç®—æ³•æ­¥éª¤" class="headerlink" title="ç®—æ³•æ­¥éª¤"></a>ç®—æ³•æ­¥éª¤</h3><ul>
<li><p>è¦ä½¿ç”¨ç°è‰²é¢„æµ‹æ¨¡å‹ï¼Œé¦–å…ˆçœ‹çœ‹é€‚ä¸é€‚ç”¨</p>
</li>
<li><p>å¦‚æœçº§æ¯”éƒ½è½åœ¨å¯å®¹è¦†ç›–èŒƒå›´å†…ï¼Œå°±ç›´æ¥ç”¨</p>
<p>å¦åˆ™åšå¹³ç§»å˜æ¢</p>
</li>
</ul>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210127004120044-586264331.png" style="zoom: 50%;">

<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210127004905362-1976707119.png" style="zoom: 67%;">



<ul>
<li>ä»£ç éƒ¨åˆ†æ˜¯å¯ä»¥ä½¿ç”¨cudaåŠ é€Ÿçš„</li>
<li>åªéœ€æ”¹87è¡Œçš„è¾“å…¥æ•°æ®å’Œ93è¡Œçš„é¢„æµ‹ä¸ªæ•°m</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch <span class="keyword">as</span> th</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GM</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># åˆ¤æ–­æ˜¯å¦å¯ç”¨ gpu ç¼–ç¨‹ , å¤§é‡çº§è®¡ç®—ä½¿ç”¨GPU</span></span><br><span class="line">        self._is_gpu = <span class="literal">False</span>  <span class="comment"># th.cuda.is_available()</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span>(<span class="params">self, dt: <span class="built_in">list</span> <span class="keyword">or</span> np.ndarray</span>):</span></span><br><span class="line">        self._df: th.Tensor = th.from_numpy(np.array(dt, dtype=np.float32))</span><br><span class="line">        <span class="keyword">if</span> self._is_gpu:</span><br><span class="line">            self._df.cuda()</span><br><span class="line">        self._n: <span class="built_in">int</span> = <span class="built_in">len</span>(self._df)</span><br><span class="line">        self._x, self._max_value = self._sigmod(self._df)</span><br><span class="line">        z: th.Tensor = self._next_to_mean(th.cumsum(self._x, dim=<span class="number">0</span>))</span><br><span class="line">        self.coef: th.Tensor = self._coefficient(self._x, z)</span><br><span class="line">        <span class="keyword">del</span> z</span><br><span class="line">        self._x0: th.Tensor = self._x[<span class="number">0</span>]</span><br><span class="line">        self._pre: th.Tensor = self._pred()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å½’ä¸€åŒ–</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_sigmod</span>(<span class="params">self, x: th.Tensor</span>):</span></span><br><span class="line">        _maxv: th.Tensor = th.<span class="built_in">max</span>(x)</span><br><span class="line">        <span class="keyword">return</span> th.div(x, _maxv), _maxv</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—ç´§é‚»å‡å€¼æ•°åˆ—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_next_to_mean</span>(<span class="params">self, x_1: th.Tensor</span>):</span></span><br><span class="line">        z: th.Tensor = th.zeros(self._n - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> self._is_gpu:</span><br><span class="line">            z.cuda()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, self._n):  <span class="comment"># ä¸‹æ ‡ä»0å¼€å§‹ï¼Œå–ä¸åˆ°æœ€å¤§å€¼</span></span><br><span class="line">            z[i - <span class="number">1</span>] = <span class="number">0.5</span> * x_1[i] + <span class="number">0.5</span> * x_1[i - <span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> z</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—ç³»æ•° a,b</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_coefficient</span>(<span class="params">self, x: th.Tensor, z: th.Tensor</span>):</span></span><br><span class="line">        B: th.Tensor = th.stack((-<span class="number">1</span> * z, th.ones(self._n - <span class="number">1</span>)), dim=<span class="number">1</span>)</span><br><span class="line">        Y: th.Tensor = th.tensor(x[<span class="number">1</span>:], dtype=th.float32).reshape((-<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">if</span> self._is_gpu:</span><br><span class="line">            B.cuda()</span><br><span class="line">            Y.cuda()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¿”å›çš„æ˜¯aå’Œbçš„å‘é‡è½¬ç½®ï¼Œç¬¬ä¸€ä¸ªæ˜¯a ç¬¬äºŒä¸ªæ˜¯bï¼›</span></span><br><span class="line">        <span class="keyword">return</span> th.matmul(th.matmul(th.inverse(th.matmul(B.t(), B)), B.t()), Y)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_pred</span>(<span class="params">self, start: <span class="built_in">int</span> = <span class="number">1</span>, end: <span class="built_in">int</span> = <span class="number">0</span></span>):</span></span><br><span class="line">        les: <span class="built_in">int</span> = self._n + end</span><br><span class="line">        resut: th.Tensor = th.zeros(les)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self._is_gpu:</span><br><span class="line">            resut.cuda()</span><br><span class="line">        resut[<span class="number">0</span>] = self._x0</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start, les):</span><br><span class="line">            resut[i] = (self._x0 - (self.coef[<span class="number">1</span>] / self.coef[<span class="number">0</span>])) * \</span><br><span class="line">                       (<span class="number">1</span> - th.exp(self.coef[<span class="number">0</span>])) * th.exp(-<span class="number">1</span> * self.coef[<span class="number">0</span>] * (i))</span><br><span class="line">        <span class="keyword">del</span> les</span><br><span class="line">        <span class="keyword">return</span> resut</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—ç»å¯¹è¯¯å·®</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">confidence</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">round</span>((th.<span class="built_in">sum</span>(th.<span class="built_in">abs</span>(th.div((self._x - self._pre), self._x))) / self._n).item(), <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¢„æµ‹ä¸ªæ•°ï¼Œé»˜è®¤ä¸ªæ•°å¤§äºç­‰äº0ï¼Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span>(<span class="params">self, m: <span class="built_in">int</span> = <span class="number">1</span>, decimals: <span class="built_in">int</span> = <span class="number">4</span></span>):</span></span><br><span class="line">        y_pred: th.Tensor = th.mul(self._pre, self._max_value)</span><br><span class="line">        y_pred_ = th.zeros(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> m &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;é¢„æµ‹ä¸ªæ•°éœ€å¤§äºç­‰äº0&quot;</span></span><br><span class="line">        <span class="keyword">elif</span> m &gt; <span class="number">0</span>:</span><br><span class="line">            y_pred_: th.Tensor = self._pred(self._n, m)[-m:].mul(self._max_value)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> self._is_gpu:</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> _: <span class="built_in">round</span>(_, decimals), y_pred.cpu().numpy().tolist()))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> _: <span class="built_in">round</span>(_, decimals), y_pred.numpy().tolist()))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># cat æ‹¼æ¥ 0 xæ°´å¹³æ‹¼æ¥ï¼Œ1yå‚ç›´æ‹¼æ¥</span></span><br><span class="line">        result: th.Tensor = th.cat((y_pred, y_pred_), dim=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">del</span> y_pred, y_pred_</span><br><span class="line">        <span class="keyword">if</span> self._is_gpu:</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> _: <span class="built_in">round</span>(_, decimals), result.cpu().numpy().tolist()))</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> _: <span class="built_in">round</span>(_, decimals), result.numpy().tolist()))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    ls = np.arange(<span class="number">91</span>, <span class="number">100</span>, <span class="number">2</span>)  <span class="comment"># lsæ˜¯åŸå§‹çš„å€¼</span></span><br><span class="line">    print(<span class="built_in">type</span>(ls))</span><br><span class="line">    gm = GM()</span><br><span class="line">    gm.fit(ls)</span><br><span class="line">    print(<span class="string">&#x27;ç»å¯¹è¯¯å·®: &#x27;</span>, gm.confidence())</span><br><span class="line">    print(<span class="string">&#x27;åŸå§‹å€¼: &#x27;</span>, ls)</span><br><span class="line">    print(<span class="string">&#x27;é¢„æµ‹: &#x27;</span>, gm.predict(m=<span class="number">2</span>))  <span class="comment"># mæ˜¯2ä»£è¡¨è¦é¢„æµ‹åé¢ä¸¤ä¸ªå€¼</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;class &#39;numpy.ndarray&#39;&gt;</span><br><span class="line">ç»å¯¹è¯¯å·®:  0.0002</span><br><span class="line">åŸå§‹å€¼:  [91 93 95 97 99]</span><br><span class="line">é¢„æµ‹:  [91.0, 93.0178, 94.9758, 96.9751, 99.0164, 101.1007, 103.2289]</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>


<h1 id="è’™ç‰¹å¡ç½—"><a href="#è’™ç‰¹å¡ç½—" class="headerlink" title="è’™ç‰¹å¡ç½—"></a>è’™ç‰¹å¡ç½—</h1><h2 id="è’™ç‰¹å¡ç½—ç®—æ³•"><a href="#è’™ç‰¹å¡ç½—ç®—æ³•" class="headerlink" title="è’™ç‰¹å¡ç½—ç®—æ³•"></a>è’™ç‰¹å¡ç½—ç®—æ³•</h2><ul>
<li><p>ç”±å†¯.è¯ºä¾æ›¼æå‡ºæ¥çš„</p>
</li>
<li><p>è’™ç‰¹Â·å¡ç½—(Monte Carlo method)åˆç§°ç»Ÿè®¡æ¨¡æ‹Ÿæ–¹æ³•ï¼Œä¸€ç§ä»¥æ¦‚ç‡ç»Ÿè®¡ç†è®ºä¸ºæŒ‡å¯¼çš„æ•°å€¼è®¡ç®—æ–¹æ³•ã€‚æ˜¯æŒ‡ä½¿ç”¨éšæœºæ•°(æˆ–è€…ä¼ªéšæœºæ•°)æ¥è§£å†³å¾ˆå¤šè®¡ç®—é—®é¢˜çš„æ–¹æ³•ã€‚</p>
</li>
<li><p>åŸºæœ¬æ€æƒ³</p>
<p>å½“æ‰€æ±‚è§£é—®é¢˜æ˜¯æŸç§éšæœºäº‹ä»¶å‡ºç°çš„æ¦‚ç‡ï¼Œæˆ–è€…æ˜¯æŸä¸ªéšæœºå˜é‡çš„æœŸæœ›å€¼æ—¶ï¼Œé€šè¿‡æŸç§â€œå®éªŒâ€çš„æ–¹æ³•ï¼Œä»¥è¿™ç§äº‹ä»¶å‡ºç°çš„é¢‘ç‡ä¼°è®¡è¿™ä¸€éšæœºäº‹ä»¶çš„æ¦‚ç‡ï¼Œæˆ–è€…å¾—åˆ°è¿™ä¸ªéšæœºå˜é‡çš„æŸäº›æ•°å­—ç‰¹å¾ï¼Œå¹¶å°†å…¶ä½œä¸ºé—®é¢˜çš„è§£ã€‚</p>
</li>
</ul>
<h4 id="ä¸¾ä¾‹-6"><a href="#ä¸¾ä¾‹-6" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4><ul>
<li><p><strong>è’™ç‰¹å¡ç½—æ–¹æ³•æ±‚åœ†å‘¨ç‡</strong> </p>
<p>åŸºæœ¬æ€æƒ³ï¼šåœ¨å›¾ä¸­åŒºåŸŸäº§ç”Ÿè¶³å¤Ÿå¤šçš„éšæœºæ•°ç‚¹ï¼Œç„¶åè®¡ç®—è½åœ¨åœ†å†…çš„ç‚¹çš„ä¸ªæ•°ä¸æ€»ä¸ªæ•°çš„æ¯”å€¼å†ä¹˜ä»¥4ï¼Œå°±æ˜¯åœ†å‘¨ç‡ã€‚</p>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210127142359134-1130879298.png" style="zoom: 67%;">
</li>
<li><p>random.random()å¾—åˆ°çš„æ˜¯0åˆ°1ä¹‹é—´çš„(ä¼ª)éšæœºæ•°ï¼Œè‹¥è¦æŸä¸ªæ•´æ•°èŒƒå›´ï¼Œåˆ™ç”¨random.randint(a, b)ï¼Œæ˜¯æœ‰åŒ…æ‹¬aå’Œbçš„</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"></span><br><span class="line">    M = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥ä¸€ä¸ªè¾ƒå¤§çš„æ•´æ•°&#x27;</span>)</span><br><span class="line">    N = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">int</span>(M)):</span><br><span class="line">        x = random.random()</span><br><span class="line">        y = random.random()</span><br><span class="line">        <span class="keyword">if</span> math.sqrt(x ** <span class="number">2</span> + y ** <span class="number">2</span>) &lt; <span class="number">1</span>:</span><br><span class="line">            N += <span class="number">1</span></span><br><span class="line">            pi = <span class="number">4</span> * N / <span class="built_in">int</span>(M)</span><br><span class="line">            <span class="comment"># print(pi)</span></span><br><span class="line">    print(pi)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¯·è¾“å…¥ä¸€ä¸ªè¾ƒå¤§çš„æ•´æ•°9999999</span><br><span class="line">3.1417339141733915</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>


<ul>
<li><p><strong>è’™ç‰¹å¡ç½—æ±‚å®šç§¯åˆ†</strong></p>
<p>åˆ©ç”¨pythonè®¡ç®—å‡½æ•°y=x**2åœ¨[0,1]åŒºé—´çš„å®šç§¯åˆ† </p>
<p>åŸºæœ¬æ€æƒ³ï¼šå’Œä¸Šä¾‹ç›¸ä¼¼</p>
<p><img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210127145751634-1347413778.png"></p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æ±‚f(x) = x^2çš„å®šç§¯åˆ†</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥ä¸€ä¸ªè¾ƒå¤§çš„æ•´æ•°:&#x27;</span>))</span><br><span class="line">    m = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        x = random.random()</span><br><span class="line">        y = random.random()</span><br><span class="line">        <span class="keyword">if</span> y &lt; x ** <span class="number">2</span>:  <span class="comment"># æ‰¾åˆ°è½åœ¨f(x)ä¸‹é¢çš„ç‚¹</span></span><br><span class="line">            m += <span class="number">1</span></span><br><span class="line">    R = m / n <span class="comment"># è¿™é‡Œå› ä¸ºæ€»é¢ç§¯æ˜¯1æ‰€ä»¥çœç•¥ä¹˜ä»¥1äº†</span></span><br><span class="line">    print(R)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¯·è¾“å…¥ä¸€ä¸ªè¾ƒå¤§çš„æ•´æ•°:999999</span><br><span class="line">0.33292533292533294</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>


<h2 id="ä¸‰é—¨é—®é¢˜"><a href="#ä¸‰é—¨é—®é¢˜" class="headerlink" title="ä¸‰é—¨é—®é¢˜"></a>ä¸‰é—¨é—®é¢˜</h2><ul>
<li><p>èƒŒæ™¯</p>
<p>ä¸‰é—¨é—®é¢˜ï¼ˆMonty Hall probelmï¼‰äº¦ç§°ä¸ºè’™æéœå°”é—®é¢˜ï¼Œå‡ºè‡ªç¾å›½ç”µè§†æ¸¸æˆèŠ‚ç›®Letâ€™s Make a Dealã€‚å‚èµ›è€…ä¼šçœ‹è§ä¸‰æ‰‡å…³é—­äº†çš„é—¨ï¼Œå…¶ä¸­ä¸€æ‰‡çš„åé¢æœ‰ä¸€è¾†æ±½è½¦ï¼Œé€‰ä¸­åé¢æœ‰è½¦çš„é‚£æ‰‡é—¨å¯èµ¢å¾—è¯¥æ±½è½¦ï¼Œå¦å¤–ä¸¤æ‰‡é—¨åˆ™å„è—æœ‰ä¸€åªå±±ç¾Šã€‚å½“å‚èµ›è€…é€‰å®šäº†ä¸€æ‰‡é—¨ï¼Œä½†æœªå»å¼€å¯å®ƒçš„æ—¶å€™ï¼ŒèŠ‚ç›®ä¸»æŒäººå¼€å¯å‰©ä¸‹ä¸¤æ‰‡é—¨çš„å…¶ä¸­ä¸€æ‰‡ï¼Œéœ²å‡ºå…¶ä¸­ä¸€åªå±±ç¾Šã€‚ä¸»æŒäººå…¶åé—®å‚èµ›è€…è¦ä¸è¦æ¢å¦ä¸€æ‰‡ä»ç„¶å…³ä¸Šçš„é—¨ã€‚é—®é¢˜æ˜¯ï¼šæ¢å¦ä¸€æ‰‡é—¨æ˜¯å¦ä¼šå¢åŠ å‚èµ›è€…èµ¢å¾—æ±½è½¦çš„å‡ ç‡ï¼Ÿå¦‚æœä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°æ¡ä»¶ï¼Œå³ä¸»æŒäººæ¸…æ¥šåœ°çŸ¥é“ï¼Œè‡ªå·±æ‰“å¼€çš„é‚£æ‰‡é—¨åé¢æ˜¯ç¾Šï¼Œé‚£ä¹ˆç­”æ¡ˆæ˜¯ä¼šã€‚ä¸æ¢é—¨çš„è¯ï¼Œèµ¢å¾—æ±½è½¦çš„å‡ ç‡æ˜¯1/3,æ¢é—¨çš„è¯ï¼Œèµ¢å¾—æ±½è½¦çš„å‡ ç‡æ˜¯2/3</p>
</li>
<li><p>åº”ç”¨è’™ç‰¹å¡ç½—é‡ç‚¹åœ¨ä½¿ç”¨éšæœºæ•°æ¥æ¨¡æ‹Ÿç±»ä¼¼äºèµŒåšé—®é¢˜çš„èµ¢ç‡é—®é¢˜ï¼Œé€šè¿‡å¤šæ¬¡æ¨¡æ‹Ÿå¾—åˆ°æ‰€è¦è®¡ç®—å€¼çš„æ¨¡æ‹Ÿå€¼</p>
</li>
<li><p>è§£å†³æ€è·¯ï¼š</p>
<p>åœ¨ä¸‰é—¨é—®é¢˜ä¸­ï¼Œç”¨0ã€1ã€2åˆ†ä»£è¡¨ä¸‰æ‰‡é—¨çš„ç¼–å·ï¼Œåœ¨[0,2]ä¹‹é—´éšæœºç”Ÿæˆä¸€ä¸ªæ•´æ•°ä»£è¡¨å¥–å“æ‰€åœ¨é—¨çš„ç¼–å·prizeï¼Œå†æ¬¡åœ¨[0,2]ä¹‹é—´éšæœºç”Ÿæˆä¸€ä¸ªæ•´æ•°ä»£è¡¨å‚èµ›è€…æ‰€é€‰æ‹©çš„é—¨çš„ç¼–å·guessã€‚ç”¨å˜é‡changeä»£è¡¨æ¸¸æˆä¸­çš„æ¢é—¨(true)ä¸ä¸æ¢é—¨(false)</p>
<img src="https://img2020.cnblogs.com/blog/2134757/202101/2134757-20210127152448229-250150715.png" style="zoom:80%;">





</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play</span>(<span class="params">change</span>):</span></span><br><span class="line">    prize = random.randint(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">    guess = random.randint(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> prize == guess:</span><br><span class="line">        <span class="keyword">if</span> change:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> change:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">winRate</span>(<span class="params">change, N</span>):</span></span><br><span class="line">    win = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, N):</span><br><span class="line">        <span class="keyword">if</span> play(change):</span><br><span class="line">            win = win + <span class="number">1</span></span><br><span class="line">            <span class="comment"># print(&#x27;ä¸­å¥–ç‡ä¸º: &#x27;)</span></span><br><span class="line">            <span class="comment"># print(win / N)</span></span><br><span class="line">    print(<span class="string">&#x27;ä¸­å¥–ç‡ä¸º: &#x27;</span>)</span><br><span class="line">    print(win / N)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    N = <span class="number">100000</span></span><br><span class="line">    print(<span class="string">&#x27;ç©&#x27;</span> + <span class="built_in">str</span>(N) + <span class="string">&#x27;æ¬¡ï¼Œæ¯ä¸€æ¬¡éƒ½æ¢é—¨:&#x27;</span>)</span><br><span class="line">    winRate(<span class="literal">True</span>, N)</span><br><span class="line">    print()</span><br><span class="line">    print(<span class="string">&#x27;ç©&#x27;</span> + <span class="built_in">str</span>(N) + <span class="string">&#x27;æ¬¡ï¼Œæ¯ä¸€æ¬¡éƒ½ä¸æ¢é—¨:&#x27;</span>)</span><br><span class="line">    winRate(<span class="literal">False</span>, N)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç©100000æ¬¡ï¼Œæ¯ä¸€æ¬¡éƒ½æ¢é—¨:</span><br><span class="line">ä¸­å¥–ç‡ä¸º: </span><br><span class="line">0.66748</span><br><span class="line"></span><br><span class="line">ç©100000æ¬¡ï¼Œæ¯ä¸€æ¬¡éƒ½ä¸æ¢é—¨:</span><br><span class="line">ä¸­å¥–ç‡ä¸º: </span><br><span class="line">0.33008</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<h2 id="å·§å…‹åŠ›è±†é—®é¢˜"><a href="#å·§å…‹åŠ›è±†é—®é¢˜" class="headerlink" title="å·§å…‹åŠ›è±†é—®é¢˜"></a>å·§å…‹åŠ›è±†é—®é¢˜</h2><ul>
<li>è§èµ„æ–™</li>
</ul>
<h1 id="æ—¶é—´åºåˆ—"><a href="#æ—¶é—´åºåˆ—" class="headerlink" title="æ—¶é—´åºåˆ—"></a>æ—¶é—´åºåˆ—</h1><ul>
<li><p>æ—¶åºé—®é¢˜ä¹Ÿå¯ä½¿ç”¨ç¥ç»ç½‘ç»œé‡Œé¢çš„LSTM(é•¿çŸ­æ—¶è®°å¿†)</p>
</li>
<li><p>é¢„æµ‹çš„æ˜¯è¿‘æœŸçš„ï¼Œä¸æ˜¯é¢„æµ‹é•¿è¿œçš„(é•¿è¿œé¢„æµ‹éœ€è¦æŒ–æ˜æ›´å¤šç‰¹å¾ï¼Œæ·±åº¦å­¦ä¹ é‚£å—çš„)</p>
</li>
<li><p>å‡æ–¹å·®ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line">rms = sqrt(mean_squared_error(test, pred))<span class="comment"># æŠŠå®é™…å’Œé¢„æµ‹çš„æ”¾è¿›å»</span></span><br><span class="line">print(rms)</span><br></pre></td></tr></table></figure></li>
<li><p>è§<a href="https://www.bilibili.com/video/BV12h411d7Dm?p=10">https://www.bilibili.com/video/BV12h411d7Dm?p=10</a></p>
</li>
</ul>
<h2 id="ç®€å•æŒ‡æ•°å¹³æ»‘æ³•"><a href="#ç®€å•æŒ‡æ•°å¹³æ»‘æ³•" class="headerlink" title="ç®€å•æŒ‡æ•°å¹³æ»‘æ³•"></a>ç®€å•æŒ‡æ•°å¹³æ»‘æ³•</h2><ul>
<li>å¯¼å…¥æ•°æ®</li>
<li>åˆ‡åˆ†æ•°æ®</li>
<li>ä»£ç é€‚å½“ä¿®æ”¹å’Œæµ‹è¯•</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> statsmodels.tsa.api <span class="keyword">import</span> SimpleExpSmoothing</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    df = pd.read_csv(<span class="string">&#x27;train.csv&#x27;</span>)</span><br><span class="line">    train = df[<span class="number">0</span>:<span class="number">10392</span>]</span><br><span class="line">    test = df[<span class="number">10392</span>:]</span><br><span class="line">    pred = test.copy()</span><br><span class="line">    fit = SimpleExpSmoothing(np.asarray(train[<span class="string">&#x27;åˆ—å1&#x27;</span>])).fit(smoothing_level=<span class="number">0.6</span>, optimized=<span class="literal">False</span>)</span><br><span class="line">    pred[<span class="string">&#x27;åˆ—å2&#x27;</span>] = fit.forecast(<span class="built_in">len</span>(test))  <span class="comment"># éœ€è¦é¢„æµ‹å¤šé•¿</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”»å‡ºæ¥</span></span><br><span class="line">    plt.figure(figsize=(<span class="number">16</span>, <span class="number">8</span>))</span><br><span class="line">    plt.plot(train[<span class="string">&#x27;åˆ—å1&#x27;</span>], label=<span class="string">&#x27;Train&#x27;</span>)</span><br><span class="line">    plt.plot(test[<span class="string">&#x27;åˆ—å1&#x27;</span>], label=<span class="string">&#x27;Test&#x27;</span>)</span><br><span class="line">    plt.plot(pred[<span class="string">&#x27;åˆ—å2&#x27;</span>], label=<span class="string">&#x27;åˆ—å2&#x27;</span>)</span><br><span class="line">    plt.legend(loc=<span class="string">&#x27;best&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¯„ä¼°</span></span><br><span class="line">    rms = sqrt(mean_squared_error(test[<span class="string">&#x27;åˆ—å1&#x27;</span>], pred))</span><br><span class="line">    print(rms)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="éœå°”ç‰¹çº¿æ€§è¶‹åŠ¿æ³•"><a href="#éœå°”ç‰¹çº¿æ€§è¶‹åŠ¿æ³•" class="headerlink" title="éœå°”ç‰¹çº¿æ€§è¶‹åŠ¿æ³•"></a><strong>éœå°”ç‰¹çº¿æ€§è¶‹åŠ¿æ³•</strong></h2><ul>
<li><p>è€ƒè™‘åˆ°æ•°æ®é›†å˜åŒ–è¶‹åŠ¿çš„æ–¹æ³•å°±å«åšéœå°”ç‰¹çº¿æ€§è¶‹åŠ¿æ³•ï¼Œä»»ä½•å‘ˆç°æŸç§è¶‹åŠ¿(æ¯”å¦‚å•†ä¸Šå‡è¶‹åŠ¿)çš„æ•°æ®é›†éƒ½å¯ä»¥ç”¨éœå°”ç‰¹çº¿æ€§è¶‹åŠ¿æ³•ç”¨äºé¢„æµ‹</p>
</li>
<li><p>å…ˆçœ‹çœ‹æ˜¯å¦å‘ˆç°æŸç§è¶‹åŠ¿</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm sm.tsa.seasonal_decompose(train[<span class="string">&#x27;xxx&#x27;</span>]).plot() </span><br><span class="line">result = sm.tsa.stattools.adfuller(train[<span class="string">&#x27;xxx&#x27;</span>]) </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<ul>
<li>å¦‚æœæ˜¯çš„è¯å°±å¯ä»¥ä½¿ç”¨</li>
</ul>
</li>
<li><p>ä»£ç ç›¸å¯¹ä¸Šé¢åªéœ€æ”¹åŠ¨è¿™ä¸¤å¥ï¼Œå…¶ä»–é€‚å½“æ”¹å³å¯</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> statsmodels.tsa.api <span class="keyword">import</span> Holt</span><br><span class="line">fit = Holt(np.asarray(train[<span class="string">&#x27;xxx&#x27;</span>])).fit(smoothing_level=<span class="number">0.3</span>, smoothing_slope=<span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>


<h2 id="Holt-Winterså­£èŠ‚æ€§é¢„æµ‹æ¨¡å‹"><a href="#Holt-Winterså­£èŠ‚æ€§é¢„æµ‹æ¨¡å‹" class="headerlink" title="Holt-Winterså­£èŠ‚æ€§é¢„æµ‹æ¨¡å‹"></a>Holt-Winterså­£èŠ‚æ€§é¢„æµ‹æ¨¡å‹</h2><ul>
<li>ä½“ç°åœ¨å­£èŠ‚æ€§<ul>
<li>æ¯”å¦‚ä¸€ä¸ªæ°´æœåº—çš„é”€å”®æƒ…å†µï¼Œåœ¨å¤å­£æ”¶å…¥è¿œé«˜äºå…¶ä»–å­£èŠ‚</li>
</ul>
</li>
<li>åªéœ€æ”¹å˜ä¸€ç‚¹ä»£ç ,é€‰æ‹©äº†seasonal_period=7ä½œä¸ºæ¯å‘¨é‡å¤æ•°æ®</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> statsmodels.tsa.api <span class="keyword">import</span> ExponentialSmoothing</span><br><span class="line">fit1 = ExponentialSmoothing(np.asarray(train[<span class="string">&#x27;xxx&#x27;</span>]), seasonal_periods=<span class="number">7</span>, trend=<span class="string">&#x27;add&#x27;</span>, seasonal=<span class="string">&#x27;add&#x27;</span>, ).fit()</span><br></pre></td></tr></table></figure>


<h2 id="è‡ªå›å½’ç§»åŠ¨å¹³å‡æ¨¡å‹ï¼ˆARIMAï¼‰"><a href="#è‡ªå›å½’ç§»åŠ¨å¹³å‡æ¨¡å‹ï¼ˆARIMAï¼‰" class="headerlink" title="è‡ªå›å½’ç§»åŠ¨å¹³å‡æ¨¡å‹ï¼ˆARIMAï¼‰"></a><strong>è‡ªå›å½’ç§»åŠ¨å¹³å‡æ¨¡å‹ï¼ˆARIMAï¼‰</strong></h2><ul>
<li>æŒ‡æ•°å¹³æ»‘æ¨¡å‹éƒ½æ˜¯åŸºäºæ•°æ®ä¸­çš„è¶‹åŠ¿å’Œå­£èŠ‚æ€§çš„æè¿°ï¼Œè€Œè‡ªå›å½’ç§»åŠ¨å¹³å‡æ¨¡å‹çš„ç›®æ ‡æ˜¯æè¿°æ•°æ®ä¸­å½¼æ­¤ä¹‹é—´çš„å…³ç³»ã€‚ARIMAçš„ä¸€ä¸ªä¼˜åŒ–ç‰ˆå°±æ˜¯å­£èŠ‚æ€§ARIMAã€‚å®ƒåƒHolt-Winterså­£èŠ‚æ€§é¢„æµ‹æ¨¡å‹ä¸€æ ·ï¼Œä¹ŸæŠŠæ•°æ®é›†çš„å­£èŠ‚æ€§è€ƒè™‘åœ¨å†…ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm</span><br><span class="line">pred = test.copy() </span><br><span class="line">fit1 = sm.tsa.statespace.SARIMAX(train.xxx, order=(<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>), seasonal_order=(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">7</span>)).fit() pred[<span class="string">&#x27;SARIMA&#x27;</span>]=fit1.predict(start=<span class="string">&quot;20xx-xx-xx&quot;</span>,end=<span class="string">&quot;20xx-xx- xx&quot;</span>,dynamic=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>å‚è€ƒï¼š<a href="https://www.bilibili.com/video/BV12h411d7Dm?p=12">https://www.bilibili.com/video/BV12h411d7Dm?p=12</a></p>
</li>
<li><p>æ—¶é—´åºåˆ—æœ€åéƒ½è¦è¯„ä¼°ä¸€ä¸‹</p>
</li>
</ul>
<h1 id="SVM"><a href="#SVM" class="headerlink" title="SVM"></a>SVM</h1><ul>
<li>è§ä¹‹å‰çš„èµ„æ–™sklearn</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">clf = svm.SVC(C=<span class="number">0.8</span>, kernel=<span class="string">&#x27;rbf&#x27;</span>, gamma=<span class="number">20</span>, decision_function_shape=<span class="string">&#x27;ovr&#x27;</span>)</span><br><span class="line">clf.fit(x_train, y_train.ravel())</span><br></pre></td></tr></table></figure>
<ul>
<li><p>è°ƒå‚ï¼Œå‚æ•°è§èµ„æ–™</p>
</li>
<li><p><a href="https://github.com/JimouChen/python-application/blob/master/PythonLearning/MathematicalModeling/note.md">æˆ‘çš„æ›´æ–°</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>æ•°å­¦å»ºæ¨¡</category>
      </categories>
      <tags>
        <tag>Pythonæ•°å­¦å»ºæ¨¡</tag>
      </tags>
  </entry>
</search>
